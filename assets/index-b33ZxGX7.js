var vb=Object.defineProperty;var xb=(t,e,n)=>e in t?vb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Mn=(t,e,n)=>xb(t,typeof e!="symbol"?e+"":e,n);function wb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function _b(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $0={exports:{}},$c={},H0={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=Symbol.for("react.element"),bb=Symbol.for("react.portal"),Eb=Symbol.for("react.fragment"),Nb=Symbol.for("react.strict_mode"),Tb=Symbol.for("react.profiler"),Ib=Symbol.for("react.provider"),Sb=Symbol.for("react.context"),kb=Symbol.for("react.forward_ref"),Cb=Symbol.for("react.suspense"),jb=Symbol.for("react.memo"),Ab=Symbol.for("react.lazy"),Qp=Symbol.iterator;function Pb(t){return t===null||typeof t!="object"?null:(t=Qp&&t[Qp]||t["@@iterator"],typeof t=="function"?t:null)}var W0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q0=Object.assign,G0={};function Oi(t,e,n){this.props=t,this.context=e,this.refs=G0,this.updater=n||W0}Oi.prototype.isReactComponent={};Oi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function K0(){}K0.prototype=Oi.prototype;function hf(t,e,n){this.props=t,this.context=e,this.refs=G0,this.updater=n||W0}var ff=hf.prototype=new K0;ff.constructor=hf;q0(ff,Oi.prototype);ff.isPureReactComponent=!0;var Jp=Array.isArray,Q0=Object.prototype.hasOwnProperty,mf={current:null},J0={key:!0,ref:!0,__self:!0,__source:!0};function X0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Q0.call(e,r)&&!J0.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:No,type:t,key:i,ref:o,props:s,_owner:mf.current}}function Rb(t,e){return{$$typeof:No,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pf(t){return typeof t=="object"&&t!==null&&t.$$typeof===No}function Db(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xp=/\/+/g;function Wu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Db(""+t.key):e.toString(36)}function Sl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case No:case bb:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Wu(o,0):r,Jp(s)?(n="",t!=null&&(n=t.replace(Xp,"$&/")+"/"),Sl(s,e,n,"",function(d){return d})):s!=null&&(pf(s)&&(s=Rb(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xp,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Jp(t))for(var c=0;c<t.length;c++){i=t[c];var u=r+Wu(i,c);o+=Sl(i,e,n,u,s)}else if(u=Pb(t),typeof u=="function")for(t=u.call(t),c=0;!(i=t.next()).done;)i=i.value,u=r+Wu(i,c++),o+=Sl(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sl(t,e,n){if(t==null)return t;var r=[],s=0;return Sl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Vb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},kl={transition:null},Ob={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:kl,ReactCurrentOwner:mf};function Y0(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:sl,forEach:function(t,e,n){sl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sl(t,function(){e++}),e},toArray:function(t){return sl(t,function(e){return e})||[]},only:function(t){if(!pf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=Oi;ie.Fragment=Eb;ie.Profiler=Tb;ie.PureComponent=hf;ie.StrictMode=Nb;ie.Suspense=Cb;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ob;ie.act=Y0;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=q0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=mf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)Q0.call(e,u)&&!J0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:No,type:t.type,key:s,ref:i,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:Sb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ib,_context:t},t.Consumer=t};ie.createElement=X0;ie.createFactory=function(t){var e=X0.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:kb,render:t}};ie.isValidElement=pf;ie.lazy=function(t){return{$$typeof:Ab,_payload:{_status:-1,_result:t},_init:Vb}};ie.memo=function(t,e){return{$$typeof:jb,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=kl.transition;kl.transition={};try{t()}finally{kl.transition=e}};ie.unstable_act=Y0;ie.useCallback=function(t,e){return Nt.current.useCallback(t,e)};ie.useContext=function(t){return Nt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return Nt.current.useEffect(t,e)};ie.useId=function(){return Nt.current.useId()};ie.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return Nt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};ie.useRef=function(t){return Nt.current.useRef(t)};ie.useState=function(t){return Nt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return Nt.current.useTransition()};ie.version="18.3.1";H0.exports=ie;var R=H0.exports;const di=_b(R),Mb=wb({__proto__:null,default:di},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb=R,Fb=Symbol.for("react.element"),Ub=Symbol.for("react.fragment"),zb=Object.prototype.hasOwnProperty,Bb=Lb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$b={key:!0,ref:!0,__self:!0,__source:!0};function Z0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zb.call(e,r)&&!$b.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Fb,type:t,key:i,ref:o,props:s,_owner:Bb.current}}$c.Fragment=Ub;$c.jsx=Z0;$c.jsxs=Z0;$0.exports=$c;var a=$0.exports,ev={exports:{}},$t={},tv={exports:{}},nv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,G){var K=B.length;B.push(G);e:for(;0<K;){var he=K-1>>>1,ae=B[he];if(0<s(ae,G))B[he]=G,B[K]=ae,K=he;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],K=B.pop();if(K!==G){B[0]=K;e:for(var he=0,ae=B.length,ye=ae>>>1;he<ye;){var Dt=2*(he+1)-1,wt=B[Dt],It=Dt+1,Ue=B[It];if(0>s(wt,K))It<ae&&0>s(Ue,wt)?(B[he]=Ue,B[It]=K,he=It):(B[he]=wt,B[Dt]=K,he=Dt);else if(It<ae&&0>s(Ue,K))B[he]=Ue,B[It]=K,he=It;else break e}}return G}function s(B,G){var K=B.sortIndex-G.sortIndex;return K!==0?K:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,p=null,g=3,_=!1,T=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=B)r(d),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(d)}}function N(B){if(j=!1,b(B),!T)if(n(u)!==null)T=!0,re(O);else{var G=n(d);G!==null&&pe(N,G.startTime-B)}}function O(B,G){T=!1,j&&(j=!1,v(w),w=-1),_=!0;var K=g;try{for(b(G),p=n(u);p!==null&&(!(p.expirationTime>G)||B&&!A());){var he=p.callback;if(typeof he=="function"){p.callback=null,g=p.priorityLevel;var ae=he(p.expirationTime<=G);G=t.unstable_now(),typeof ae=="function"?p.callback=ae:p===n(u)&&r(u),b(G)}else r(u);p=n(u)}if(p!==null)var ye=!0;else{var Dt=n(d);Dt!==null&&pe(N,Dt.startTime-G),ye=!1}return ye}finally{p=null,g=K,_=!1}}var M=!1,I=null,w=-1,E=5,S=-1;function A(){return!(t.unstable_now()-S<E)}function P(){if(I!==null){var B=t.unstable_now();S=B;var G=!0;try{G=I(!0,B)}finally{G?C():(M=!1,I=null)}}else M=!1}var C;if(typeof y=="function")C=function(){y(P)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ue=Q.port2;Q.port1.onmessage=P,C=function(){ue.postMessage(null)}}else C=function(){k(P,0)};function re(B){I=B,M||(M=!0,C())}function pe(B,G){w=k(function(){B(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){T||_||(T=!0,re(O))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var K=g;g=G;try{return B()}finally{g=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=g;g=B;try{return G()}finally{g=K}},t.unstable_scheduleCallback=function(B,G,K){var he=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?he+K:he):K=he,B){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=K+ae,B={id:f++,callback:G,priorityLevel:B,startTime:K,expirationTime:ae,sortIndex:-1},K>he?(B.sortIndex=K,e(d,B),n(u)===null&&B===n(d)&&(j?(v(w),w=-1):j=!0,pe(N,K-he))):(B.sortIndex=ae,e(u,B),T||_||(T=!0,re(O))),B},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(B){var G=g;return function(){var K=g;g=G;try{return B.apply(this,arguments)}finally{g=K}}}})(nv);tv.exports=nv;var Hb=tv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb=R,Bt=Hb;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rv=new Set,Qa={};function Ds(t,e){bi(t,e),bi(t+"Capture",e)}function bi(t,e){for(Qa[t]=e,t=0;t<e.length;t++)rv.add(e[t])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dd=Object.prototype.hasOwnProperty,qb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yp={},Zp={};function Gb(t){return Dd.call(Zp,t)?!0:Dd.call(Yp,t)?!1:qb.test(t)?Zp[t]=!0:(Yp[t]=!0,!1)}function Kb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qb(t,e,n,r){if(e===null||typeof e>"u"||Kb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ot[t]=new Tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ot[e]=new Tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ot[t]=new Tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ot[t]=new Tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ot[t]=new Tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ot[t]=new Tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ot[t]=new Tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ot[t]=new Tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ot[t]=new Tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gf=/[\-:]([a-z])/g;function yf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gf,yf);ot[e]=new Tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gf,yf);ot[e]=new Tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gf,yf);ot[e]=new Tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ot[t]=new Tt(t,1,!1,t.toLowerCase(),null,!1,!1)});ot.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ot[t]=new Tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function vf(t,e,n,r){var s=ot.hasOwnProperty(e)?ot[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qb(e,n,s,r)&&(n=null),r||s===null?Gb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var sr=Wb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,il=Symbol.for("react.element"),Ys=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),xf=Symbol.for("react.strict_mode"),Vd=Symbol.for("react.profiler"),sv=Symbol.for("react.provider"),iv=Symbol.for("react.context"),wf=Symbol.for("react.forward_ref"),Od=Symbol.for("react.suspense"),Md=Symbol.for("react.suspense_list"),_f=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),av=Symbol.for("react.offscreen"),eg=Symbol.iterator;function ma(t){return t===null||typeof t!="object"?null:(t=eg&&t[eg]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,qu;function Ia(t){if(qu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qu=e&&e[1]||""}return`
`+qu+t}var Gu=!1;function Ku(t,e){if(!t||Gu)return"";Gu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,c=i.length-1;1<=o&&0<=c&&s[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==i[c]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=c);break}}}finally{Gu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ia(t):""}function Jb(t){switch(t.tag){case 5:return Ia(t.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 2:case 15:return t=Ku(t.type,!1),t;case 11:return t=Ku(t.type.render,!1),t;case 1:return t=Ku(t.type,!0),t;default:return""}}function Ld(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zs:return"Fragment";case Ys:return"Portal";case Vd:return"Profiler";case xf:return"StrictMode";case Od:return"Suspense";case Md:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iv:return(t.displayName||"Context")+".Consumer";case sv:return(t._context.displayName||"Context")+".Provider";case wf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _f:return e=t.displayName||null,e!==null?e:Ld(t.type)||"Memo";case hr:e=t._payload,t=t._init;try{return Ld(t(e))}catch{}}return null}function Xb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ld(e);case 8:return e===xf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ur(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ov(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yb(t){var e=ov(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function al(t){t._valueTracker||(t._valueTracker=Yb(t))}function lv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ov(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ql(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fd(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ur(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cv(t,e){e=e.checked,e!=null&&vf(t,"checked",e,!1)}function Ud(t,e){cv(t,e);var n=Ur(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zd(t,e.type,n):e.hasOwnProperty("defaultValue")&&zd(t,e.type,Ur(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ng(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zd(t,e,n){(e!=="number"||Ql(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sa=Array.isArray;function hi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ur(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Bd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Sa(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ur(n)}}function uv(t,e){var n=Ur(e.value),r=Ur(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $d(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ol,hv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ol=ol||document.createElement("div"),ol.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ol.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ja(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zb=["Webkit","ms","Moz","O"];Object.keys(Da).forEach(function(t){Zb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Da[e]=Da[t]})});function fv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Da.hasOwnProperty(t)&&Da[t]?(""+e).trim():e+"px"}function mv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=fv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var eE=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hd(t,e){if(e){if(eE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Wd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qd=null;function bf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gd=null,fi=null,mi=null;function ig(t){if(t=So(t)){if(typeof Gd!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Kc(e),Gd(t.stateNode,t.type,e))}}function pv(t){fi?mi?mi.push(t):mi=[t]:fi=t}function gv(){if(fi){var t=fi,e=mi;if(mi=fi=null,ig(t),e)for(t=0;t<e.length;t++)ig(e[t])}}function yv(t,e){return t(e)}function vv(){}var Qu=!1;function xv(t,e,n){if(Qu)return t(e,n);Qu=!0;try{return yv(t,e,n)}finally{Qu=!1,(fi!==null||mi!==null)&&(vv(),gv())}}function Xa(t,e){var n=t.stateNode;if(n===null)return null;var r=Kc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Kd=!1;if(Kn)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){Kd=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{Kd=!1}function tE(t,e,n,r,s,i,o,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Va=!1,Jl=null,Xl=!1,Qd=null,nE={onError:function(t){Va=!0,Jl=t}};function rE(t,e,n,r,s,i,o,c,u){Va=!1,Jl=null,tE.apply(nE,arguments)}function sE(t,e,n,r,s,i,o,c,u){if(rE.apply(this,arguments),Va){if(Va){var d=Jl;Va=!1,Jl=null}else throw Error(z(198));Xl||(Xl=!0,Qd=d)}}function Vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ag(t){if(Vs(t)!==t)throw Error(z(188))}function iE(t){var e=t.alternate;if(!e){if(e=Vs(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ag(s),t;if(i===r)return ag(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function _v(t){return t=iE(t),t!==null?bv(t):null}function bv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bv(t);if(e!==null)return e;t=t.sibling}return null}var Ev=Bt.unstable_scheduleCallback,og=Bt.unstable_cancelCallback,aE=Bt.unstable_shouldYield,oE=Bt.unstable_requestPaint,Fe=Bt.unstable_now,lE=Bt.unstable_getCurrentPriorityLevel,Ef=Bt.unstable_ImmediatePriority,Nv=Bt.unstable_UserBlockingPriority,Yl=Bt.unstable_NormalPriority,cE=Bt.unstable_LowPriority,Tv=Bt.unstable_IdlePriority,Hc=null,En=null;function uE(t){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Hc,t,void 0,(t.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:fE,dE=Math.log,hE=Math.LN2;function fE(t){return t>>>=0,t===0?32:31-(dE(t)/hE|0)|0}var ll=64,cl=4194304;function ka(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~s;c!==0?r=ka(c):(i&=o,i!==0&&(r=ka(i)))}else o=n&~s,o!==0?r=ka(o):i!==0&&(r=ka(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hn(e),s=1<<n,r|=t[n],e&=~s;return r}function mE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-hn(i),c=1<<o,u=s[o];u===-1?(!(c&n)||c&r)&&(s[o]=mE(c,e)):u<=e&&(t.expiredLanes|=c),i&=~c}}function Jd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Iv(){var t=ll;return ll<<=1,!(ll&4194240)&&(ll=64),t}function Ju(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function To(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hn(e),t[e]=n}function gE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-hn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Nf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xe=0;function Sv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kv,Tf,Cv,jv,Av,Xd=!1,ul=[],Er=null,Nr=null,Tr=null,Ya=new Map,Za=new Map,mr=[],yE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lg(t,e){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Ya.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(e.pointerId)}}function ga(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=So(e),e!==null&&Tf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function vE(t,e,n,r,s){switch(e){case"focusin":return Er=ga(Er,t,e,n,r,s),!0;case"dragenter":return Nr=ga(Nr,t,e,n,r,s),!0;case"mouseover":return Tr=ga(Tr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ya.set(i,ga(Ya.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Za.set(i,ga(Za.get(i)||null,t,e,n,r,s)),!0}return!1}function Pv(t){var e=hs(t.target);if(e!==null){var n=Vs(e);if(n!==null){if(e=n.tag,e===13){if(e=wv(n),e!==null){t.blockedOn=e,Av(t.priority,function(){Cv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qd=r,n.target.dispatchEvent(r),qd=null}else return e=So(n),e!==null&&Tf(e),t.blockedOn=n,!1;e.shift()}return!0}function cg(t,e,n){Cl(t)&&n.delete(e)}function xE(){Xd=!1,Er!==null&&Cl(Er)&&(Er=null),Nr!==null&&Cl(Nr)&&(Nr=null),Tr!==null&&Cl(Tr)&&(Tr=null),Ya.forEach(cg),Za.forEach(cg)}function ya(t,e){t.blockedOn===e&&(t.blockedOn=null,Xd||(Xd=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,xE)))}function eo(t){function e(s){return ya(s,t)}if(0<ul.length){ya(ul[0],t);for(var n=1;n<ul.length;n++){var r=ul[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Er!==null&&ya(Er,t),Nr!==null&&ya(Nr,t),Tr!==null&&ya(Tr,t),Ya.forEach(e),Za.forEach(e),n=0;n<mr.length;n++)r=mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)Pv(n),n.blockedOn===null&&mr.shift()}var pi=sr.ReactCurrentBatchConfig,ec=!0;function wE(t,e,n,r){var s=xe,i=pi.transition;pi.transition=null;try{xe=1,If(t,e,n,r)}finally{xe=s,pi.transition=i}}function _E(t,e,n,r){var s=xe,i=pi.transition;pi.transition=null;try{xe=4,If(t,e,n,r)}finally{xe=s,pi.transition=i}}function If(t,e,n,r){if(ec){var s=Yd(t,e,n,r);if(s===null)ad(t,e,r,tc,n),lg(t,r);else if(vE(s,t,e,n,r))r.stopPropagation();else if(lg(t,r),e&4&&-1<yE.indexOf(t)){for(;s!==null;){var i=So(s);if(i!==null&&kv(i),i=Yd(t,e,n,r),i===null&&ad(t,e,r,tc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ad(t,e,r,null,n)}}var tc=null;function Yd(t,e,n,r){if(tc=null,t=bf(r),t=hs(t),t!==null)if(e=Vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tc=t,null}function Rv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lE()){case Ef:return 1;case Nv:return 4;case Yl:case cE:return 16;case Tv:return 536870912;default:return 16}default:return 16}}var xr=null,Sf=null,jl=null;function Dv(){if(jl)return jl;var t,e=Sf,n=e.length,r,s="value"in xr?xr.value:xr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return jl=s.slice(t,1<r?1-r:void 0)}function Al(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dl(){return!0}function ug(){return!1}function Ht(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dl:ug,this.isPropagationStopped=ug,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),e}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kf=Ht(Mi),Io=De({},Mi,{view:0,detail:0}),bE=Ht(Io),Xu,Yu,va,Wc=De({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==va&&(va&&t.type==="mousemove"?(Xu=t.screenX-va.screenX,Yu=t.screenY-va.screenY):Yu=Xu=0,va=t),Xu)},movementY:function(t){return"movementY"in t?t.movementY:Yu}}),dg=Ht(Wc),EE=De({},Wc,{dataTransfer:0}),NE=Ht(EE),TE=De({},Io,{relatedTarget:0}),Zu=Ht(TE),IE=De({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),SE=Ht(IE),kE=De({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CE=Ht(kE),jE=De({},Mi,{data:0}),hg=Ht(jE),AE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RE[t])?!!e[t]:!1}function Cf(){return DE}var VE=De({},Io,{key:function(t){if(t.key){var e=AE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Al(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cf,charCode:function(t){return t.type==="keypress"?Al(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Al(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OE=Ht(VE),ME=De({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fg=Ht(ME),LE=De({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cf}),FE=Ht(LE),UE=De({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),zE=Ht(UE),BE=De({},Wc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$E=Ht(BE),HE=[9,13,27,32],jf=Kn&&"CompositionEvent"in window,Oa=null;Kn&&"documentMode"in document&&(Oa=document.documentMode);var WE=Kn&&"TextEvent"in window&&!Oa,Vv=Kn&&(!jf||Oa&&8<Oa&&11>=Oa),mg=" ",pg=!1;function Ov(t,e){switch(t){case"keyup":return HE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ei=!1;function qE(t,e){switch(t){case"compositionend":return Mv(e);case"keypress":return e.which!==32?null:(pg=!0,mg);case"textInput":return t=e.data,t===mg&&pg?null:t;default:return null}}function GE(t,e){if(ei)return t==="compositionend"||!jf&&Ov(t,e)?(t=Dv(),jl=Sf=xr=null,ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vv&&e.locale!=="ko"?null:e.data;default:return null}}var KE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KE[t.type]:e==="textarea"}function Lv(t,e,n,r){pv(r),e=nc(e,"onChange"),0<e.length&&(n=new kf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ma=null,to=null;function QE(t){Qv(t,0)}function qc(t){var e=ri(t);if(lv(e))return t}function JE(t,e){if(t==="change")return e}var Fv=!1;if(Kn){var ed;if(Kn){var td="oninput"in document;if(!td){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),td=typeof yg.oninput=="function"}ed=td}else ed=!1;Fv=ed&&(!document.documentMode||9<document.documentMode)}function vg(){Ma&&(Ma.detachEvent("onpropertychange",Uv),to=Ma=null)}function Uv(t){if(t.propertyName==="value"&&qc(to)){var e=[];Lv(e,to,t,bf(t)),xv(QE,e)}}function XE(t,e,n){t==="focusin"?(vg(),Ma=e,to=n,Ma.attachEvent("onpropertychange",Uv)):t==="focusout"&&vg()}function YE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qc(to)}function ZE(t,e){if(t==="click")return qc(e)}function eN(t,e){if(t==="input"||t==="change")return qc(e)}function tN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:tN;function no(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Dd.call(e,s)||!yn(t[s],e[s]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wg(t,e){var n=xg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xg(n)}}function zv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bv(){for(var t=window,e=Ql();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ql(t.document)}return e}function Af(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nN(t){var e=Bv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zv(n.ownerDocument.documentElement,n)){if(r!==null&&Af(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=wg(n,i);var o=wg(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rN=Kn&&"documentMode"in document&&11>=document.documentMode,ti=null,Zd=null,La=null,eh=!1;function _g(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eh||ti==null||ti!==Ql(r)||(r=ti,"selectionStart"in r&&Af(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),La&&no(La,r)||(La=r,r=nc(Zd,"onSelect"),0<r.length&&(e=new kf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ti)))}function hl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ni={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionend:hl("Transition","TransitionEnd")},nd={},$v={};Kn&&($v=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function Gc(t){if(nd[t])return nd[t];if(!ni[t])return t;var e=ni[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $v)return nd[t]=e[n];return t}var Hv=Gc("animationend"),Wv=Gc("animationiteration"),qv=Gc("animationstart"),Gv=Gc("transitionend"),Kv=new Map,bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(t,e){Kv.set(t,e),Ds(e,[t])}for(var rd=0;rd<bg.length;rd++){var sd=bg[rd],sN=sd.toLowerCase(),iN=sd[0].toUpperCase()+sd.slice(1);Qr(sN,"on"+iN)}Qr(Hv,"onAnimationEnd");Qr(Wv,"onAnimationIteration");Qr(qv,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(Gv,"onTransitionEnd");bi("onMouseEnter",["mouseout","mouseover"]);bi("onMouseLeave",["mouseout","mouseover"]);bi("onPointerEnter",["pointerout","pointerover"]);bi("onPointerLeave",["pointerout","pointerover"]);Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function Eg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sE(r,e,void 0,t),t.currentTarget=null}function Qv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==i&&s.isPropagationStopped())break e;Eg(s,c,d),i=u}else for(o=0;o<r.length;o++){if(c=r[o],u=c.instance,d=c.currentTarget,c=c.listener,u!==i&&s.isPropagationStopped())break e;Eg(s,c,d),i=u}}}if(Xl)throw t=Qd,Xl=!1,Qd=null,t}function Ie(t,e){var n=e[ih];n===void 0&&(n=e[ih]=new Set);var r=t+"__bubble";n.has(r)||(Jv(e,t,2,!1),n.add(r))}function id(t,e,n){var r=0;e&&(r|=4),Jv(n,t,r,e)}var fl="_reactListening"+Math.random().toString(36).slice(2);function ro(t){if(!t[fl]){t[fl]=!0,rv.forEach(function(n){n!=="selectionchange"&&(aN.has(n)||id(n,!1,t),id(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fl]||(e[fl]=!0,id("selectionchange",!1,e))}}function Jv(t,e,n,r){switch(Rv(e)){case 1:var s=wE;break;case 4:s=_E;break;default:s=If}n=s.bind(null,e,n,t),s=void 0,!Kd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ad(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;c!==null;){if(o=hs(c),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}c=c.parentNode}}r=r.return}xv(function(){var d=i,f=bf(n),p=[];e:{var g=Kv.get(t);if(g!==void 0){var _=kf,T=t;switch(t){case"keypress":if(Al(n)===0)break e;case"keydown":case"keyup":_=OE;break;case"focusin":T="focus",_=Zu;break;case"focusout":T="blur",_=Zu;break;case"beforeblur":case"afterblur":_=Zu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=NE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=FE;break;case Hv:case Wv:case qv:_=SE;break;case Gv:_=zE;break;case"scroll":_=bE;break;case"wheel":_=$E;break;case"copy":case"cut":case"paste":_=CE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=fg}var j=(e&4)!==0,k=!j&&t==="scroll",v=j?g!==null?g+"Capture":null:g;j=[];for(var y=d,b;y!==null;){b=y;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,v!==null&&(N=Xa(y,v),N!=null&&j.push(so(y,N,b)))),k)break;y=y.return}0<j.length&&(g=new _(g,T,null,n,f),p.push({event:g,listeners:j}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",g&&n!==qd&&(T=n.relatedTarget||n.fromElement)&&(hs(T)||T[Qn]))break e;if((_||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,_?(T=n.relatedTarget||n.toElement,_=d,T=T?hs(T):null,T!==null&&(k=Vs(T),T!==k||T.tag!==5&&T.tag!==6)&&(T=null)):(_=null,T=d),_!==T)){if(j=dg,N="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(j=fg,N="onPointerLeave",v="onPointerEnter",y="pointer"),k=_==null?g:ri(_),b=T==null?g:ri(T),g=new j(N,y+"leave",_,n,f),g.target=k,g.relatedTarget=b,N=null,hs(f)===d&&(j=new j(v,y+"enter",T,n,f),j.target=b,j.relatedTarget=k,N=j),k=N,_&&T)t:{for(j=_,v=T,y=0,b=j;b;b=Ws(b))y++;for(b=0,N=v;N;N=Ws(N))b++;for(;0<y-b;)j=Ws(j),y--;for(;0<b-y;)v=Ws(v),b--;for(;y--;){if(j===v||v!==null&&j===v.alternate)break t;j=Ws(j),v=Ws(v)}j=null}else j=null;_!==null&&Ng(p,g,_,j,!1),T!==null&&k!==null&&Ng(p,k,T,j,!0)}}e:{if(g=d?ri(d):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var O=JE;else if(gg(g))if(Fv)O=eN;else{O=YE;var M=XE}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(O=ZE);if(O&&(O=O(t,d))){Lv(p,O,n,f);break e}M&&M(t,g,d),t==="focusout"&&(M=g._wrapperState)&&M.controlled&&g.type==="number"&&zd(g,"number",g.value)}switch(M=d?ri(d):window,t){case"focusin":(gg(M)||M.contentEditable==="true")&&(ti=M,Zd=d,La=null);break;case"focusout":La=Zd=ti=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,_g(p,n,f);break;case"selectionchange":if(rN)break;case"keydown":case"keyup":_g(p,n,f)}var I;if(jf)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ei?Ov(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(Vv&&n.locale!=="ko"&&(ei||w!=="onCompositionStart"?w==="onCompositionEnd"&&ei&&(I=Dv()):(xr=f,Sf="value"in xr?xr.value:xr.textContent,ei=!0)),M=nc(d,w),0<M.length&&(w=new hg(w,t,null,n,f),p.push({event:w,listeners:M}),I?w.data=I:(I=Mv(n),I!==null&&(w.data=I)))),(I=WE?qE(t,n):GE(t,n))&&(d=nc(d,"onBeforeInput"),0<d.length&&(f=new hg("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=I))}Qv(p,e)})}function so(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xa(t,n),i!=null&&r.unshift(so(t,i,s)),i=Xa(t,e),i!=null&&r.push(so(t,i,s))),t=t.return}return r}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ng(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&d!==null&&(c=d,s?(u=Xa(n,i),u!=null&&o.unshift(so(n,u,c))):s||(u=Xa(n,i),u!=null&&o.push(so(n,u,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var oN=/\r\n?/g,lN=/\u0000|\uFFFD/g;function Tg(t){return(typeof t=="string"?t:""+t).replace(oN,`
`).replace(lN,"")}function ml(t,e,n){if(e=Tg(e),Tg(t)!==e&&n)throw Error(z(425))}function rc(){}var th=null,nh=null;function rh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sh=typeof setTimeout=="function"?setTimeout:void 0,cN=typeof clearTimeout=="function"?clearTimeout:void 0,Ig=typeof Promise=="function"?Promise:void 0,uN=typeof queueMicrotask=="function"?queueMicrotask:typeof Ig<"u"?function(t){return Ig.resolve(null).then(t).catch(dN)}:sh;function dN(t){setTimeout(function(){throw t})}function od(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),eo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);eo(e)}function Ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Li=Math.random().toString(36).slice(2),bn="__reactFiber$"+Li,io="__reactProps$"+Li,Qn="__reactContainer$"+Li,ih="__reactEvents$"+Li,hN="__reactListeners$"+Li,fN="__reactHandles$"+Li;function hs(t){var e=t[bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qn]||n[bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sg(t);t!==null;){if(n=t[bn])return n;t=Sg(t)}return e}t=n,n=t.parentNode}return null}function So(t){return t=t[bn]||t[Qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ri(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Kc(t){return t[io]||null}var ah=[],si=-1;function Jr(t){return{current:t}}function Ce(t){0>si||(t.current=ah[si],ah[si]=null,si--)}function Ne(t,e){si++,ah[si]=t.current,t.current=e}var zr={},vt=Jr(zr),At=Jr(!1),bs=zr;function Ei(t,e){var n=t.type.contextTypes;if(!n)return zr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(t){return t=t.childContextTypes,t!=null}function sc(){Ce(At),Ce(vt)}function kg(t,e,n){if(vt.current!==zr)throw Error(z(168));Ne(vt,e),Ne(At,n)}function Xv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,Xb(t)||"Unknown",s));return De({},n,r)}function ic(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zr,bs=vt.current,Ne(vt,t),Ne(At,At.current),!0}function Cg(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=Xv(t,e,bs),r.__reactInternalMemoizedMergedChildContext=t,Ce(At),Ce(vt),Ne(vt,t)):Ce(At),Ne(At,n)}var Fn=null,Qc=!1,ld=!1;function Yv(t){Fn===null?Fn=[t]:Fn.push(t)}function mN(t){Qc=!0,Yv(t)}function Xr(){if(!ld&&Fn!==null){ld=!0;var t=0,e=xe;try{var n=Fn;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fn=null,Qc=!1}catch(s){throw Fn!==null&&(Fn=Fn.slice(t+1)),Ev(Ef,Xr),s}finally{xe=e,ld=!1}}return null}var ii=[],ai=0,ac=null,oc=0,Gt=[],Kt=0,Es=null,$n=1,Hn="";function os(t,e){ii[ai++]=oc,ii[ai++]=ac,ac=t,oc=e}function Zv(t,e,n){Gt[Kt++]=$n,Gt[Kt++]=Hn,Gt[Kt++]=Es,Es=t;var r=$n;t=Hn;var s=32-hn(r)-1;r&=~(1<<s),n+=1;var i=32-hn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,$n=1<<32-hn(e)+s|n<<s|r,Hn=i+t}else $n=1<<i|n<<s|r,Hn=t}function Pf(t){t.return!==null&&(os(t,1),Zv(t,1,0))}function Rf(t){for(;t===ac;)ac=ii[--ai],ii[ai]=null,oc=ii[--ai],ii[ai]=null;for(;t===Es;)Es=Gt[--Kt],Gt[Kt]=null,Hn=Gt[--Kt],Gt[Kt]=null,$n=Gt[--Kt],Gt[Kt]=null}var zt=null,Ft=null,je=!1,cn=null;function ex(t,e){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zt=t,Ft=Ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zt=t,Ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Es!==null?{id:$n,overflow:Hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zt=t,Ft=null,!0):!1;default:return!1}}function oh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lh(t){if(je){var e=Ft;if(e){var n=e;if(!jg(t,e)){if(oh(t))throw Error(z(418));e=Ir(n.nextSibling);var r=zt;e&&jg(t,e)?ex(r,n):(t.flags=t.flags&-4097|2,je=!1,zt=t)}}else{if(oh(t))throw Error(z(418));t.flags=t.flags&-4097|2,je=!1,zt=t}}}function Ag(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zt=t}function pl(t){if(t!==zt)return!1;if(!je)return Ag(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rh(t.type,t.memoizedProps)),e&&(e=Ft)){if(oh(t))throw tx(),Error(z(418));for(;e;)ex(t,e),e=Ir(e.nextSibling)}if(Ag(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ft=Ir(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ft=null}}else Ft=zt?Ir(t.stateNode.nextSibling):null;return!0}function tx(){for(var t=Ft;t;)t=Ir(t.nextSibling)}function Ni(){Ft=zt=null,je=!1}function Df(t){cn===null?cn=[t]:cn.push(t)}var pN=sr.ReactCurrentBatchConfig;function xa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var c=s.refs;o===null?delete c[i]:c[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function gl(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pg(t){var e=t._init;return e(t._payload)}function nx(t){function e(v,y){if(t){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=jr(v,y),v.index=0,v.sibling=null,v}function i(v,y,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function c(v,y,b,N){return y===null||y.tag!==6?(y=pd(b,v.mode,N),y.return=v,y):(y=s(y,b),y.return=v,y)}function u(v,y,b,N){var O=b.type;return O===Zs?f(v,y,b.props.children,N,b.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===hr&&Pg(O)===y.type)?(N=s(y,b.props),N.ref=xa(v,y,b),N.return=v,N):(N=Ll(b.type,b.key,b.props,null,v.mode,N),N.ref=xa(v,y,b),N.return=v,N)}function d(v,y,b,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=gd(b,v.mode,N),y.return=v,y):(y=s(y,b.children||[]),y.return=v,y)}function f(v,y,b,N,O){return y===null||y.tag!==7?(y=vs(b,v.mode,N,O),y.return=v,y):(y=s(y,b),y.return=v,y)}function p(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=pd(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case il:return b=Ll(y.type,y.key,y.props,null,v.mode,b),b.ref=xa(v,null,y),b.return=v,b;case Ys:return y=gd(y,v.mode,b),y.return=v,y;case hr:var N=y._init;return p(v,N(y._payload),b)}if(Sa(y)||ma(y))return y=vs(y,v.mode,b,null),y.return=v,y;gl(v,y)}return null}function g(v,y,b,N){var O=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return O!==null?null:c(v,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case il:return b.key===O?u(v,y,b,N):null;case Ys:return b.key===O?d(v,y,b,N):null;case hr:return O=b._init,g(v,y,O(b._payload),N)}if(Sa(b)||ma(b))return O!==null?null:f(v,y,b,N,null);gl(v,b)}return null}function _(v,y,b,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(b)||null,c(y,v,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case il:return v=v.get(N.key===null?b:N.key)||null,u(y,v,N,O);case Ys:return v=v.get(N.key===null?b:N.key)||null,d(y,v,N,O);case hr:var M=N._init;return _(v,y,b,M(N._payload),O)}if(Sa(N)||ma(N))return v=v.get(b)||null,f(y,v,N,O,null);gl(y,N)}return null}function T(v,y,b,N){for(var O=null,M=null,I=y,w=y=0,E=null;I!==null&&w<b.length;w++){I.index>w?(E=I,I=null):E=I.sibling;var S=g(v,I,b[w],N);if(S===null){I===null&&(I=E);break}t&&I&&S.alternate===null&&e(v,I),y=i(S,y,w),M===null?O=S:M.sibling=S,M=S,I=E}if(w===b.length)return n(v,I),je&&os(v,w),O;if(I===null){for(;w<b.length;w++)I=p(v,b[w],N),I!==null&&(y=i(I,y,w),M===null?O=I:M.sibling=I,M=I);return je&&os(v,w),O}for(I=r(v,I);w<b.length;w++)E=_(I,v,w,b[w],N),E!==null&&(t&&E.alternate!==null&&I.delete(E.key===null?w:E.key),y=i(E,y,w),M===null?O=E:M.sibling=E,M=E);return t&&I.forEach(function(A){return e(v,A)}),je&&os(v,w),O}function j(v,y,b,N){var O=ma(b);if(typeof O!="function")throw Error(z(150));if(b=O.call(b),b==null)throw Error(z(151));for(var M=O=null,I=y,w=y=0,E=null,S=b.next();I!==null&&!S.done;w++,S=b.next()){I.index>w?(E=I,I=null):E=I.sibling;var A=g(v,I,S.value,N);if(A===null){I===null&&(I=E);break}t&&I&&A.alternate===null&&e(v,I),y=i(A,y,w),M===null?O=A:M.sibling=A,M=A,I=E}if(S.done)return n(v,I),je&&os(v,w),O;if(I===null){for(;!S.done;w++,S=b.next())S=p(v,S.value,N),S!==null&&(y=i(S,y,w),M===null?O=S:M.sibling=S,M=S);return je&&os(v,w),O}for(I=r(v,I);!S.done;w++,S=b.next())S=_(I,v,w,S.value,N),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?w:S.key),y=i(S,y,w),M===null?O=S:M.sibling=S,M=S);return t&&I.forEach(function(P){return e(v,P)}),je&&os(v,w),O}function k(v,y,b,N){if(typeof b=="object"&&b!==null&&b.type===Zs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case il:e:{for(var O=b.key,M=y;M!==null;){if(M.key===O){if(O=b.type,O===Zs){if(M.tag===7){n(v,M.sibling),y=s(M,b.props.children),y.return=v,v=y;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===hr&&Pg(O)===M.type){n(v,M.sibling),y=s(M,b.props),y.ref=xa(v,M,b),y.return=v,v=y;break e}n(v,M);break}else e(v,M);M=M.sibling}b.type===Zs?(y=vs(b.props.children,v.mode,N,b.key),y.return=v,v=y):(N=Ll(b.type,b.key,b.props,null,v.mode,N),N.ref=xa(v,y,b),N.return=v,v=N)}return o(v);case Ys:e:{for(M=b.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=s(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=gd(b,v.mode,N),y.return=v,v=y}return o(v);case hr:return M=b._init,k(v,y,M(b._payload),N)}if(Sa(b))return T(v,y,b,N);if(ma(b))return j(v,y,b,N);gl(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,b),y.return=v,v=y):(n(v,y),y=pd(b,v.mode,N),y.return=v,v=y),o(v)):n(v,y)}return k}var Ti=nx(!0),rx=nx(!1),lc=Jr(null),cc=null,oi=null,Vf=null;function Of(){Vf=oi=cc=null}function Mf(t){var e=lc.current;Ce(lc),t._currentValue=e}function ch(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gi(t,e){cc=t,Vf=oi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function Zt(t){var e=t._currentValue;if(Vf!==t)if(t={context:t,memoizedValue:e,next:null},oi===null){if(cc===null)throw Error(z(308));oi=t,cc.dependencies={lanes:0,firstContext:t}}else oi=oi.next=t;return e}var fs=null;function Lf(t){fs===null?fs=[t]:fs.push(t)}function sx(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Lf(e)):(n.next=s.next,s.next=n),e.interleaved=n,Jn(t,r)}function Jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fr=!1;function Ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ix(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Jn(t,n)}return s=r.interleaved,s===null?(e.next=e,Lf(r)):(e.next=s.next,s.next=e),r.interleaved=e,Jn(t,n)}function Pl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nf(t,n)}}function Rg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function uc(t,e,n,r){var s=t.updateQueue;fr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,f=d=u=null,c=i;do{var g=c.lane,_=c.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:_,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var T=t,j=c;switch(g=e,_=n,j.tag){case 1:if(T=j.payload,typeof T=="function"){p=T.call(_,p,g);break e}p=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=j.payload,g=typeof T=="function"?T.call(_,p,g):T,g==null)break e;p=De({},p,g);break e;case 2:fr=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[c]:g.push(c))}else _={eventTime:_,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=_,u=p):f=f.next=_,o|=g;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;g=c,c=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(f===null&&(u=p),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ts|=o,t.lanes=o,t.memoizedState=p}}function Dg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var ko={},Nn=Jr(ko),ao=Jr(ko),oo=Jr(ko);function ms(t){if(t===ko)throw Error(z(174));return t}function Uf(t,e){switch(Ne(oo,e),Ne(ao,t),Ne(Nn,ko),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$d(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$d(e,t)}Ce(Nn),Ne(Nn,e)}function Ii(){Ce(Nn),Ce(ao),Ce(oo)}function ax(t){ms(oo.current);var e=ms(Nn.current),n=$d(e,t.type);e!==n&&(Ne(ao,t),Ne(Nn,n))}function zf(t){ao.current===t&&(Ce(Nn),Ce(ao))}var Pe=Jr(0);function dc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cd=[];function Bf(){for(var t=0;t<cd.length;t++)cd[t]._workInProgressVersionPrimary=null;cd.length=0}var Rl=sr.ReactCurrentDispatcher,ud=sr.ReactCurrentBatchConfig,Ns=0,Re=null,Ge=null,Ye=null,hc=!1,Fa=!1,lo=0,gN=0;function ht(){throw Error(z(321))}function $f(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function Hf(t,e,n,r,s,i){if(Ns=i,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rl.current=t===null||t.memoizedState===null?wN:_N,t=n(r,s),Fa){i=0;do{if(Fa=!1,lo=0,25<=i)throw Error(z(301));i+=1,Ye=Ge=null,e.updateQueue=null,Rl.current=bN,t=n(r,s)}while(Fa)}if(Rl.current=fc,e=Ge!==null&&Ge.next!==null,Ns=0,Ye=Ge=Re=null,hc=!1,e)throw Error(z(300));return t}function Wf(){var t=lo!==0;return lo=0,t}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Re.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function en(){if(Ge===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=Ye===null?Re.memoizedState:Ye.next;if(e!==null)Ye=e,Ge=t;else{if(t===null)throw Error(z(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Ye===null?Re.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function co(t,e){return typeof e=="function"?e(t):e}function dd(t){var e=en(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Ge,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var c=o=null,u=null,d=i;do{var f=d.lane;if((Ns&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=p,o=r):u=u.next=p,Re.lanes|=f,Ts|=f}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=c,yn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Re.lanes|=i,Ts|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hd(t){var e=en(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);yn(i,e.memoizedState)||(jt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ox(){}function lx(t,e){var n=Re,r=en(),s=e(),i=!yn(r.memoizedState,s);if(i&&(r.memoizedState=s,jt=!0),r=r.queue,qf(dx.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,uo(9,ux.bind(null,n,r,s,e),void 0,null),et===null)throw Error(z(349));Ns&30||cx(n,e,s)}return s}function cx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ux(t,e,n,r){e.value=n,e.getSnapshot=r,hx(e)&&fx(t)}function dx(t,e,n){return n(function(){hx(e)&&fx(t)})}function hx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function fx(t){var e=Jn(t,1);e!==null&&fn(e,t,1,-1)}function Vg(t){var e=wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:t},e.queue=t,t=t.dispatch=xN.bind(null,Re,t),[e.memoizedState,t]}function uo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mx(){return en().memoizedState}function Dl(t,e,n,r){var s=wn();Re.flags|=t,s.memoizedState=uo(1|e,n,void 0,r===void 0?null:r)}function Jc(t,e,n,r){var s=en();r=r===void 0?null:r;var i=void 0;if(Ge!==null){var o=Ge.memoizedState;if(i=o.destroy,r!==null&&$f(r,o.deps)){s.memoizedState=uo(e,n,i,r);return}}Re.flags|=t,s.memoizedState=uo(1|e,n,i,r)}function Og(t,e){return Dl(8390656,8,t,e)}function qf(t,e){return Jc(2048,8,t,e)}function px(t,e){return Jc(4,2,t,e)}function gx(t,e){return Jc(4,4,t,e)}function yx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vx(t,e,n){return n=n!=null?n.concat([t]):null,Jc(4,4,yx.bind(null,e,t),n)}function Gf(){}function xx(t,e){var n=en();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$f(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wx(t,e){var n=en();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$f(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _x(t,e,n){return Ns&21?(yn(n,e)||(n=Iv(),Re.lanes|=n,Ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function yN(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=ud.transition;ud.transition={};try{t(!1),e()}finally{xe=n,ud.transition=r}}function bx(){return en().memoizedState}function vN(t,e,n){var r=Cr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ex(t))Nx(e,n);else if(n=sx(t,e,n,r),n!==null){var s=Et();fn(n,t,r,s),Tx(n,e,r)}}function xN(t,e,n){var r=Cr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ex(t))Nx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,c=i(o,n);if(s.hasEagerState=!0,s.eagerState=c,yn(c,o)){var u=e.interleaved;u===null?(s.next=s,Lf(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=sx(t,e,s,r),n!==null&&(s=Et(),fn(n,t,r,s),Tx(n,e,r))}}function Ex(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function Nx(t,e){Fa=hc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Tx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nf(t,n)}}var fc={readContext:Zt,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},wN={readContext:Zt,useCallback:function(t,e){return wn().memoizedState=[t,e===void 0?null:e],t},useContext:Zt,useEffect:Og,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dl(4194308,4,yx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dl(4,2,t,e)},useMemo:function(t,e){var n=wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vN.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=wn();return t={current:t},e.memoizedState=t},useState:Vg,useDebugValue:Gf,useDeferredValue:function(t){return wn().memoizedState=t},useTransition:function(){var t=Vg(!1),e=t[0];return t=yN.bind(null,t[1]),wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,s=wn();if(je){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),et===null)throw Error(z(349));Ns&30||cx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Og(dx.bind(null,r,i,t),[t]),r.flags|=2048,uo(9,ux.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=wn(),e=et.identifierPrefix;if(je){var n=Hn,r=$n;n=(r&~(1<<32-hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_N={readContext:Zt,useCallback:xx,useContext:Zt,useEffect:qf,useImperativeHandle:vx,useInsertionEffect:px,useLayoutEffect:gx,useMemo:wx,useReducer:dd,useRef:mx,useState:function(){return dd(co)},useDebugValue:Gf,useDeferredValue:function(t){var e=en();return _x(e,Ge.memoizedState,t)},useTransition:function(){var t=dd(co)[0],e=en().memoizedState;return[t,e]},useMutableSource:ox,useSyncExternalStore:lx,useId:bx,unstable_isNewReconciler:!1},bN={readContext:Zt,useCallback:xx,useContext:Zt,useEffect:qf,useImperativeHandle:vx,useInsertionEffect:px,useLayoutEffect:gx,useMemo:wx,useReducer:hd,useRef:mx,useState:function(){return hd(co)},useDebugValue:Gf,useDeferredValue:function(t){var e=en();return Ge===null?e.memoizedState=t:_x(e,Ge.memoizedState,t)},useTransition:function(){var t=hd(co)[0],e=en().memoizedState;return[t,e]},useMutableSource:ox,useSyncExternalStore:lx,useId:bx,unstable_isNewReconciler:!1};function on(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function uh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xc={isMounted:function(t){return(t=t._reactInternals)?Vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Et(),s=Cr(t),i=Gn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Sr(t,i,s),e!==null&&(fn(e,t,s,r),Pl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Et(),s=Cr(t),i=Gn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Sr(t,i,s),e!==null&&(fn(e,t,s,r),Pl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Et(),r=Cr(t),s=Gn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Sr(t,s,r),e!==null&&(fn(e,t,r,n),Pl(e,t,r))}};function Mg(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!no(n,r)||!no(s,i):!0}function Ix(t,e,n){var r=!1,s=zr,i=e.contextType;return typeof i=="object"&&i!==null?i=Zt(i):(s=Pt(e)?bs:vt.current,r=e.contextTypes,i=(r=r!=null)?Ei(t,s):zr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Lg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xc.enqueueReplaceState(e,e.state,null)}function dh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ff(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Zt(i):(i=Pt(e)?bs:vt.current,s.context=Ei(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(uh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xc.enqueueReplaceState(s,s.state,null),uc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Si(t,e){try{var n="",r=e;do n+=Jb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function fd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EN=typeof WeakMap=="function"?WeakMap:Map;function Sx(t,e,n){n=Gn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pc||(pc=!0,bh=r),hh(t,e)},n}function kx(t,e,n){n=Gn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){hh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hh(t,e),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Fg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=MN.bind(null,t,e,n),e.then(t,t))}function Ug(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zg(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gn(-1,1),e.tag=2,Sr(n,e,1))),n.lanes|=1),t)}var NN=sr.ReactCurrentOwner,jt=!1;function bt(t,e,n,r){e.child=t===null?rx(e,null,n,r):Ti(e,t.child,n,r)}function Bg(t,e,n,r,s){n=n.render;var i=e.ref;return gi(e,s),r=Hf(t,e,n,r,i,s),n=Wf(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xn(t,e,s)):(je&&n&&Pf(e),e.flags|=1,bt(t,e,r,s),e.child)}function $g(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!tm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Cx(t,e,i,r,s)):(t=Ll(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:no,n(o,r)&&t.ref===e.ref)return Xn(t,e,s)}return e.flags|=1,t=jr(i,r),t.ref=e.ref,t.return=e,e.child=t}function Cx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(no(i,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,Xn(t,e,s)}return fh(t,e,n,r,s)}function jx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(ci,Lt),Lt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(ci,Lt),Lt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ne(ci,Lt),Lt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ne(ci,Lt),Lt|=r;return bt(t,e,s,n),e.child}function Ax(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fh(t,e,n,r,s){var i=Pt(n)?bs:vt.current;return i=Ei(e,i),gi(e,s),n=Hf(t,e,n,r,i,s),r=Wf(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xn(t,e,s)):(je&&r&&Pf(e),e.flags|=1,bt(t,e,n,s),e.child)}function Hg(t,e,n,r,s){if(Pt(n)){var i=!0;ic(e)}else i=!1;if(gi(e,s),e.stateNode===null)Vl(t,e),Ix(e,n,r),dh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Zt(d):(d=Pt(n)?bs:vt.current,d=Ei(e,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||u!==d)&&Lg(e,o,r,d),fr=!1;var g=e.memoizedState;o.state=g,uc(e,r,o,s),u=e.memoizedState,c!==r||g!==u||At.current||fr?(typeof f=="function"&&(uh(e,n,f,r),u=e.memoizedState),(c=fr||Mg(e,n,c,r,g,u,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ix(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:on(e.type,c),o.props=d,p=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Zt(u):(u=Pt(n)?bs:vt.current,u=Ei(e,u));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==p||g!==u)&&Lg(e,o,r,u),fr=!1,g=e.memoizedState,o.state=g,uc(e,r,o,s);var T=e.memoizedState;c!==p||g!==T||At.current||fr?(typeof _=="function"&&(uh(e,n,_,r),T=e.memoizedState),(d=fr||Mg(e,n,d,r,g,T,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return mh(t,e,n,r,i,s)}function mh(t,e,n,r,s,i){Ax(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Cg(e,n,!1),Xn(t,e,i);r=e.stateNode,NN.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ti(e,t.child,null,i),e.child=Ti(e,null,c,i)):bt(t,e,c,i),e.memoizedState=r.state,s&&Cg(e,n,!0),e.child}function Px(t){var e=t.stateNode;e.pendingContext?kg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kg(t,e.context,!1),Uf(t,e.containerInfo)}function Wg(t,e,n,r,s){return Ni(),Df(s),e.flags|=256,bt(t,e,n,r),e.child}var ph={dehydrated:null,treeContext:null,retryLane:0};function gh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rx(t,e,n){var r=e.pendingProps,s=Pe.current,i=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ne(Pe,s&1),t===null)return lh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=eu(o,r,0,null),t=vs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=gh(n),e.memoizedState=ph,t):Kf(e,o));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return TN(t,e,o,r,c,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,c=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=jr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=jr(c,i):(i=vs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?gh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ph,r}return i=t.child,t=i.sibling,r=jr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kf(t,e){return e=eu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yl(t,e,n,r){return r!==null&&Df(r),Ti(e,t.child,null,n),t=Kf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TN(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=fd(Error(z(422))),yl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=eu({mode:"visible",children:r.children},s,0,null),i=vs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ti(e,t.child,null,o),e.child.memoizedState=gh(o),e.memoizedState=ph,i);if(!(e.mode&1))return yl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(z(419)),r=fd(i,r,void 0),yl(t,e,o,r)}if(c=(o&t.childLanes)!==0,jt||c){if(r=et,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Jn(t,s),fn(r,t,s,-1))}return em(),r=fd(Error(z(421))),yl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=LN.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ft=Ir(s.nextSibling),zt=e,je=!0,cn=null,t!==null&&(Gt[Kt++]=$n,Gt[Kt++]=Hn,Gt[Kt++]=Es,$n=t.id,Hn=t.overflow,Es=e),e=Kf(e,r.children),e.flags|=4096,e)}function qg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ch(t.return,e,n)}function md(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Dx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(bt(t,e,r.children,n),r=Pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qg(t,n,e);else if(t.tag===19)qg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(Pe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&dc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),md(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&dc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}md(e,!0,n,null,i);break;case"together":md(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=jr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IN(t,e,n){switch(e.tag){case 3:Px(e),Ni();break;case 5:ax(e);break;case 1:Pt(e.type)&&ic(e);break;case 4:Uf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ne(lc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?Rx(t,e,n):(Ne(Pe,Pe.current&1),t=Xn(t,e,n),t!==null?t.sibling:null);Ne(Pe,Pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Pe,Pe.current),r)break;return null;case 22:case 23:return e.lanes=0,jx(t,e,n)}return Xn(t,e,n)}var Vx,yh,Ox,Mx;Vx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yh=function(){};Ox=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ms(Nn.current);var i=null;switch(n){case"input":s=Fd(t,s),r=Fd(t,r),i=[];break;case"select":s=De({},s,{value:void 0}),r=De({},r,{value:void 0}),i=[];break;case"textarea":s=Bd(t,s),r=Bd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rc)}Hd(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Qa.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(c=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Qa.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Ie("scroll",t),i||c===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Mx=function(t,e,n,r){n!==r&&(e.flags|=4)};function wa(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function SN(t,e,n){var r=e.pendingProps;switch(Rf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Pt(e.type)&&sc(),ft(e),null;case 3:return r=e.stateNode,Ii(),Ce(At),Ce(vt),Bf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cn!==null&&(Th(cn),cn=null))),yh(t,e),ft(e),null;case 5:zf(e);var s=ms(oo.current);if(n=e.type,t!==null&&e.stateNode!=null)Ox(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return ft(e),null}if(t=ms(Nn.current),pl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[bn]=e,r[io]=i,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<Ca.length;s++)Ie(Ca[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":tg(r,i),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",r);break;case"textarea":rg(r,i),Ie("invalid",r)}Hd(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&ml(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&ml(r.textContent,c,t),s=["children",""+c]):Qa.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":al(r),ng(r,i,!0);break;case"textarea":al(r),sg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=rc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[bn]=e,t[io]=r,Vx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wd(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),s=r;break;case"iframe":case"object":case"embed":Ie("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ca.length;s++)Ie(Ca[s],t);s=r;break;case"source":Ie("error",t),s=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),s=r;break;case"details":Ie("toggle",t),s=r;break;case"input":tg(t,r),s=Fd(t,r),Ie("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=De({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":rg(t,r),s=Bd(t,r),Ie("invalid",t);break;default:s=r}Hd(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?mv(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&hv(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ja(t,u):typeof u=="number"&&Ja(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qa.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ie("scroll",t):u!=null&&vf(t,i,u,o))}switch(n){case"input":al(t),ng(t,r,!1);break;case"textarea":al(t),sg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ur(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?hi(t,!!r.multiple,i,!1):r.defaultValue!=null&&hi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=rc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)Mx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ms(oo.current),ms(Nn.current),pl(e)){if(r=e.stateNode,n=e.memoizedProps,r[bn]=e,(i=r.nodeValue!==n)&&(t=zt,t!==null))switch(t.tag){case 3:ml(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ml(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bn]=e,e.stateNode=r}return ft(e),null;case 13:if(Ce(Pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&Ft!==null&&e.mode&1&&!(e.flags&128))tx(),Ni(),e.flags|=98560,i=!1;else if(i=pl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[bn]=e}else Ni(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),i=!1}else cn!==null&&(Th(cn),cn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?Qe===0&&(Qe=3):em())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return Ii(),yh(t,e),t===null&&ro(e.stateNode.containerInfo),ft(e),null;case 10:return Mf(e.type._context),ft(e),null;case 17:return Pt(e.type)&&sc(),ft(e),null;case 19:if(Ce(Pe),i=e.memoizedState,i===null)return ft(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)wa(i,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dc(t),o!==null){for(e.flags|=128,wa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(Pe,Pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Fe()>ki&&(e.flags|=128,r=!0,wa(i,!1),e.lanes=4194304)}else{if(!r)if(t=dc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!je)return ft(e),null}else 2*Fe()-i.renderingStartTime>ki&&n!==1073741824&&(e.flags|=128,r=!0,wa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Fe(),e.sibling=null,n=Pe.current,Ne(Pe,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return Zf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Lt&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function kN(t,e){switch(Rf(e),e.tag){case 1:return Pt(e.type)&&sc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ii(),Ce(At),Ce(vt),Bf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zf(e),null;case 13:if(Ce(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ni()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(Pe),null;case 4:return Ii(),null;case 10:return Mf(e.type._context),null;case 22:case 23:return Zf(),null;case 24:return null;default:return null}}var vl=!1,gt=!1,CN=typeof WeakSet=="function"?WeakSet:Set,W=null;function li(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function vh(t,e,n){try{n()}catch(r){Me(t,e,r)}}var Gg=!1;function jN(t,e){if(th=ec,t=Bv(),Af(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,c=-1,u=-1,d=0,f=0,p=t,g=null;t:for(;;){for(var _;p!==n||s!==0&&p.nodeType!==3||(c=o+s),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(_=p.firstChild)!==null;)g=p,p=_;for(;;){if(p===t)break t;if(g===n&&++d===s&&(c=o),g===i&&++f===r&&(u=o),(_=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=_}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:t,selectionRange:n},ec=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var j=T.memoizedProps,k=T.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?j:on(e.type,j),k);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(N){Me(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return T=Gg,Gg=!1,T}function Ua(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&vh(e,n,i)}s=s.next}while(s!==r)}}function Yc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Lx(t){var e=t.alternate;e!==null&&(t.alternate=null,Lx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bn],delete e[io],delete e[ih],delete e[hN],delete e[fN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fx(t){return t.tag===5||t.tag===3||t.tag===4}function Kg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rc));else if(r!==4&&(t=t.child,t!==null))for(wh(t,e,n),t=t.sibling;t!==null;)wh(t,e,n),t=t.sibling}function _h(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_h(t,e,n),t=t.sibling;t!==null;)_h(t,e,n),t=t.sibling}var nt=null,ln=!1;function cr(t,e,n){for(n=n.child;n!==null;)Ux(t,e,n),n=n.sibling}function Ux(t,e,n){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Hc,n)}catch{}switch(n.tag){case 5:gt||li(n,e);case 6:var r=nt,s=ln;nt=null,cr(t,e,n),nt=r,ln=s,nt!==null&&(ln?(t=nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(ln?(t=nt,n=n.stateNode,t.nodeType===8?od(t.parentNode,n):t.nodeType===1&&od(t,n),eo(t)):od(nt,n.stateNode));break;case 4:r=nt,s=ln,nt=n.stateNode.containerInfo,ln=!0,cr(t,e,n),nt=r,ln=s;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&vh(n,e,o),s=s.next}while(s!==r)}cr(t,e,n);break;case 1:if(!gt&&(li(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Me(n,e,c)}cr(t,e,n);break;case 21:cr(t,e,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,cr(t,e,n),gt=r):cr(t,e,n);break;default:cr(t,e,n)}}function Qg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CN),e.forEach(function(r){var s=FN.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function an(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:nt=c.stateNode,ln=!1;break e;case 3:nt=c.stateNode.containerInfo,ln=!0;break e;case 4:nt=c.stateNode.containerInfo,ln=!0;break e}c=c.return}if(nt===null)throw Error(z(160));Ux(i,o,s),nt=null,ln=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Me(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zx(e,t),e=e.sibling}function zx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(an(e,t),xn(t),r&4){try{Ua(3,t,t.return),Yc(3,t)}catch(j){Me(t,t.return,j)}try{Ua(5,t,t.return)}catch(j){Me(t,t.return,j)}}break;case 1:an(e,t),xn(t),r&512&&n!==null&&li(n,n.return);break;case 5:if(an(e,t),xn(t),r&512&&n!==null&&li(n,n.return),t.flags&32){var s=t.stateNode;try{Ja(s,"")}catch(j){Me(t,t.return,j)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&cv(s,i),Wd(c,o);var d=Wd(c,i);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?mv(s,p):f==="dangerouslySetInnerHTML"?hv(s,p):f==="children"?Ja(s,p):vf(s,f,p,d)}switch(c){case"input":Ud(s,i);break;case"textarea":uv(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?hi(s,!!i.multiple,_,!1):g!==!!i.multiple&&(i.defaultValue!=null?hi(s,!!i.multiple,i.defaultValue,!0):hi(s,!!i.multiple,i.multiple?[]:"",!1))}s[io]=i}catch(j){Me(t,t.return,j)}}break;case 6:if(an(e,t),xn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(j){Me(t,t.return,j)}}break;case 3:if(an(e,t),xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eo(e.containerInfo)}catch(j){Me(t,t.return,j)}break;case 4:an(e,t),xn(t);break;case 13:an(e,t),xn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xf=Fe())),r&4&&Qg(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(gt=(d=gt)||f,an(e,t),gt=d):an(e,t),xn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(W=t,f=t.child;f!==null;){for(p=W=f;W!==null;){switch(g=W,_=g.child,g.tag){case 0:case 11:case 14:case 15:Ua(4,g,g.return);break;case 1:li(g,g.return);var T=g.stateNode;if(typeof T.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(j){Me(r,n,j)}}break;case 5:li(g,g.return);break;case 22:if(g.memoizedState!==null){Xg(p);continue}}_!==null?(_.return=g,W=_):Xg(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=fv("display",o))}catch(j){Me(t,t.return,j)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(j){Me(t,t.return,j)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:an(e,t),xn(t),r&4&&Qg(t);break;case 21:break;default:an(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Fx(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ja(s,""),r.flags&=-33);var i=Kg(t);_h(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,c=Kg(t);wh(t,c,o);break;default:throw Error(z(161))}}catch(u){Me(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AN(t,e,n){W=t,Bx(t)}function Bx(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vl;if(!o){var c=s.alternate,u=c!==null&&c.memoizedState!==null||gt;c=vl;var d=gt;if(vl=o,(gt=u)&&!d)for(W=s;W!==null;)o=W,u=o.child,o.tag===22&&o.memoizedState!==null?Yg(s):u!==null?(u.return=o,W=u):Yg(s);for(;i!==null;)W=i,Bx(i),i=i.sibling;W=s,vl=c,gt=d}Jg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):Jg(t)}}function Jg(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gt||Yc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:on(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Dg(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Dg(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&eo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}gt||e.flags&512&&xh(e)}catch(g){Me(e,e.return,g)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Xg(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Yg(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yc(4,e)}catch(u){Me(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Me(e,s,u)}}var i=e.return;try{xh(e)}catch(u){Me(e,i,u)}break;case 5:var o=e.return;try{xh(e)}catch(u){Me(e,o,u)}}}catch(u){Me(e,e.return,u)}if(e===t){W=null;break}var c=e.sibling;if(c!==null){c.return=e.return,W=c;break}W=e.return}}var PN=Math.ceil,mc=sr.ReactCurrentDispatcher,Qf=sr.ReactCurrentOwner,Yt=sr.ReactCurrentBatchConfig,fe=0,et=null,Be=null,at=0,Lt=0,ci=Jr(0),Qe=0,ho=null,Ts=0,Zc=0,Jf=0,za=null,kt=null,Xf=0,ki=1/0,Ln=null,pc=!1,bh=null,kr=null,xl=!1,wr=null,gc=0,Ba=0,Eh=null,Ol=-1,Ml=0;function Et(){return fe&6?Fe():Ol!==-1?Ol:Ol=Fe()}function Cr(t){return t.mode&1?fe&2&&at!==0?at&-at:pN.transition!==null?(Ml===0&&(Ml=Iv()),Ml):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Rv(t.type)),t):1}function fn(t,e,n,r){if(50<Ba)throw Ba=0,Eh=null,Error(z(185));To(t,n,r),(!(fe&2)||t!==et)&&(t===et&&(!(fe&2)&&(Zc|=n),Qe===4&&pr(t,at)),Rt(t,r),n===1&&fe===0&&!(e.mode&1)&&(ki=Fe()+500,Qc&&Xr()))}function Rt(t,e){var n=t.callbackNode;pE(t,e);var r=Zl(t,t===et?at:0);if(r===0)n!==null&&og(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&og(n),e===1)t.tag===0?mN(Zg.bind(null,t)):Yv(Zg.bind(null,t)),uN(function(){!(fe&6)&&Xr()}),n=null;else{switch(Sv(r)){case 1:n=Ef;break;case 4:n=Nv;break;case 16:n=Yl;break;case 536870912:n=Tv;break;default:n=Yl}n=Jx(n,$x.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $x(t,e){if(Ol=-1,Ml=0,fe&6)throw Error(z(327));var n=t.callbackNode;if(yi()&&t.callbackNode!==n)return null;var r=Zl(t,t===et?at:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yc(t,r);else{e=r;var s=fe;fe|=2;var i=Wx();(et!==t||at!==e)&&(Ln=null,ki=Fe()+500,ys(t,e));do try{VN();break}catch(c){Hx(t,c)}while(!0);Of(),mc.current=i,fe=s,Be!==null?e=0:(et=null,at=0,e=Qe)}if(e!==0){if(e===2&&(s=Jd(t),s!==0&&(r=s,e=Nh(t,s))),e===1)throw n=ho,ys(t,0),pr(t,r),Rt(t,Fe()),n;if(e===6)pr(t,r);else{if(s=t.current.alternate,!(r&30)&&!RN(s)&&(e=yc(t,r),e===2&&(i=Jd(t),i!==0&&(r=i,e=Nh(t,i))),e===1))throw n=ho,ys(t,0),pr(t,r),Rt(t,Fe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:ls(t,kt,Ln);break;case 3:if(pr(t,r),(r&130023424)===r&&(e=Xf+500-Fe(),10<e)){if(Zl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Et(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=sh(ls.bind(null,t,kt,Ln),e);break}ls(t,kt,Ln);break;case 4:if(pr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-hn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PN(r/1960))-r,10<r){t.timeoutHandle=sh(ls.bind(null,t,kt,Ln),r);break}ls(t,kt,Ln);break;case 5:ls(t,kt,Ln);break;default:throw Error(z(329))}}}return Rt(t,Fe()),t.callbackNode===n?$x.bind(null,t):null}function Nh(t,e){var n=za;return t.current.memoizedState.isDehydrated&&(ys(t,e).flags|=256),t=yc(t,e),t!==2&&(e=kt,kt=n,e!==null&&Th(e)),t}function Th(t){kt===null?kt=t:kt.push.apply(kt,t)}function RN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pr(t,e){for(e&=~Jf,e&=~Zc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hn(e),r=1<<n;t[n]=-1,e&=~r}}function Zg(t){if(fe&6)throw Error(z(327));yi();var e=Zl(t,0);if(!(e&1))return Rt(t,Fe()),null;var n=yc(t,e);if(t.tag!==0&&n===2){var r=Jd(t);r!==0&&(e=r,n=Nh(t,r))}if(n===1)throw n=ho,ys(t,0),pr(t,e),Rt(t,Fe()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ls(t,kt,Ln),Rt(t,Fe()),null}function Yf(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(ki=Fe()+500,Qc&&Xr())}}function Is(t){wr!==null&&wr.tag===0&&!(fe&6)&&yi();var e=fe;fe|=1;var n=Yt.transition,r=xe;try{if(Yt.transition=null,xe=1,t)return t()}finally{xe=r,Yt.transition=n,fe=e,!(fe&6)&&Xr()}}function Zf(){Lt=ci.current,Ce(ci)}function ys(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cN(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(Rf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sc();break;case 3:Ii(),Ce(At),Ce(vt),Bf();break;case 5:zf(r);break;case 4:Ii();break;case 13:Ce(Pe);break;case 19:Ce(Pe);break;case 10:Mf(r.type._context);break;case 22:case 23:Zf()}n=n.return}if(et=t,Be=t=jr(t.current,null),at=Lt=e,Qe=0,ho=null,Jf=Zc=Ts=0,kt=za=null,fs!==null){for(e=0;e<fs.length;e++)if(n=fs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}fs=null}return t}function Hx(t,e){do{var n=Be;try{if(Of(),Rl.current=fc,hc){for(var r=Re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}hc=!1}if(Ns=0,Ye=Ge=Re=null,Fa=!1,lo=0,Qf.current=null,n===null||n.return===null){Qe=1,ho=e,Be=null;break}e:{var i=t,o=n.return,c=n,u=e;if(e=at,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=Ug(o);if(_!==null){_.flags&=-257,zg(_,o,c,i,e),_.mode&1&&Fg(i,d,e),e=_,u=d;var T=e.updateQueue;if(T===null){var j=new Set;j.add(u),e.updateQueue=j}else T.add(u);break e}else{if(!(e&1)){Fg(i,d,e),em();break e}u=Error(z(426))}}else if(je&&c.mode&1){var k=Ug(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),zg(k,o,c,i,e),Df(Si(u,c));break e}}i=u=Si(u,c),Qe!==4&&(Qe=2),za===null?za=[i]:za.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Sx(i,u,e);Rg(i,v);break e;case 1:c=u;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(kr===null||!kr.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=kx(i,c,e);Rg(i,N);break e}}i=i.return}while(i!==null)}Gx(n)}catch(O){e=O,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function Wx(){var t=mc.current;return mc.current=fc,t===null?fc:t}function em(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),et===null||!(Ts&268435455)&&!(Zc&268435455)||pr(et,at)}function yc(t,e){var n=fe;fe|=2;var r=Wx();(et!==t||at!==e)&&(Ln=null,ys(t,e));do try{DN();break}catch(s){Hx(t,s)}while(!0);if(Of(),fe=n,mc.current=r,Be!==null)throw Error(z(261));return et=null,at=0,Qe}function DN(){for(;Be!==null;)qx(Be)}function VN(){for(;Be!==null&&!aE();)qx(Be)}function qx(t){var e=Qx(t.alternate,t,Lt);t.memoizedProps=t.pendingProps,e===null?Gx(t):Be=e,Qf.current=null}function Gx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kN(n,e),n!==null){n.flags&=32767,Be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,Be=null;return}}else if(n=SN(n,e,Lt),n!==null){Be=n;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);Qe===0&&(Qe=5)}function ls(t,e,n){var r=xe,s=Yt.transition;try{Yt.transition=null,xe=1,ON(t,e,n,r)}finally{Yt.transition=s,xe=r}return null}function ON(t,e,n,r){do yi();while(wr!==null);if(fe&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(gE(t,i),t===et&&(Be=et=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xl||(xl=!0,Jx(Yl,function(){return yi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Yt.transition,Yt.transition=null;var o=xe;xe=1;var c=fe;fe|=4,Qf.current=null,jN(t,n),zx(n,t),nN(nh),ec=!!th,nh=th=null,t.current=n,AN(n),oE(),fe=c,xe=o,Yt.transition=i}else t.current=n;if(xl&&(xl=!1,wr=t,gc=s),i=t.pendingLanes,i===0&&(kr=null),uE(n.stateNode),Rt(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(pc)throw pc=!1,t=bh,bh=null,t;return gc&1&&t.tag!==0&&yi(),i=t.pendingLanes,i&1?t===Eh?Ba++:(Ba=0,Eh=t):Ba=0,Xr(),null}function yi(){if(wr!==null){var t=Sv(gc),e=Yt.transition,n=xe;try{if(Yt.transition=null,xe=16>t?16:t,wr===null)var r=!1;else{if(t=wr,wr=null,gc=0,fe&6)throw Error(z(331));var s=fe;for(fe|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(W=d;W!==null;){var f=W;switch(f.tag){case 0:case 11:case 15:Ua(8,f,i)}var p=f.child;if(p!==null)p.return=f,W=p;else for(;W!==null;){f=W;var g=f.sibling,_=f.return;if(Lx(f),f===d){W=null;break}if(g!==null){g.return=_,W=g;break}W=_}}}var T=i.alternate;if(T!==null){var j=T.child;if(j!==null){T.child=null;do{var k=j.sibling;j.sibling=null,j=k}while(j!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ua(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,W=v;break e}W=i.return}}var y=t.current;for(W=y;W!==null;){o=W;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,W=b;else e:for(o=y;W!==null;){if(c=W,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Yc(9,c)}}catch(O){Me(c,c.return,O)}if(c===o){W=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,W=N;break e}W=c.return}}if(fe=s,Xr(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Hc,t)}catch{}r=!0}return r}finally{xe=n,Yt.transition=e}}return!1}function ey(t,e,n){e=Si(n,e),e=Sx(t,e,1),t=Sr(t,e,1),e=Et(),t!==null&&(To(t,1,e),Rt(t,e))}function Me(t,e,n){if(t.tag===3)ey(t,t,n);else for(;e!==null;){if(e.tag===3){ey(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kr===null||!kr.has(r))){t=Si(n,t),t=kx(e,t,1),e=Sr(e,t,1),t=Et(),e!==null&&(To(e,1,t),Rt(e,t));break}}e=e.return}}function MN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Et(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(at&n)===n&&(Qe===4||Qe===3&&(at&130023424)===at&&500>Fe()-Xf?ys(t,0):Jf|=n),Rt(t,e)}function Kx(t,e){e===0&&(t.mode&1?(e=cl,cl<<=1,!(cl&130023424)&&(cl=4194304)):e=1);var n=Et();t=Jn(t,e),t!==null&&(To(t,e,n),Rt(t,n))}function LN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Kx(t,n)}function FN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),Kx(t,n)}var Qx;Qx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||At.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,IN(t,e,n);jt=!!(t.flags&131072)}else jt=!1,je&&e.flags&1048576&&Zv(e,oc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vl(t,e),t=e.pendingProps;var s=Ei(e,vt.current);gi(e,n),s=Hf(null,e,r,t,s,n);var i=Wf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pt(r)?(i=!0,ic(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ff(e),s.updater=Xc,e.stateNode=s,s._reactInternals=e,dh(e,r,t,n),e=mh(null,e,r,!0,i,n)):(e.tag=0,je&&i&&Pf(e),bt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=zN(r),t=on(r,t),s){case 0:e=fh(null,e,r,t,n);break e;case 1:e=Hg(null,e,r,t,n);break e;case 11:e=Bg(null,e,r,t,n);break e;case 14:e=$g(null,e,r,on(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:on(r,s),fh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:on(r,s),Hg(t,e,r,s,n);case 3:e:{if(Px(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ix(t,e),uc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Si(Error(z(423)),e),e=Wg(t,e,r,n,s);break e}else if(r!==s){s=Si(Error(z(424)),e),e=Wg(t,e,r,n,s);break e}else for(Ft=Ir(e.stateNode.containerInfo.firstChild),zt=e,je=!0,cn=null,n=rx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ni(),r===s){e=Xn(t,e,n);break e}bt(t,e,r,n)}e=e.child}return e;case 5:return ax(e),t===null&&lh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,rh(r,s)?o=null:i!==null&&rh(r,i)&&(e.flags|=32),Ax(t,e),bt(t,e,o,n),e.child;case 6:return t===null&&lh(e),null;case 13:return Rx(t,e,n);case 4:return Uf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ti(e,null,r,n):bt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:on(r,s),Bg(t,e,r,s,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ne(lc,r._currentValue),r._currentValue=o,i!==null)if(yn(i.value,o)){if(i.children===s.children&&!At.current){e=Xn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Gn(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),ch(i.return,n,e),c.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ch(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}bt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,gi(e,n),s=Zt(s),r=r(s),e.flags|=1,bt(t,e,r,n),e.child;case 14:return r=e.type,s=on(r,e.pendingProps),s=on(r.type,s),$g(t,e,r,s,n);case 15:return Cx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:on(r,s),Vl(t,e),e.tag=1,Pt(r)?(t=!0,ic(e)):t=!1,gi(e,n),Ix(e,r,s),dh(e,r,s,n),mh(null,e,r,!0,t,n);case 19:return Dx(t,e,n);case 22:return jx(t,e,n)}throw Error(z(156,e.tag))};function Jx(t,e){return Ev(t,e)}function UN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,e,n,r){return new UN(t,e,n,r)}function tm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zN(t){if(typeof t=="function")return tm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wf)return 11;if(t===_f)return 14}return 2}function jr(t,e){var n=t.alternate;return n===null?(n=Xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ll(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")tm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zs:return vs(n.children,s,i,e);case xf:o=8,s|=8;break;case Vd:return t=Xt(12,n,e,s|2),t.elementType=Vd,t.lanes=i,t;case Od:return t=Xt(13,n,e,s),t.elementType=Od,t.lanes=i,t;case Md:return t=Xt(19,n,e,s),t.elementType=Md,t.lanes=i,t;case av:return eu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sv:o=10;break e;case iv:o=9;break e;case wf:o=11;break e;case _f:o=14;break e;case hr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Xt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function vs(t,e,n,r){return t=Xt(7,t,r,e),t.lanes=n,t}function eu(t,e,n,r){return t=Xt(22,t,r,e),t.elementType=av,t.lanes=n,t.stateNode={isHidden:!1},t}function pd(t,e,n){return t=Xt(6,t,null,e),t.lanes=n,t}function gd(t,e,n){return e=Xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BN(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ju(0),this.expirationTimes=Ju(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ju(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nm(t,e,n,r,s,i,o,c,u){return t=new BN(t,e,n,c,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ff(i),t}function $N(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ys,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Xx(t){if(!t)return zr;t=t._reactInternals;e:{if(Vs(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Pt(n))return Xv(t,n,e)}return e}function Yx(t,e,n,r,s,i,o,c,u){return t=nm(n,r,!0,t,s,i,o,c,u),t.context=Xx(null),n=t.current,r=Et(),s=Cr(n),i=Gn(r,s),i.callback=e??null,Sr(n,i,s),t.current.lanes=s,To(t,s,r),Rt(t,r),t}function tu(t,e,n,r){var s=e.current,i=Et(),o=Cr(s);return n=Xx(n),e.context===null?e.context=n:e.pendingContext=n,e=Gn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Sr(s,e,o),t!==null&&(fn(t,s,o,i),Pl(t,s,o)),o}function vc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ty(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rm(t,e){ty(t,e),(t=t.alternate)&&ty(t,e)}function HN(){return null}var Zx=typeof reportError=="function"?reportError:function(t){console.error(t)};function sm(t){this._internalRoot=t}nu.prototype.render=sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));tu(t,e,null,null)};nu.prototype.unmount=sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Is(function(){tu(null,t,null,null)}),e[Qn]=null}};function nu(t){this._internalRoot=t}nu.prototype.unstable_scheduleHydration=function(t){if(t){var e=jv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mr.length&&e!==0&&e<mr[n].priority;n++);mr.splice(n,0,t),n===0&&Pv(t)}};function im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ru(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ny(){}function WN(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=vc(o);i.call(d)}}var o=Yx(e,r,t,0,null,!1,!1,"",ny);return t._reactRootContainer=o,t[Qn]=o.current,ro(t.nodeType===8?t.parentNode:t),Is(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var d=vc(u);c.call(d)}}var u=nm(t,0,!1,null,null,!1,!1,"",ny);return t._reactRootContainer=u,t[Qn]=u.current,ro(t.nodeType===8?t.parentNode:t),Is(function(){tu(e,u,n,r)}),u}function su(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var c=s;s=function(){var u=vc(o);c.call(u)}}tu(e,o,t,s)}else o=WN(n,e,t,s,r);return vc(o)}kv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ka(e.pendingLanes);n!==0&&(Nf(e,n|1),Rt(e,Fe()),!(fe&6)&&(ki=Fe()+500,Xr()))}break;case 13:Is(function(){var r=Jn(t,1);if(r!==null){var s=Et();fn(r,t,1,s)}}),rm(t,1)}};Tf=function(t){if(t.tag===13){var e=Jn(t,134217728);if(e!==null){var n=Et();fn(e,t,134217728,n)}rm(t,134217728)}};Cv=function(t){if(t.tag===13){var e=Cr(t),n=Jn(t,e);if(n!==null){var r=Et();fn(n,t,e,r)}rm(t,e)}};jv=function(){return xe};Av=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Gd=function(t,e,n){switch(e){case"input":if(Ud(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Kc(r);if(!s)throw Error(z(90));lv(r),Ud(r,s)}}}break;case"textarea":uv(t,n);break;case"select":e=n.value,e!=null&&hi(t,!!n.multiple,e,!1)}};yv=Yf;vv=Is;var qN={usingClientEntryPoint:!1,Events:[So,ri,Kc,pv,gv,Yf]},_a={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GN={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_v(t),t===null?null:t.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||HN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{Hc=wl.inject(GN),En=wl}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qN;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!im(e))throw Error(z(200));return $N(t,e,null,n)};$t.createRoot=function(t,e){if(!im(t))throw Error(z(299));var n=!1,r="",s=Zx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=nm(t,1,!1,null,null,n,!1,r,s),t[Qn]=e.current,ro(t.nodeType===8?t.parentNode:t),new sm(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=_v(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return Is(t)};$t.hydrate=function(t,e,n){if(!ru(e))throw Error(z(200));return su(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!im(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Zx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Yx(e,null,t,1,n??null,s,!1,i,o),t[Qn]=e.current,ro(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new nu(e)};$t.render=function(t,e,n){if(!ru(e))throw Error(z(200));return su(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!ru(t))throw Error(z(40));return t._reactRootContainer?(Is(function(){su(null,null,t,!1,function(){t._reactRootContainer=null,t[Qn]=null})}),!0):!1};$t.unstable_batchedUpdates=Yf;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ru(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return su(t,e,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function ew(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ew)}catch(t){console.error(t)}}ew(),ev.exports=$t;var tw=ev.exports,nw,ry=tw;nw=ry.createRoot,ry.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fo(){return fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fo.apply(this,arguments)}var _r;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_r||(_r={}));const sy="popstate";function KN(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:c}=r.location;return Ih("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xc(s)}return JN(e,n,null,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QN(){return Math.random().toString(36).substr(2,8)}function iy(t,e){return{usr:t.state,key:t.key,idx:e}}function Ih(t,e,n,r){return n===void 0&&(n=null),fo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fi(e):e,{state:n,key:e&&e.key||r||QN()})}function xc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function JN(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,c=_r.Pop,u=null,d=f();d==null&&(d=0,o.replaceState(fo({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function p(){c=_r.Pop;let k=f(),v=k==null?null:k-d;d=k,u&&u({action:c,location:j.location,delta:v})}function g(k,v){c=_r.Push;let y=Ih(j.location,k,v);d=f()+1;let b=iy(y,d),N=j.createHref(y);try{o.pushState(b,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(N)}i&&u&&u({action:c,location:j.location,delta:1})}function _(k,v){c=_r.Replace;let y=Ih(j.location,k,v);d=f();let b=iy(y,d),N=j.createHref(y);o.replaceState(b,"",N),i&&u&&u({action:c,location:j.location,delta:0})}function T(k){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof k=="string"?k:xc(k);return y=y.replace(/ $/,"%20"),He(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let j={get action(){return c},get location(){return t(s,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(sy,p),u=k,()=>{s.removeEventListener(sy,p),u=null}},createHref(k){return e(s,k)},createURL:T,encodeLocation(k){let v=T(k);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:_,go(k){return o.go(k)}};return j}var ay;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ay||(ay={}));function XN(t,e,n){return n===void 0&&(n="/"),YN(t,e,n)}function YN(t,e,n,r){let s=typeof e=="string"?Fi(e):e,i=am(s.pathname||"/",n);if(i==null)return null;let o=sw(t);ZN(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=d2(i);c=l2(o[u],d)}return c}function sw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(He(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Ar([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(He(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),sw(i.children,e,f,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:a2(d,i.index),routesMeta:f})};return t.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,o);else for(let u of iw(i.path))s(i,o,u)}),e}function iw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=iw(r.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function ZN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const e2=/^:[\w-]+$/,t2=3,n2=2,r2=1,s2=10,i2=-2,oy=t=>t==="*";function a2(t,e){let n=t.split("/"),r=n.length;return n.some(oy)&&(r+=i2),e&&(r+=n2),n.filter(s=>!oy(s)).reduce((s,i)=>s+(e2.test(i)?t2:i===""?r2:s2),r)}function o2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function l2(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=c2({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Ar([i,p.pathname]),pathnameBase:p2(Ar([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Ar([i,p.pathnameBase]))}return o}function c2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=u2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((d,f,p)=>{let{paramName:g,isOptional:_}=f;if(g==="*"){let j=c[p]||"";o=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const T=c[p];return _&&!T?d[g]=void 0:d[g]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function u2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function d2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function am(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function h2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Fi(t):t;return{pathname:n?n.startsWith("/")?n:f2(n,e):e,search:g2(r),hash:y2(s)}}function f2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function yd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aw(t,e){let n=m2(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ow(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Fi(t):(s=fo({},t),He(!s.pathname||!s.pathname.includes("?"),yd("?","pathname","search",s)),He(!s.pathname||!s.pathname.includes("#"),yd("#","pathname","hash",s)),He(!s.search||!s.search.includes("#"),yd("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}c=p>=0?e[p]:"/"}let u=h2(s,c),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const Ar=t=>t.join("/").replace(/\/\/+/g,"/"),p2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lw=["post","put","patch","delete"];new Set(lw);const x2=["get",...lw];new Set(x2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mo(){return mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mo.apply(this,arguments)}const om=R.createContext(null),w2=R.createContext(null),Os=R.createContext(null),iu=R.createContext(null),Ms=R.createContext({outlet:null,matches:[],isDataRoute:!1}),cw=R.createContext(null);function _2(t,e){let{relative:n}=e===void 0?{}:e;Co()||He(!1);let{basename:r,navigator:s}=R.useContext(Os),{hash:i,pathname:o,search:c}=dw(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Ar([r,o])),s.createHref({pathname:u,search:c,hash:i})}function Co(){return R.useContext(iu)!=null}function Ui(){return Co()||He(!1),R.useContext(iu).location}function uw(t){R.useContext(Os).static||R.useLayoutEffect(t)}function lm(){let{isDataRoute:t}=R.useContext(Ms);return t?D2():b2()}function b2(){Co()||He(!1);let t=R.useContext(om),{basename:e,future:n,navigator:r}=R.useContext(Os),{matches:s}=R.useContext(Ms),{pathname:i}=Ui(),o=JSON.stringify(aw(s,n.v7_relativeSplatPath)),c=R.useRef(!1);return uw(()=>{c.current=!0}),R.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let p=ow(d,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ar([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,i,t])}function dw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(Os),{matches:s}=R.useContext(Ms),{pathname:i}=Ui(),o=JSON.stringify(aw(s,r.v7_relativeSplatPath));return R.useMemo(()=>ow(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function E2(t,e){return N2(t,e)}function N2(t,e,n,r){Co()||He(!1);let{navigator:s}=R.useContext(Os),{matches:i}=R.useContext(Ms),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Ui(),f;if(e){var p;let k=typeof e=="string"?Fi(e):e;u==="/"||(p=k.pathname)!=null&&p.startsWith(u)||He(!1),f=k}else f=d;let g=f.pathname||"/",_=g;if(u!=="/"){let k=u.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(k.length).join("/")}let T=XN(t,{pathname:_}),j=C2(T&&T.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:Ar([u,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:Ar([u,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n,r);return e&&j?R.createElement(iu.Provider,{value:{location:mo({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:_r.Pop}},j):j}function T2(){let t=R2(),e=v2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:s},n):null,null)}const I2=R.createElement(T2,null);class S2 extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(Ms.Provider,{value:this.props.routeContext},R.createElement(cw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k2(t){let{routeContext:e,match:n,children:r}=t,s=R.useContext(om);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Ms.Provider,{value:e},r)}function C2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let f=o.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);f>=0||He(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:_}=n,T=p.route.loader&&g[p.route.id]===void 0&&(!_||_[p.route.id]===void 0);if(p.route.lazy||T){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let _,T=!1,j=null,k=null;n&&(_=c&&p.route.id?c[p.route.id]:void 0,j=p.route.errorElement||I2,u&&(d<0&&g===0?(V2("route-fallback"),T=!0,k=null):d===g&&(T=!0,k=p.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,g+1)),y=()=>{let b;return _?b=j:T?b=k:p.route.Component?b=R.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=f,R.createElement(k2,{match:p,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?R.createElement(S2,{location:n.location,revalidation:n.revalidation,component:j,error:_,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var hw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hw||{}),fw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fw||{});function j2(t){let e=R.useContext(om);return e||He(!1),e}function A2(t){let e=R.useContext(w2);return e||He(!1),e}function P2(t){let e=R.useContext(Ms);return e||He(!1),e}function mw(t){let e=P2(),n=e.matches[e.matches.length-1];return n.route.id||He(!1),n.route.id}function R2(){var t;let e=R.useContext(cw),n=A2(),r=mw();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function D2(){let{router:t}=j2(hw.UseNavigateStable),e=mw(fw.UseNavigateStable),n=R.useRef(!1);return uw(()=>{n.current=!0}),R.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,mo({fromRouteId:e},i)))},[t,e])}const ly={};function V2(t,e,n){ly[t]||(ly[t]=!0)}function O2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Gs(t){He(!1)}function M2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=_r.Pop,navigator:i,static:o=!1,future:c}=t;Co()&&He(!1);let u=e.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:u,navigator:i,static:o,future:mo({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);typeof r=="string"&&(r=Fi(r));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:T="default"}=r,j=R.useMemo(()=>{let k=am(f,u);return k==null?null:{location:{pathname:k,search:p,hash:g,state:_,key:T},navigationType:s}},[u,f,p,g,_,T,s]);return j==null?null:R.createElement(Os.Provider,{value:d},R.createElement(iu.Provider,{children:n,value:j}))}function L2(t){let{children:e,location:n}=t;return E2(Sh(e),n)}new Promise(()=>{});function Sh(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,s)=>{if(!R.isValidElement(r))return;let i=[...e,s];if(r.type===R.Fragment){n.push.apply(n,Sh(r.props.children,i));return}r.type!==Gs&&He(!1),!r.props.index||!r.props.children||He(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sh(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kh(){return kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kh.apply(this,arguments)}function F2(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function U2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function z2(t,e){return t.button===0&&(!e||e==="_self")&&!U2(t)}function Ch(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function B2(t,e){let n=Ch(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const $2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],H2="6";try{window.__reactRouterVersion=H2}catch{}const W2="startTransition",cy=Mb[W2];function q2(t){let{basename:e,children:n,future:r,window:s}=t,i=R.useRef();i.current==null&&(i.current=KN({window:s,v5Compat:!0}));let o=i.current,[c,u]=R.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=R.useCallback(p=>{d&&cy?cy(()=>u(p)):u(p)},[u,d]);return R.useLayoutEffect(()=>o.listen(f),[o,f]),R.useEffect(()=>O2(r),[r]),R.createElement(M2,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:o,future:r})}const G2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=R.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p}=e,g=F2(e,$2),{basename:_}=R.useContext(Os),T,j=!1;if(typeof d=="string"&&K2.test(d)&&(T=d,G2))try{let b=new URL(window.location.href),N=d.startsWith("//")?new URL(b.protocol+d):new URL(d),O=am(N.pathname,_);N.origin===b.origin&&O!=null?d=O+N.search+N.hash:j=!0}catch{}let k=_2(d,{relative:s}),v=Q2(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:p});function y(b){r&&r(b),b.defaultPrevented||v(b)}return R.createElement("a",kh({},g,{href:T||k,onClick:j||i?r:y,ref:n,target:u}))});var uy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uy||(uy={}));var dy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dy||(dy={}));function Q2(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:c}=e===void 0?{}:e,u=lm(),d=Ui(),f=dw(t,{relative:o});return R.useCallback(p=>{if(z2(p,n)){p.preventDefault();let g=r!==void 0?r:xc(d)===xc(f);u(t,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:c})}},[d,u,f,r,s,n,t,i,o,c])}function J2(t){let e=R.useRef(Ch(t)),n=R.useRef(!1),r=Ui(),s=R.useMemo(()=>B2(r.search,n.current?null:e.current),[r.search]),i=lm(),o=R.useCallback((c,u)=>{const d=Ch(typeof c=="function"?c(s):c);n.current=!0,i("?"+d,u)},[i,s]);return[s,o]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Y=(t,e)=>{const n=R.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:u,...d},f)=>R.createElement("svg",{ref:f,...X2,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Y2(t)}`,c].join(" "),...d},[...e.map(([p,g])=>R.createElement(p,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Y("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Y("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=Y("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=Y("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=Y("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Y("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=Y("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Y("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=Y("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=Y("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Y("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=Y("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=Y("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=Y("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=Y("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Y("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=Y("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=Y("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=Y("GitPullRequest",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21",key:"rroup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Y("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=Y("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=Y("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=Y("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=Y("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Y("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=Y("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Y("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Y("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Y("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=Y("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=Y("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Y("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),hT=()=>{};var py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},fT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],c=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Ew={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,f=i>>2,p=(i&3)<<4|c>>4;let g=(c&15)<<2|d>>6,_=d&63;u||(_=64,o||(g=64)),r.push(n[f],n[p],n[g],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||d==null||p==null)throw new mT;const g=i<<2|c>>4;if(r.push(g),d!==64){const _=c<<4&240|d>>2;if(r.push(_),p!==64){const T=d<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pT=function(t){const e=bw(t);return Ew.encodeByteArray(e,!0)},Ec=function(t){return pT(t).replace(/\./g,"")},Nw=function(t){try{return Ew.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=()=>gT().__FIREBASE_DEFAULTS__,vT=()=>{if(typeof process>"u"||typeof py>"u")return;const t=py.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nw(t[1]);return e&&JSON.parse(e)},lu=()=>{try{return hT()||yT()||vT()||xT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tw=t=>{var e,n;return(n=(e=lu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wT=t=>{const e=Tw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Iw=()=>{var t;return(t=lu())===null||t===void 0?void 0:t.config},Sw=t=>{var e;return(e=lu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ec(JSON.stringify(n)),Ec(JSON.stringify(o)),""].join(".")}const $a={};function ET(){const t={prod:[],emulator:[]};for(const e of Object.keys($a))$a[e]?t.emulator.push(e):t.prod.push(e);return t}function NT(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gy=!1;function Cw(t,e){if(typeof window>"u"||typeof document>"u"||!zi(window.location.host)||$a[t]===e||$a[t]||gy)return;$a[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=ET().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{gy=!0,o()},g}function f(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=NT(r),_=n("text"),T=document.getElementById(_)||document.createElement("span"),j=n("learnmore"),k=document.getElementById(j)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const b=g.element;c(b),f(k,j);const N=d();u(y,v),b.append(y,T,k,N),document.body.appendChild(b)}i?(T.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function IT(){var t;const e=(t=lu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ST(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jT(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AT(){return!IT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PT(){try{return typeof indexedDB=="object"}catch{return!1}}function RT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="FirebaseError";class ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DT,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ao.prototype.create)}}class Ao{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?VT(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new ir(s,c,r)}}function VT(t,e){return t.replace(OT,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const OT=/\{\$([^}]+)}/g;function MT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(yy(i)&&yy(o)){if(!Cs(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function yy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function LT(t,e){const n=new FT(t,e);return n.subscribe.bind(n)}class FT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UT(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=_d),s.error===void 0&&(s.error=_d),s.complete===void 0&&(s.complete=_d);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _d(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _T;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($T(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cs){return this.instances.has(e)}getOptions(e=cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cs){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BT(t){return t===cs?void 0:t}function $T(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const WT={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},qT=oe.INFO,GT={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},KT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=GT[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hm{constructor(e){this.name=e,this._logLevel=qT,this._logHandler=KT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const QT=(t,e)=>e.some(n=>t instanceof n);let vy,xy;function JT(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XT(){return xy||(xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jw=new WeakMap,Oh=new WeakMap,Aw=new WeakMap,bd=new WeakMap,fm=new WeakMap;function YT(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Rr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jw.set(n,t)}).catch(()=>{}),fm.set(e,t),e}function ZT(t){if(Oh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Oh.set(t,e)}let Mh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Oh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Aw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eI(t){Mh=t(Mh)}function tI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ed(this),e,...n);return Aw.set(r,e.sort?e.sort():[e]),Rr(r)}:XT().includes(t)?function(...e){return t.apply(Ed(this),e),Rr(jw.get(this))}:function(...e){return Rr(t.apply(Ed(this),e))}}function nI(t){return typeof t=="function"?tI(t):(t instanceof IDBTransaction&&ZT(t),QT(t,JT())?new Proxy(t,Mh):t)}function Rr(t){if(t instanceof IDBRequest)return YT(t);if(bd.has(t))return bd.get(t);const e=nI(t);return e!==t&&(bd.set(t,e),fm.set(e,t)),e}const Ed=t=>fm.get(t);function rI(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=Rr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Rr(o.result),u.oldVersion,u.newVersion,Rr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const sI=["get","getKey","getAll","getAllKeys","count"],iI=["put","add","delete","clear"],Nd=new Map;function wy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nd.get(e))return Nd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=iI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||sI.includes(n)))return;const i=async function(o,...c){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&u.done]))[0]};return Nd.set(e,i),i}eI(t=>({...t,get:(e,n,r)=>wy(e,n)||t.get(e,n,r),has:(e,n)=>!!wy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lh="@firebase/app",_y="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new hm("@firebase/app"),lI="@firebase/app-compat",cI="@firebase/analytics-compat",uI="@firebase/analytics",dI="@firebase/app-check-compat",hI="@firebase/app-check",fI="@firebase/auth",mI="@firebase/auth-compat",pI="@firebase/database",gI="@firebase/data-connect",yI="@firebase/database-compat",vI="@firebase/functions",xI="@firebase/functions-compat",wI="@firebase/installations",_I="@firebase/installations-compat",bI="@firebase/messaging",EI="@firebase/messaging-compat",NI="@firebase/performance",TI="@firebase/performance-compat",II="@firebase/remote-config",SI="@firebase/remote-config-compat",kI="@firebase/storage",CI="@firebase/storage-compat",jI="@firebase/firestore",AI="@firebase/ai",PI="@firebase/firestore-compat",RI="firebase",DI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="[DEFAULT]",VI={[Lh]:"fire-core",[lI]:"fire-core-compat",[uI]:"fire-analytics",[cI]:"fire-analytics-compat",[hI]:"fire-app-check",[dI]:"fire-app-check-compat",[fI]:"fire-auth",[mI]:"fire-auth-compat",[pI]:"fire-rtdb",[gI]:"fire-data-connect",[yI]:"fire-rtdb-compat",[vI]:"fire-fn",[xI]:"fire-fn-compat",[wI]:"fire-iid",[_I]:"fire-iid-compat",[bI]:"fire-fcm",[EI]:"fire-fcm-compat",[NI]:"fire-perf",[TI]:"fire-perf-compat",[II]:"fire-rc",[SI]:"fire-rc-compat",[kI]:"fire-gcs",[CI]:"fire-gcs-compat",[jI]:"fire-fst",[PI]:"fire-fst-compat",[AI]:"fire-vertex","fire-js":"fire-js",[RI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,OI=new Map,Uh=new Map;function by(t,e){try{t.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ci(t){const e=t.name;if(Uh.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;Uh.set(e,t);for(const n of Nc.values())by(n,t);for(const n of OI.values())by(n,t);return!0}function mm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Ao("app","Firebase",MI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=DI;function Pw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fh,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Dr.create("bad-app-name",{appName:String(s)});if(n||(n=Iw()),!n)throw Dr.create("no-options");const i=Nc.get(s);if(i){if(Cs(n,i.options)&&Cs(r,i.config))return i;throw Dr.create("duplicate-app",{appName:s})}const o=new HT(s);for(const u of Uh.values())o.addComponent(u);const c=new LI(n,r,o);return Nc.set(s,c),c}function Rw(t=Fh){const e=Nc.get(t);if(!e&&t===Fh&&Iw())return Pw();if(!e)throw Dr.create("no-app",{appName:t});return e}function Vr(t,e,n){var r;let s=(r=VI[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(c.join(" "));return}Ci(new js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="firebase-heartbeat-database",UI=1,po="firebase-heartbeat-store";let Td=null;function Dw(){return Td||(Td=rI(FI,UI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(po)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),Td}async function zI(t){try{const n=(await Dw()).transaction(po),r=await n.objectStore(po).get(Vw(t));return await n.done,r}catch(e){if(e instanceof ir)er.warn(e.message);else{const n=Dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});er.warn(n.message)}}}async function Ey(t,e){try{const r=(await Dw()).transaction(po,"readwrite");await r.objectStore(po).put(e,Vw(t)),await r.done}catch(n){if(n instanceof ir)er.warn(n.message);else{const r=Dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});er.warn(r.message)}}}function Vw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=1024,$I=30;class HI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ny();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>$I){const o=GI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){er.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ny(),{heartbeatsToSend:r,unsentEntries:s}=WI(this._heartbeatsCache.heartbeats),i=Ec(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return er.warn(n),""}}}function Ny(){return new Date().toISOString().substring(0,10)}function WI(t,e=BI){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ty(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ty(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PT()?RT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ey(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ey(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ty(t){return Ec(JSON.stringify({version:2,heartbeats:t})).length}function GI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){Ci(new js("platform-logger",e=>new aI(e),"PRIVATE")),Ci(new js("heartbeat",e=>new HI(e),"PRIVATE")),Vr(Lh,_y,t),Vr(Lh,_y,"esm2017"),Vr("fire-js","")}KI("");var Iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Or,Ow;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,w){function E(){}E.prototype=w.prototype,I.D=w.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(S,A,P){for(var C=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)C[Q-2]=arguments[Q];return w.prototype[A].apply(S,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,w,E){E||(E=0);var S=Array(16);if(typeof w=="string")for(var A=0;16>A;++A)S[A]=w.charCodeAt(E++)|w.charCodeAt(E++)<<8|w.charCodeAt(E++)<<16|w.charCodeAt(E++)<<24;else for(A=0;16>A;++A)S[A]=w[E++]|w[E++]<<8|w[E++]<<16|w[E++]<<24;w=I.g[0],E=I.g[1],A=I.g[2];var P=I.g[3],C=w+(P^E&(A^P))+S[0]+3614090360&4294967295;w=E+(C<<7&4294967295|C>>>25),C=P+(A^w&(E^A))+S[1]+3905402710&4294967295,P=w+(C<<12&4294967295|C>>>20),C=A+(E^P&(w^E))+S[2]+606105819&4294967295,A=P+(C<<17&4294967295|C>>>15),C=E+(w^A&(P^w))+S[3]+3250441966&4294967295,E=A+(C<<22&4294967295|C>>>10),C=w+(P^E&(A^P))+S[4]+4118548399&4294967295,w=E+(C<<7&4294967295|C>>>25),C=P+(A^w&(E^A))+S[5]+1200080426&4294967295,P=w+(C<<12&4294967295|C>>>20),C=A+(E^P&(w^E))+S[6]+2821735955&4294967295,A=P+(C<<17&4294967295|C>>>15),C=E+(w^A&(P^w))+S[7]+4249261313&4294967295,E=A+(C<<22&4294967295|C>>>10),C=w+(P^E&(A^P))+S[8]+1770035416&4294967295,w=E+(C<<7&4294967295|C>>>25),C=P+(A^w&(E^A))+S[9]+2336552879&4294967295,P=w+(C<<12&4294967295|C>>>20),C=A+(E^P&(w^E))+S[10]+4294925233&4294967295,A=P+(C<<17&4294967295|C>>>15),C=E+(w^A&(P^w))+S[11]+2304563134&4294967295,E=A+(C<<22&4294967295|C>>>10),C=w+(P^E&(A^P))+S[12]+1804603682&4294967295,w=E+(C<<7&4294967295|C>>>25),C=P+(A^w&(E^A))+S[13]+4254626195&4294967295,P=w+(C<<12&4294967295|C>>>20),C=A+(E^P&(w^E))+S[14]+2792965006&4294967295,A=P+(C<<17&4294967295|C>>>15),C=E+(w^A&(P^w))+S[15]+1236535329&4294967295,E=A+(C<<22&4294967295|C>>>10),C=w+(A^P&(E^A))+S[1]+4129170786&4294967295,w=E+(C<<5&4294967295|C>>>27),C=P+(E^A&(w^E))+S[6]+3225465664&4294967295,P=w+(C<<9&4294967295|C>>>23),C=A+(w^E&(P^w))+S[11]+643717713&4294967295,A=P+(C<<14&4294967295|C>>>18),C=E+(P^w&(A^P))+S[0]+3921069994&4294967295,E=A+(C<<20&4294967295|C>>>12),C=w+(A^P&(E^A))+S[5]+3593408605&4294967295,w=E+(C<<5&4294967295|C>>>27),C=P+(E^A&(w^E))+S[10]+38016083&4294967295,P=w+(C<<9&4294967295|C>>>23),C=A+(w^E&(P^w))+S[15]+3634488961&4294967295,A=P+(C<<14&4294967295|C>>>18),C=E+(P^w&(A^P))+S[4]+3889429448&4294967295,E=A+(C<<20&4294967295|C>>>12),C=w+(A^P&(E^A))+S[9]+568446438&4294967295,w=E+(C<<5&4294967295|C>>>27),C=P+(E^A&(w^E))+S[14]+3275163606&4294967295,P=w+(C<<9&4294967295|C>>>23),C=A+(w^E&(P^w))+S[3]+4107603335&4294967295,A=P+(C<<14&4294967295|C>>>18),C=E+(P^w&(A^P))+S[8]+1163531501&4294967295,E=A+(C<<20&4294967295|C>>>12),C=w+(A^P&(E^A))+S[13]+2850285829&4294967295,w=E+(C<<5&4294967295|C>>>27),C=P+(E^A&(w^E))+S[2]+4243563512&4294967295,P=w+(C<<9&4294967295|C>>>23),C=A+(w^E&(P^w))+S[7]+1735328473&4294967295,A=P+(C<<14&4294967295|C>>>18),C=E+(P^w&(A^P))+S[12]+2368359562&4294967295,E=A+(C<<20&4294967295|C>>>12),C=w+(E^A^P)+S[5]+4294588738&4294967295,w=E+(C<<4&4294967295|C>>>28),C=P+(w^E^A)+S[8]+2272392833&4294967295,P=w+(C<<11&4294967295|C>>>21),C=A+(P^w^E)+S[11]+1839030562&4294967295,A=P+(C<<16&4294967295|C>>>16),C=E+(A^P^w)+S[14]+4259657740&4294967295,E=A+(C<<23&4294967295|C>>>9),C=w+(E^A^P)+S[1]+2763975236&4294967295,w=E+(C<<4&4294967295|C>>>28),C=P+(w^E^A)+S[4]+1272893353&4294967295,P=w+(C<<11&4294967295|C>>>21),C=A+(P^w^E)+S[7]+4139469664&4294967295,A=P+(C<<16&4294967295|C>>>16),C=E+(A^P^w)+S[10]+3200236656&4294967295,E=A+(C<<23&4294967295|C>>>9),C=w+(E^A^P)+S[13]+681279174&4294967295,w=E+(C<<4&4294967295|C>>>28),C=P+(w^E^A)+S[0]+3936430074&4294967295,P=w+(C<<11&4294967295|C>>>21),C=A+(P^w^E)+S[3]+3572445317&4294967295,A=P+(C<<16&4294967295|C>>>16),C=E+(A^P^w)+S[6]+76029189&4294967295,E=A+(C<<23&4294967295|C>>>9),C=w+(E^A^P)+S[9]+3654602809&4294967295,w=E+(C<<4&4294967295|C>>>28),C=P+(w^E^A)+S[12]+3873151461&4294967295,P=w+(C<<11&4294967295|C>>>21),C=A+(P^w^E)+S[15]+530742520&4294967295,A=P+(C<<16&4294967295|C>>>16),C=E+(A^P^w)+S[2]+3299628645&4294967295,E=A+(C<<23&4294967295|C>>>9),C=w+(A^(E|~P))+S[0]+4096336452&4294967295,w=E+(C<<6&4294967295|C>>>26),C=P+(E^(w|~A))+S[7]+1126891415&4294967295,P=w+(C<<10&4294967295|C>>>22),C=A+(w^(P|~E))+S[14]+2878612391&4294967295,A=P+(C<<15&4294967295|C>>>17),C=E+(P^(A|~w))+S[5]+4237533241&4294967295,E=A+(C<<21&4294967295|C>>>11),C=w+(A^(E|~P))+S[12]+1700485571&4294967295,w=E+(C<<6&4294967295|C>>>26),C=P+(E^(w|~A))+S[3]+2399980690&4294967295,P=w+(C<<10&4294967295|C>>>22),C=A+(w^(P|~E))+S[10]+4293915773&4294967295,A=P+(C<<15&4294967295|C>>>17),C=E+(P^(A|~w))+S[1]+2240044497&4294967295,E=A+(C<<21&4294967295|C>>>11),C=w+(A^(E|~P))+S[8]+1873313359&4294967295,w=E+(C<<6&4294967295|C>>>26),C=P+(E^(w|~A))+S[15]+4264355552&4294967295,P=w+(C<<10&4294967295|C>>>22),C=A+(w^(P|~E))+S[6]+2734768916&4294967295,A=P+(C<<15&4294967295|C>>>17),C=E+(P^(A|~w))+S[13]+1309151649&4294967295,E=A+(C<<21&4294967295|C>>>11),C=w+(A^(E|~P))+S[4]+4149444226&4294967295,w=E+(C<<6&4294967295|C>>>26),C=P+(E^(w|~A))+S[11]+3174756917&4294967295,P=w+(C<<10&4294967295|C>>>22),C=A+(w^(P|~E))+S[2]+718787259&4294967295,A=P+(C<<15&4294967295|C>>>17),C=E+(P^(A|~w))+S[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+A&4294967295,I.g[3]=I.g[3]+P&4294967295}r.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var E=w-this.blockSize,S=this.B,A=this.h,P=0;P<w;){if(A==0)for(;P<=E;)s(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<w;)if(S[A++]=I.charCodeAt(P++),A==this.blockSize){s(this,S),A=0;break}}else for(;P<w;)if(S[A++]=I[P++],A==this.blockSize){s(this,S),A=0;break}}this.h=A,this.o+=w},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var E=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=E&255,E/=256;for(this.u(I),I=Array(16),w=E=0;4>w;++w)for(var S=0;32>S;S+=8)I[E++]=this.g[w]>>>S&255;return I};function i(I,w){var E=c;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=w(I)}function o(I,w){this.h=w;for(var E=[],S=!0,A=I.length-1;0<=A;A--){var P=I[A]|0;S&&P==w||(E[A]=P,S=!1)}this.g=E}var c={};function u(I){return-128<=I&&128>I?i(I,function(w){return new o([w|0],0>w?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return k(d(-I));for(var w=[],E=1,S=0;I>=E;S++)w[S]=I/E|0,E*=4294967296;return new o(w,0)}function f(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return k(f(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(w,8)),S=p,A=0;A<I.length;A+=8){var P=Math.min(8,I.length-A),C=parseInt(I.substring(A,A+P),w);8>P?(P=d(Math.pow(w,P)),S=S.j(P).add(d(C))):(S=S.j(E),S=S.add(d(C)))}return S}var p=u(0),g=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(j(this))return-k(this).m();for(var I=0,w=1,E=0;E<this.g.length;E++){var S=this.i(E);I+=(0<=S?S:4294967296+S)*w,w*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(j(this))return"-"+k(this).toString(I);for(var w=d(Math.pow(I,6)),E=this,S="";;){var A=N(E,w).g;E=v(E,A.j(w));var P=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=A,T(E))return P+S;for(;6>P.length;)P="0"+P;S=P+S}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function j(I){return I.h==-1}t.l=function(I){return I=v(this,I),j(I)?-1:T(I)?0:1};function k(I){for(var w=I.g.length,E=[],S=0;S<w;S++)E[S]=~I.g[S];return new o(E,~I.h).add(g)}t.abs=function(){return j(this)?k(this):this},t.add=function(I){for(var w=Math.max(this.g.length,I.g.length),E=[],S=0,A=0;A<=w;A++){var P=S+(this.i(A)&65535)+(I.i(A)&65535),C=(P>>>16)+(this.i(A)>>>16)+(I.i(A)>>>16);S=C>>>16,P&=65535,C&=65535,E[A]=C<<16|P}return new o(E,E[E.length-1]&-2147483648?-1:0)};function v(I,w){return I.add(k(w))}t.j=function(I){if(T(this)||T(I))return p;if(j(this))return j(I)?k(this).j(k(I)):k(k(this).j(I));if(j(I))return k(this.j(k(I)));if(0>this.l(_)&&0>I.l(_))return d(this.m()*I.m());for(var w=this.g.length+I.g.length,E=[],S=0;S<2*w;S++)E[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<I.g.length;A++){var P=this.i(S)>>>16,C=this.i(S)&65535,Q=I.i(A)>>>16,ue=I.i(A)&65535;E[2*S+2*A]+=C*ue,y(E,2*S+2*A),E[2*S+2*A+1]+=P*ue,y(E,2*S+2*A+1),E[2*S+2*A+1]+=C*Q,y(E,2*S+2*A+1),E[2*S+2*A+2]+=P*Q,y(E,2*S+2*A+2)}for(S=0;S<w;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=w;S<2*w;S++)E[S]=0;return new o(E,0)};function y(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function b(I,w){this.g=I,this.h=w}function N(I,w){if(T(w))throw Error("division by zero");if(T(I))return new b(p,p);if(j(I))return w=N(k(I),w),new b(k(w.g),k(w.h));if(j(w))return w=N(I,k(w)),new b(k(w.g),w.h);if(30<I.g.length){if(j(I)||j(w))throw Error("slowDivide_ only works with positive integers.");for(var E=g,S=w;0>=S.l(I);)E=O(E),S=O(S);var A=M(E,1),P=M(S,1);for(S=M(S,2),E=M(E,2);!T(S);){var C=P.add(S);0>=C.l(I)&&(A=A.add(E),P=C),S=M(S,1),E=M(E,1)}return w=v(I,A.j(w)),new b(A,w)}for(A=p;0<=I.l(w);){for(E=Math.max(1,Math.floor(I.m()/w.m())),S=Math.ceil(Math.log(E)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),P=d(E),C=P.j(w);j(C)||0<C.l(I);)E-=S,P=d(E),C=P.j(w);T(P)&&(P=g),A=A.add(P),I=v(I,C)}return new b(A,I)}t.A=function(I){return N(this,I).h},t.and=function(I){for(var w=Math.max(this.g.length,I.g.length),E=[],S=0;S<w;S++)E[S]=this.i(S)&I.i(S);return new o(E,this.h&I.h)},t.or=function(I){for(var w=Math.max(this.g.length,I.g.length),E=[],S=0;S<w;S++)E[S]=this.i(S)|I.i(S);return new o(E,this.h|I.h)},t.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),E=[],S=0;S<w;S++)E[S]=this.i(S)^I.i(S);return new o(E,this.h^I.h)};function O(I){for(var w=I.g.length+1,E=[],S=0;S<w;S++)E[S]=I.i(S)<<1|I.i(S-1)>>>31;return new o(E,I.h)}function M(I,w){var E=w>>5;w%=32;for(var S=I.g.length-E,A=[],P=0;P<S;P++)A[P]=0<w?I.i(P+E)>>>w|I.i(P+E+1)<<32-w:I.i(P+E);return new o(A,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ow=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Or=o}).apply(typeof Iy<"u"?Iy:typeof self<"u"?self:typeof window<"u"?window:{});var _l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mw,ja,Lw,Fl,zh,Fw,Uw,zw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof _l=="object"&&_l];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var m=r;l=l.split(".");for(var x=0;x<l.length-1;x++){var D=l[x];if(!(D in m))break e;m=m[D]}l=l[l.length-1],x=m[l],h=h(x),h!=x&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var m=0,x=!1,D={next:function(){if(!x&&m<l.length){var V=m++;return{value:h(V,l[V]),done:!1}}return x=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(l){return l||function(){return i(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function d(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function f(l,h,m){return l.call.apply(l.bind,arguments)}function p(l,h,m){if(!l)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,x),l.apply(h,D)}}return function(){return l.apply(h,arguments)}}function g(l,h,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function _(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var x=m.slice();return x.push.apply(x,arguments),l.apply(this,x)}}function T(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(x,D,V){for(var $=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)$[_e-2]=arguments[_e];return h.prototype[D].apply(x,$)}}function j(l){const h=l.length;if(0<h){const m=Array(h);for(let x=0;x<h;x++)m[x]=l[x];return m}return[]}function k(l,h){for(let m=1;m<arguments.length;m++){const x=arguments[m];if(u(x)){const D=l.length||0,V=x.length||0;l.length=D+V;for(let $=0;$<V;$++)l[D+$]=x[$]}else l.push(x)}}class v{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(l){return/^[\s\xa0]*$/.test(l)}function b(){var l=c.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var O=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function M(l,h,m){for(const x in l)h.call(m,l[x],x,l)}function I(l,h){for(const m in l)h.call(void 0,l[m],m,l)}function w(l){const h={};for(const m in l)h[m]=l[m];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,h){let m,x;for(let D=1;D<arguments.length;D++){x=arguments[D];for(m in x)l[m]=x[m];for(let V=0;V<E.length;V++)m=E[V],Object.prototype.hasOwnProperty.call(x,m)&&(l[m]=x[m])}}function A(l){var h=1;l=l.split(":");const m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function P(l){c.setTimeout(()=>{throw l},0)}function C(){var l=G;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Q{constructor(){this.h=this.g=null}add(h,m){const x=ue.get();x.set(h,m),this.h?this.h.next=x:this.g=x,this.h=x}}var ue=new v(()=>new re,l=>l.reset());class re{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,B=!1,G=new Q,K=()=>{const l=c.Promise.resolve(void 0);pe=()=>{l.then(he)}};var he=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(m){P(m)}var h=ue;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}B=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Dt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};c.addEventListener("test",m,h),c.removeEventListener("test",m,h)}catch{}return l}();function wt(l,h){if(ye.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,x=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(O){e:{try{N(h.nodeName);var D=!0;break e}catch{}D=!1}D||(h=null)}}else m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement);this.relatedTarget=h,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:It[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&wt.aa.h.call(this)}}T(wt,ye);var It={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Rn=0;function Vt(l,h,m,x,D){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!x,this.ha=D,this.key=++Rn,this.da=this.fa=!1}function ts(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ns(l){this.src=l,this.g={},this.h=0}ns.prototype.add=function(l,h,m,x,D){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var $=Xi(l,h,x,D);return-1<$?(h=l[$],m||(h.fa=!1)):(h=new Vt(h,this.src,V,!!x,D),h.fa=m,l.push(h)),h};function Ji(l,h){var m=h.type;if(m in l.g){var x=l.g[m],D=Array.prototype.indexOf.call(x,h,void 0),V;(V=0<=D)&&Array.prototype.splice.call(x,D,1),V&&(ts(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Xi(l,h,m,x){for(var D=0;D<l.length;++D){var V=l[D];if(!V.da&&V.listener==h&&V.capture==!!m&&V.ha==x)return D}return-1}var Yi="closure_lm_"+(1e6*Math.random()|0),Zi={};function Us(l,h,m,x,D){if(Array.isArray(h)){for(var V=0;V<h.length;V++)Us(l,h[V],m,x,D);return null}return m=we(m),l&&l[Ue]?l.K(h,m,d(x)?!!x.capture:!1,D):Cu(l,h,m,!1,x,D)}function Cu(l,h,m,x,D,V){if(!h)throw Error("Invalid event type");var $=d(D)?!!D.capture:!!D,_e=be(l);if(_e||(l[Yi]=_e=new ns(l)),m=_e.add(h,m,x,$,V),m.proxy)return m;if(x=Bo(),m.proxy=x,x.src=l,x.listener=m,l.addEventListener)Dt||(D=$),D===void 0&&(D=!1),l.addEventListener(h.toString(),x,D);else if(l.attachEvent)l.attachEvent(se(h.toString()),x);else if(l.addListener&&l.removeListener)l.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Bo(){function l(m){return h.call(l.src,l.listener,m)}const h=ve;return l}function ea(l,h,m,x,D){if(Array.isArray(h))for(var V=0;V<h.length;V++)ea(l,h[V],m,x,D);else x=d(x)?!!x.capture:!!x,m=we(m),l&&l[Ue]?(l=l.i,h=String(h).toString(),h in l.g&&(V=l.g[h],m=Xi(V,m,x,D),-1<m&&(ts(V[m]),Array.prototype.splice.call(V,m,1),V.length==0&&(delete l.g[h],l.h--)))):l&&(l=be(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Xi(h,m,x,D)),(m=-1<l?h[l]:null)&&F(m))}function F(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Ue])Ji(h.i,l);else{var m=l.type,x=l.proxy;h.removeEventListener?h.removeEventListener(m,x,l.capture):h.detachEvent?h.detachEvent(se(m),x):h.addListener&&h.removeListener&&h.removeListener(x),(m=be(h))?(Ji(m,l),m.h==0&&(m.src=null,h[Yi]=null)):ts(l)}}}function se(l){return l in Zi?Zi[l]:Zi[l]="on"+l}function ve(l,h){if(l.da)l=!0;else{h=new wt(h,this);var m=l.listener,x=l.ha||l.src;l.fa&&F(l),l=m.call(x,h)}return l}function be(l){return l=l[Yi],l instanceof ns?l:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(l){return typeof l=="function"?l:(l[We]||(l[We]=function(h){return l.handleEvent(h)}),l[We])}function ce(){ae.call(this),this.i=new ns(this),this.M=this,this.F=null}T(ce,ae),ce.prototype[Ue]=!0,ce.prototype.removeEventListener=function(l,h,m,x){ea(this,l,h,m,x)};function Ae(l,h){var m,x=l.F;if(x)for(m=[];x;x=x.F)m.push(x);if(l=l.M,x=h.type||h,typeof h=="string")h=new ye(h,l);else if(h instanceof ye)h.target=h.target||l;else{var D=h;h=new ye(x,l),S(h,D)}if(D=!0,m)for(var V=m.length-1;0<=V;V--){var $=h.g=m[V];D=Ot($,x,!0,h)&&D}if($=h.g=l,D=Ot($,x,!0,h)&&D,D=Ot($,x,!1,h)&&D,m)for(V=0;V<m.length;V++)$=h.g=m[V],D=Ot($,x,!1,h)&&D}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var m=l.g[h],x=0;x<m.length;x++)ts(m[x]);delete l.g[h],l.h--}}this.F=null},ce.prototype.K=function(l,h,m,x){return this.i.add(String(l),h,!1,m,x)},ce.prototype.L=function(l,h,m,x){return this.i.add(String(l),h,!0,m,x)};function Ot(l,h,m,x){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var D=!0,V=0;V<h.length;++V){var $=h[V];if($&&!$.da&&$.capture==m){var _e=$.listener,tt=$.ha||$.src;$.fa&&Ji(l.i,$),D=_e.call(tt,x)!==!1&&D}}return D&&!x.defaultPrevented}function tn(l,h,m){if(typeof l=="function")m&&(l=g(l,m));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(l,h||0)}function Dn(l){l.g=tn(()=>{l.g=null,l.i&&(l.i=!1,Dn(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class qe extends ae{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Dn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wt(l){ae.call(this),this.h=l,this.g={}}T(Wt,ae);var nn=[];function rn(l){M(l.g,function(h,m){this.g.hasOwnProperty(m)&&F(h)},l),l.g={}}Wt.prototype.N=function(){Wt.aa.N.call(this),rn(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=c.JSON.stringify,ta=c.JSON.parse,K1=class{stringify(l){return c.JSON.stringify(l,void 0)}parse(l){return c.JSON.parse(l,void 0)}};function ju(){}ju.prototype.h=null;function sp(l){return l.h||(l.h=l.i())}function ip(){}var na={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Au(){ye.call(this,"d")}T(Au,ye);function Pu(){ye.call(this,"c")}T(Pu,ye);var rs={},ap=null;function $o(){return ap=ap||new ce}rs.La="serverreachability";function op(l){ye.call(this,rs.La,l)}T(op,ye);function ra(l){const h=$o();Ae(h,new op(h))}rs.STAT_EVENT="statevent";function lp(l,h){ye.call(this,rs.STAT_EVENT,l),this.stat=h}T(lp,ye);function _t(l){const h=$o();Ae(h,new lp(h,l))}rs.Ma="timingevent";function cp(l,h){ye.call(this,rs.Ma,l),this.size=h}T(cp,ye);function sa(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){l()},h)}function ia(){this.g=!0}ia.prototype.xa=function(){this.g=!1};function Q1(l,h,m,x,D,V){l.info(function(){if(l.g)if(V)for(var $="",_e=V.split("&"),tt=0;tt<_e.length;tt++){var me=_e[tt].split("=");if(1<me.length){var ut=me[0];me=me[1];var dt=ut.split("_");$=2<=dt.length&&dt[1]=="type"?$+(ut+"="+me+"&"):$+(ut+"=redacted&")}}else $=null;else $=V;return"XMLHTTP REQ ("+x+") [attempt "+D+"]: "+h+`
`+m+`
`+$})}function J1(l,h,m,x,D,V,$){l.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+D+"]: "+h+`
`+m+`
`+V+" "+$})}function zs(l,h,m,x){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Y1(l,m)+(x?" "+x:"")})}function X1(l,h){l.info(function(){return"TIMEOUT: "+h})}ia.prototype.info=function(){};function Y1(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var x=m[l];if(!(2>x.length)){var D=x[1];if(Array.isArray(D)&&!(1>D.length)){var V=D[0];if(V!="noop"&&V!="stop"&&V!="close")for(var $=1;$<D.length;$++)D[$]=""}}}}return vn(m)}catch{return h}}var Ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},up={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ru;function Wo(){}T(Wo,ju),Wo.prototype.g=function(){return new XMLHttpRequest},Wo.prototype.i=function(){return{}},Ru=new Wo;function ar(l,h,m,x){this.j=l,this.i=h,this.l=m,this.R=x||1,this.U=new Wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dp}function dp(){this.i=null,this.g="",this.h=!1}var hp={},Du={};function Vu(l,h,m){l.L=1,l.v=Qo(Vn(h)),l.m=m,l.P=!0,fp(l,null)}function fp(l,h){l.F=Date.now(),qo(l),l.A=Vn(l.v);var m=l.A,x=l.R;Array.isArray(x)||(x=[String(x)]),Sp(m.i,"t",x),l.C=0,m=l.j.J,l.h=new dp,l.g=Wp(l.j,m?h:null,!l.m),0<l.O&&(l.M=new qe(g(l.Y,l,l.g),l.O)),h=l.U,m=l.g,x=l.ca;var D="readystatechange";Array.isArray(D)||(D&&(nn[0]=D.toString()),D=nn);for(var V=0;V<D.length;V++){var $=Us(m,D[V],x||h.handleEvent,!1,h.h||h);if(!$)break;h.g[$.key]=$}h=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),ra(),Q1(l.i,l.u,l.A,l.l,l.R,l.m)}ar.prototype.ca=function(l){l=l.target;const h=this.M;h&&On(l)==3?h.j():this.Y(l)},ar.prototype.Y=function(l){try{if(l==this.g)e:{const dt=On(this.g);var h=this.g.Ba();const Hs=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||Dp(this.g)))){this.J||dt!=4||h==7||(h==8||0>=Hs?ra(3):ra(2)),Ou(this);var m=this.g.Z();this.X=m;t:if(mp(this)){var x=Dp(this.g);l="";var D=x.length,V=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ss(this),aa(this);var $="";break t}this.h.i=new c.TextDecoder}for(h=0;h<D;h++)this.h.h=!0,l+=this.h.i.decode(x[h],{stream:!(V&&h==D-1)});x.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=m==200,J1(this.i,this.u,this.A,this.l,this.R,dt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,tt=this.g;if((_e=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(_e)){var me=_e;break t}}me=null}if(m=me)zs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mu(this,m);else{this.o=!1,this.s=3,_t(12),ss(this),aa(this);break e}}if(this.P){m=!0;let sn;for(;!this.J&&this.C<$.length;)if(sn=Z1(this,$),sn==Du){dt==4&&(this.s=4,_t(14),m=!1),zs(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==hp){this.s=4,_t(15),zs(this.i,this.l,$,"[Invalid Chunk]"),m=!1;break}else zs(this.i,this.l,sn,null),Mu(this,sn);if(mp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||$.length!=0||this.h.h||(this.s=1,_t(16),m=!1),this.o=this.o&&m,!m)zs(this.i,this.l,$,"[Invalid Chunked Response]"),ss(this),aa(this);else if(0<$.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),$u(ut),ut.M=!0,_t(11))}}else zs(this.i,this.l,$,null),Mu(this,$);dt==4&&ss(this),this.o&&!this.J&&(dt==4?zp(this.j,this):(this.o=!1,qo(this)))}else gb(this.g),m==400&&0<$.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),ss(this),aa(this)}}}catch{}finally{}};function mp(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Z1(l,h){var m=l.C,x=h.indexOf(`
`,m);return x==-1?Du:(m=Number(h.substring(m,x)),isNaN(m)?hp:(x+=1,x+m>h.length?Du:(h=h.slice(x,x+m),l.C=x+m,h)))}ar.prototype.cancel=function(){this.J=!0,ss(this)};function qo(l){l.S=Date.now()+l.I,pp(l,l.I)}function pp(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=sa(g(l.ba,l),h)}function Ou(l){l.B&&(c.clearTimeout(l.B),l.B=null)}ar.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(X1(this.i,this.A),this.L!=2&&(ra(),_t(17)),ss(this),this.s=2,aa(this)):pp(this,this.S-l)};function aa(l){l.j.G==0||l.J||zp(l.j,l)}function ss(l){Ou(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,rn(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Mu(l,h){try{var m=l.j;if(m.G!=0&&(m.g==l||Lu(m.h,l))){if(!l.K&&Lu(m.h,l)&&m.G==3){try{var x=m.Da.g.parse(h)}catch{x=null}if(Array.isArray(x)&&x.length==3){var D=x;if(D[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)tl(m),Zo(m);else break e;Bu(m),_t(18)}}else m.za=D[1],0<m.za-m.T&&37500>D[2]&&m.F&&m.v==0&&!m.C&&(m.C=sa(g(m.Za,m),6e3));if(1>=vp(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else as(m,11)}else if((l.K||m.g==l)&&tl(m),!y(h))for(D=m.Da.g.parse(h),h=0;h<D.length;h++){let me=D[h];if(m.T=me[0],me=me[1],m.G==2)if(me[0]=="c"){m.K=me[1],m.ia=me[2];const ut=me[3];ut!=null&&(m.la=ut,m.j.info("VER="+m.la));const dt=me[4];dt!=null&&(m.Aa=dt,m.j.info("SVER="+m.Aa));const Hs=me[5];Hs!=null&&typeof Hs=="number"&&0<Hs&&(x=1.5*Hs,m.L=x,m.j.info("backChannelRequestTimeoutMs_="+x)),x=m;const sn=l.g;if(sn){const rl=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rl){var V=x.h;V.g||rl.indexOf("spdy")==-1&&rl.indexOf("quic")==-1&&rl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Fu(V,V.h),V.h=null))}if(x.D){const Hu=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hu&&(x.ya=Hu,Te(x.I,x.D,Hu))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),x=m;var $=l;if(x.qa=Hp(x,x.J?x.ia:null,x.W),$.K){xp(x.h,$);var _e=$,tt=x.L;tt&&(_e.I=tt),_e.B&&(Ou(_e),qo(_e)),x.g=$}else Fp(x);0<m.i.length&&el(m)}else me[0]!="stop"&&me[0]!="close"||as(m,7);else m.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?as(m,7):zu(m):me[0]!="noop"&&m.l&&m.l.ta(me),m.v=0)}}ra(4)}catch{}}var eb=class{constructor(l,h){this.g=l,this.map=h}};function gp(l){this.l=l||10,c.PerformanceNavigationTiming?(l=c.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yp(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function vp(l){return l.h?1:l.g?l.g.size:0}function Lu(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Fu(l,h){l.g?l.g.add(h):l.h=h}function xp(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}gp.prototype.cancel=function(){if(this.i=wp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function wp(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const m of l.g.values())h=h.concat(m.D);return h}return j(l.i)}function tb(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],m=l.length,x=0;x<m;x++)h.push(l[x]);return h}h=[],m=0;for(x in l)h[m++]=l[x];return h}function nb(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(const x in l)h[m++]=x;return h}}}function _p(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var m=nb(l),x=tb(l),D=x.length,V=0;V<D;V++)h.call(void 0,x[V],m&&m[V],l)}var bp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rb(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var x=l[m].indexOf("="),D=null;if(0<=x){var V=l[m].substring(0,x);D=l[m].substring(x+1)}else V=l[m];h(V,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function is(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof is){this.h=l.h,Go(this,l.j),this.o=l.o,this.g=l.g,Ko(this,l.s),this.l=l.l;var h=l.i,m=new ca;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),Ep(this,m),this.m=l.m}else l&&(h=String(l).match(bp))?(this.h=!1,Go(this,h[1]||"",!0),this.o=oa(h[2]||""),this.g=oa(h[3]||"",!0),Ko(this,h[4]),this.l=oa(h[5]||"",!0),Ep(this,h[6]||"",!0),this.m=oa(h[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}is.prototype.toString=function(){var l=[],h=this.j;h&&l.push(la(h,Np,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(la(h,Np,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(la(m,m.charAt(0)=="/"?ab:ib,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",la(m,lb)),l.join("")};function Vn(l){return new is(l)}function Go(l,h,m){l.j=m?oa(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ko(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Ep(l,h,m){h instanceof ca?(l.i=h,cb(l.i,l.h)):(m||(h=la(h,ob)),l.i=new ca(h,l.h))}function Te(l,h,m){l.i.set(h,m)}function Qo(l){return Te(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function oa(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function la(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,sb),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function sb(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Np=/[#\/\?@]/g,ib=/[#\?:]/g,ab=/[#\?]/g,ob=/[#\?@]/g,lb=/#/g;function ca(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function or(l){l.g||(l.g=new Map,l.h=0,l.i&&rb(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=ca.prototype,t.add=function(l,h){or(this),this.i=null,l=Bs(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function Tp(l,h){or(l),h=Bs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Ip(l,h){return or(l),h=Bs(l,h),l.g.has(h)}t.forEach=function(l,h){or(this),this.g.forEach(function(m,x){m.forEach(function(D){l.call(h,D,x,this)},this)},this)},t.na=function(){or(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let x=0;x<h.length;x++){const D=l[x];for(let V=0;V<D.length;V++)m.push(h[x])}return m},t.V=function(l){or(this);let h=[];if(typeof l=="string")Ip(this,l)&&(h=h.concat(this.g.get(Bs(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},t.set=function(l,h){return or(this),this.i=null,l=Bs(this,l),Ip(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Sp(l,h,m){Tp(l,h),0<m.length&&(l.i=null,l.g.set(Bs(l,h),j(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var x=h[m];const V=encodeURIComponent(String(x)),$=this.V(x);for(x=0;x<$.length;x++){var D=V;$[x]!==""&&(D+="="+encodeURIComponent(String($[x]))),l.push(D)}}return this.i=l.join("&")};function Bs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function cb(l,h){h&&!l.j&&(or(l),l.i=null,l.g.forEach(function(m,x){var D=x.toLowerCase();x!=D&&(Tp(this,x),Sp(this,D,m))},l)),l.j=h}function ub(l,h){const m=new ia;if(c.Image){const x=new Image;x.onload=_(lr,m,"TestLoadImage: loaded",!0,h,x),x.onerror=_(lr,m,"TestLoadImage: error",!1,h,x),x.onabort=_(lr,m,"TestLoadImage: abort",!1,h,x),x.ontimeout=_(lr,m,"TestLoadImage: timeout",!1,h,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=l}else h(!1)}function db(l,h){const m=new ia,x=new AbortController,D=setTimeout(()=>{x.abort(),lr(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:x.signal}).then(V=>{clearTimeout(D),V.ok?lr(m,"TestPingServer: ok",!0,h):lr(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),lr(m,"TestPingServer: error",!1,h)})}function lr(l,h,m,x,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),x(m)}catch{}}function hb(){this.g=new K1}function fb(l,h,m){const x=m||"";try{_p(l,function(D,V){let $=D;d(D)&&($=vn(D)),h.push(x+V+"="+encodeURIComponent($))})}catch(D){throw h.push(x+"type="+encodeURIComponent("_badmap")),D}}function Jo(l){this.l=l.Ub||null,this.j=l.eb||!1}T(Jo,ju),Jo.prototype.g=function(){return new Xo(this.l,this.j)},Jo.prototype.i=function(l){return function(){return l}}({});function Xo(l,h){ce.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Xo,ce),t=Xo.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,da(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,da(this)),this.g&&(this.readyState=3,da(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kp(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function kp(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?ua(this):da(this),this.readyState==3&&kp(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ua(this))},t.Qa=function(l){this.g&&(this.response=l,ua(this))},t.ga=function(){this.g&&ua(this)};function ua(l){l.readyState=4,l.l=null,l.j=null,l.v=null,da(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function da(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Cp(l){let h="";return M(l,function(m,x){h+=x,h+=":",h+=m,h+=`\r
`}),h}function Uu(l,h,m){e:{for(x in m){var x=!1;break e}x=!0}x||(m=Cp(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Te(l,h,m))}function Oe(l){ce.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Oe,ce);var mb=/^https?$/i,pb=["POST","PUT"];t=Oe.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,m,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ru.g(),this.v=this.o?sp(this.o):sp(Ru),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(V){jp(this,V);return}if(l=m||"",m=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var D in x)m.set(D,x[D]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const V of x.keys())m.set(V,x.get(V));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),D=c.FormData&&l instanceof c.FormData,!(0<=Array.prototype.indexOf.call(pb,h,void 0))||x||D||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,$]of m)this.g.setRequestHeader(V,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rp(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){jp(this,V)}};function jp(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Ap(l),Yo(l)}function Ap(l){l.A||(l.A=!0,Ae(l,"complete"),Ae(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ae(this,"complete"),Ae(this,"abort"),Yo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yo(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pp(this):this.bb())},t.bb=function(){Pp(this)};function Pp(l){if(l.h&&typeof o<"u"&&(!l.v[1]||On(l)!=4||l.Z()!=2)){if(l.u&&On(l)==4)tn(l.Ea,0,l);else if(Ae(l,"readystatechange"),On(l)==4){l.h=!1;try{const $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var x;if(x=$===0){var D=String(l.D).match(bp)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),x=!mb.test(D?D.toLowerCase():"")}m=x}if(m)Ae(l,"complete"),Ae(l,"success");else{l.m=6;try{var V=2<On(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",Ap(l)}}finally{Yo(l)}}}}function Yo(l,h){if(l.g){Rp(l);const m=l.g,x=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Ae(l,"ready");try{m.onreadystatechange=x}catch{}}}function Rp(l){l.I&&(c.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function On(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),ta(h)}};function Dp(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function gb(l){const h={};l=(l.g&&2<=On(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<l.length;x++){if(y(l[x]))continue;var m=A(l[x]);const D=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=h[D]||[];h[D]=V,V.push(m)}I(h,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function Vp(l){this.Aa=0,this.i=[],this.j=new ia,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,l),this.cb=ha("retryDelaySeedMs",1e4,l),this.Wa=ha("forwardChannelMaxRetries",2,l),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new gp(l&&l.concurrentRequestLimit),this.Da=new hb,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vp.prototype,t.la=8,t.G=1,t.connect=function(l,h,m,x){_t(0),this.W=l,this.H=h||{},m&&x!==void 0&&(this.H.OSID=m,this.H.OAID=x),this.F=this.X,this.I=Hp(this,null,this.W),el(this)};function zu(l){if(Op(l),l.G==3){var h=l.U++,m=Vn(l.I);if(Te(m,"SID",l.K),Te(m,"RID",h),Te(m,"TYPE","terminate"),fa(l,m),h=new ar(l,l.j,h),h.L=2,h.v=Qo(Vn(m)),m=!1,c.navigator&&c.navigator.sendBeacon)try{m=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&c.Image&&(new Image().src=h.v,m=!0),m||(h.g=Wp(h.j,null),h.g.ea(h.v)),h.F=Date.now(),qo(h)}$p(l)}function Zo(l){l.g&&($u(l),l.g.cancel(),l.g=null)}function Op(l){Zo(l),l.u&&(c.clearTimeout(l.u),l.u=null),tl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&c.clearTimeout(l.s),l.s=null)}function el(l){if(!yp(l.h)&&!l.s){l.s=!0;var h=l.Ga;pe||K(),B||(pe(),B=!0),G.add(h,l),l.B=0}}function yb(l,h){return vp(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=sa(g(l.Ga,l,h),Bp(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const D=new ar(this,this.j,l);let V=this.o;if(this.S&&(V?(V=w(V),S(V,this.S)):V=this.S),this.m!==null||this.O||(D.H=V,V=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var x=this.i[m];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(h+=x,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Lp(this,D,h),m=Vn(this.I),Te(m,"RID",l),Te(m,"CVER",22),this.D&&Te(m,"X-HTTP-Session-Id",this.D),fa(this,m),V&&(this.O?h="headers="+encodeURIComponent(String(Cp(V)))+"&"+h:this.m&&Uu(m,this.m,V)),Fu(this.h,D),this.Ua&&Te(m,"TYPE","init"),this.P?(Te(m,"$req",h),Te(m,"SID","null"),D.T=!0,Vu(D,m,null)):Vu(D,m,h),this.G=2}}else this.G==3&&(l?Mp(this,l):this.i.length==0||yp(this.h)||Mp(this))};function Mp(l,h){var m;h?m=h.l:m=l.U++;const x=Vn(l.I);Te(x,"SID",l.K),Te(x,"RID",m),Te(x,"AID",l.T),fa(l,x),l.m&&l.o&&Uu(x,l.m,l.o),m=new ar(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Lp(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Fu(l.h,m),Vu(m,x,h)}function fa(l,h){l.H&&M(l.H,function(m,x){Te(h,x,m)}),l.l&&_p({},function(m,x){Te(h,x,m)})}function Lp(l,h,m){m=Math.min(l.i.length,m);var x=l.l?g(l.l.Na,l.l,l):null;e:{var D=l.i;let V=-1;for(;;){const $=["count="+m];V==-1?0<m?(V=D[0].g,$.push("ofs="+V)):V=0:$.push("ofs="+V);let _e=!0;for(let tt=0;tt<m;tt++){let me=D[tt].g;const ut=D[tt].map;if(me-=V,0>me)V=Math.max(0,D[tt].g-100),_e=!1;else try{fb(ut,$,"req"+me+"_")}catch{x&&x(ut)}}if(_e){x=$.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,x}function Fp(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;pe||K(),B||(pe(),B=!0),G.add(h,l),l.v=0}}function Bu(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=sa(g(l.Fa,l),Bp(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Up(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=sa(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Zo(this),Up(this))};function $u(l){l.A!=null&&(c.clearTimeout(l.A),l.A=null)}function Up(l){l.g=new ar(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Vn(l.qa);Te(h,"RID","rpc"),Te(h,"SID",l.K),Te(h,"AID",l.T),Te(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Te(h,"TO",l.ja),Te(h,"TYPE","xmlhttp"),fa(l,h),l.m&&l.o&&Uu(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Qo(Vn(h)),m.m=null,m.P=!0,fp(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Zo(this),Bu(this),_t(19))};function tl(l){l.C!=null&&(c.clearTimeout(l.C),l.C=null)}function zp(l,h){var m=null;if(l.g==h){tl(l),$u(l),l.g=null;var x=2}else if(Lu(l.h,h))m=h.D,xp(l.h,h),x=1;else return;if(l.G!=0){if(h.o)if(x==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var D=l.B;x=$o(),Ae(x,new cp(x,m)),el(l)}else Fp(l);else if(D=h.s,D==3||D==0&&0<h.X||!(x==1&&yb(l,h)||x==2&&Bu(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),D){case 1:as(l,5);break;case 4:as(l,10);break;case 3:as(l,6);break;default:as(l,2)}}}function Bp(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function as(l,h){if(l.j.info("Error code "+h),h==2){var m=g(l.fb,l),x=l.Xa;const D=!x;x=new is(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Go(x,"https"),Qo(x),D?ub(x.toString(),m):db(x.toString(),m)}else _t(2);l.G=0,l.l&&l.l.sa(h),$p(l),Op(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function $p(l){if(l.G=0,l.ka=[],l.l){const h=wp(l.h);(h.length!=0||l.i.length!=0)&&(k(l.ka,h),k(l.ka,l.i),l.h.i.length=0,j(l.i),l.i.length=0),l.l.ra()}}function Hp(l,h,m){var x=m instanceof is?Vn(m):new is(m);if(x.g!="")h&&(x.g=h+"."+x.g),Ko(x,x.s);else{var D=c.location;x=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;var V=new is(null);x&&Go(V,x),h&&(V.g=h),D&&Ko(V,D),m&&(V.l=m),x=V}return m=l.D,h=l.ya,m&&h&&Te(x,m,h),Te(x,"VER",l.la),fa(l,x),x}function Wp(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Oe(new Jo({eb:m})):new Oe(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qp(){}t=qp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nl(){}nl.prototype.g=function(l,h){return new Mt(l,h)};function Mt(l,h){ce.call(this),this.g=new Vp(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!y(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new $s(this)}T(Mt,ce),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){zu(this.g)},Mt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=vn(l),l=m);h.i.push(new eb(h.Ya++,l)),h.G==3&&el(h)},Mt.prototype.N=function(){this.g.l=null,delete this.j,zu(this.g),delete this.g,Mt.aa.N.call(this)};function Gp(l){Au.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}T(Gp,Au);function Kp(){Pu.call(this),this.status=1}T(Kp,Pu);function $s(l){this.g=l}T($s,qp),$s.prototype.ua=function(){Ae(this.g,"a")},$s.prototype.ta=function(l){Ae(this.g,new Gp(l))},$s.prototype.sa=function(l){Ae(this.g,new Kp)},$s.prototype.ra=function(){Ae(this.g,"b")},nl.prototype.createWebChannel=nl.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,zw=function(){return new nl},Uw=function(){return $o()},Fw=rs,zh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ho.NO_ERROR=0,Ho.TIMEOUT=8,Ho.HTTP_ERROR=6,Fl=Ho,up.COMPLETE="complete",Lw=up,ip.EventType=na,na.OPEN="a",na.CLOSE="b",na.ERROR="c",na.MESSAGE="d",ce.prototype.listen=ce.prototype.K,ja=ip,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,Mw=Oe}).apply(typeof _l<"u"?_l:typeof self<"u"?self:typeof window<"u"?window:{});const Sy="@firebase/firestore",ky="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $i="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new hm("@firebase/firestore");function Ks(){return As.logLevel}function H(t,...e){if(As.logLevel<=oe.DEBUG){const n=e.map(pm);As.debug(`Firestore (${$i}): ${t}`,...n)}}function tr(t,...e){if(As.logLevel<=oe.ERROR){const n=e.map(pm);As.error(`Firestore (${$i}): ${t}`,...n)}}function Br(t,...e){if(As.logLevel<=oe.WARN){const n=e.map(pm);As.warn(`Firestore (${$i}): ${t}`,...n)}}function pm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Bw(t,r,n)}function Bw(t,e,n){let r=`FIRESTORE (${$i}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw tr(r),new Error(r)}function ge(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Bw(e,s,r)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class JI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XI{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Mr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Mr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new $w(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new pt(e)}}class YI{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new YI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eS{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const r=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=tS(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ne(t,e){return t<e?-1:t>e?1:0}function Bh(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ne(r,s);{const i=Hw(),o=nS(i.encode(jy(t,n)),i.encode(jy(e,n)));return o!==0?o:ne(r,s)}}n+=r>65535?2:1}return ne(t.length,e.length)}function jy(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function nS(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ne(t[n],e[n]);return ne(t.length,e.length)}function ji(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="__name__";class _n{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&X(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _n.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _n?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=_n.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ne(e.length,n.length)}static compareSegments(e,n){const r=_n.isNumericId(e),s=_n.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?_n.extractNumericId(e).compare(_n.extractNumericId(n)):Bh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Or.fromString(e.substring(4,e.length-2))}}class Se extends _n{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const rS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends _n{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return rS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ay}static keyField(){return new it([Ay])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Se.fromString(e))}static fromName(e){return new J(Se.fromString(e).popFirst(5))}static empty(){return new J(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Se(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t,e,n){if(!n)throw new q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sS(t,e,n,r){if(e===!0&&r===!0)throw new q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Py(t){if(!J.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ry(t){if(J.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ym(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function xs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ym(t);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ro(t,e){if(!qw(t))throw new q(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new q(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=-62135596800,Vy=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Vy);return new ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dy)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vy}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ro(e,ke._jsonSchema))return new ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ke._jsonSchemaVersion="firestore/timestamp/1.0",ke._jsonSchema={type:$e("string",ke._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new ke(0,0))}static max(){return new ee(new ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=-1;function iS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ee.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new $r(s,J.empty(),e)}function aS(t){return new $r(t.readTime,t.key,go)}class $r{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $r(ee.min(),J.empty(),go)}static max(){return new $r(ee.max(),J.empty(),go)}}function oS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hi(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==lS)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let s=0,i=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(s=>s?L.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new L((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(f=>{o[d]=f,++c,c===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new L((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function uS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}cu.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=-1;function uu(t){return t==null}function Tc(t){return t===0&&1/t==-1/0}function dS(t){return typeof t=="number"&&Number.isInteger(t)&&!Tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="";function hS(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Oy(e)),e=fS(t.get(n),e);return Oy(e)}function fS(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Gw:n+="";break;default:n+=i}}return n}function Oy(t){return t+Gw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Kw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bl(this.root,e,this.comparator,!0)}}class bl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??rt.RED,this.left=s??rt.EMPTY,this.right=i??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ly(this.data.getIterator())}getIteratorFrom(e){return new Ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Je(this.comparator);return n.data=e,n}}class Ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new Ut([])}unionWith(e){let n=new Je(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ut(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ji(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Qw("Invalid base64 string: "+i):i}}(e);return new ct(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const mS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=mS.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wr(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="server_timestamp",Xw="__type__",Yw="__previous_value__",Zw="__local_write_time__";function xm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xw])===null||n===void 0?void 0:n.stringValue)===Jw}function du(t){const e=t.mapValue.fields[Yw];return xm(e)?du(e):e}function yo(t){const e=Hr(t.mapValue.fields[Zw].timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,r,s,i,o,c,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const Ic="(default)";class vo{constructor(e,n){this.projectId=e,this.database=n||Ic}static empty(){return new vo("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(e){return e instanceof vo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="__type__",gS="__max__",El={mapValue:{}},t_="__vector__",Sc="value";function qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xm(t)?4:vS(t)?9007199254740991:yS(t)?10:11:X(28295,{value:t})}function jn(t,e){if(t===e)return!0;const n=qr(t);if(n!==qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yo(t).isEqual(yo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Hr(s.timestampValue),c=Hr(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Wr(s.bytesValue).isEqual(Wr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Le(s.geoPointValue.latitude)===Le(i.geoPointValue.latitude)&&Le(s.geoPointValue.longitude)===Le(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Le(s.integerValue)===Le(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Le(s.doubleValue),c=Le(i.doubleValue);return o===c?Tc(o)===Tc(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return ji(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(My(o)!==My(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!jn(o[u],c[u])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function xo(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function Ai(t,e){if(t===e)return 0;const n=qr(t),r=qr(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(i,o){const c=Le(i.integerValue||i.doubleValue),u=Le(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return Fy(t.timestampValue,e.timestampValue);case 4:return Fy(yo(t),yo(e));case 5:return Bh(t.stringValue,e.stringValue);case 6:return function(i,o){const c=Wr(i),u=Wr(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=ne(c[d],u[d]);if(f!==0)return f}return ne(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const c=ne(Le(i.latitude),Le(o.latitude));return c!==0?c:ne(Le(i.longitude),Le(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Uy(t.arrayValue,e.arrayValue);case 10:return function(i,o){var c,u,d,f;const p=i.fields||{},g=o.fields||{},_=(c=p[Sc])===null||c===void 0?void 0:c.arrayValue,T=(u=g[Sc])===null||u===void 0?void 0:u.arrayValue,j=ne(((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0,((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0);return j!==0?j:Uy(_,T)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===El.mapValue&&o===El.mapValue)return 0;if(i===El.mapValue)return 1;if(o===El.mapValue)return-1;const c=i.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=Bh(u[p],f[p]);if(g!==0)return g;const _=Ai(c[u[p]],d[f[p]]);if(_!==0)return _}return ne(u.length,f.length)}(t.mapValue,e.mapValue);default:throw X(23264,{le:n})}}function Fy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ne(t,e);const n=Hr(t),r=Hr(e),s=ne(n.seconds,r.seconds);return s!==0?s:ne(n.nanos,r.nanos)}function Uy(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ai(n[s],r[s]);if(i)return i}return ne(n.length,r.length)}function Pi(t){return $h(t)}function $h(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Wr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=$h(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${$h(n.fields[o])}`;return s+"}"}(t.mapValue):X(61005,{value:t})}function Ul(t){switch(qr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=du(t);return e?16+Ul(e):16;case 5:return 2*t.stringValue.length;case 6:return Wr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ul(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Zr(r.fields,(i,o)=>{s+=i.length+Ul(o)}),s}(t.mapValue);default:throw X(13486,{value:t})}}function Hh(t){return!!t&&"integerValue"in t}function wm(t){return!!t&&"arrayValue"in t}function zy(t){return!!t&&"nullValue"in t}function By(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zl(t){return!!t&&"mapValue"in t}function yS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[e_])===null||n===void 0?void 0:n.stringValue)===t_}function Ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ha(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(n)}setAll(e){let n=it.emptyPath(),r={},s=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=Ha(o):s.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];zl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Zr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ct(Ha(this.value))}}function n_(t){const e=[];return Zr(t.fields,(n,r)=>{const s=new it([n]);if(zl(r)){const i=n_(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ut(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new yt(e,0,ee.min(),ee.min(),ee.min(),Ct.empty(),0)}static newFoundDocument(e,n,r,s){return new yt(e,1,n,ee.min(),r,s,0)}static newNoDocument(e,n){return new yt(e,2,n,ee.min(),ee.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,ee.min(),ee.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.position=e,this.inclusive=n}}function $y(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Ai(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function xS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{}class Ke extends r_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _S(e,n,r):n==="array-contains"?new NS(e,r):n==="in"?new TS(e,r):n==="not-in"?new IS(e,r):n==="array-contains-any"?new SS(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bS(e,r):new ES(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ai(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison(Ai(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends r_{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new An(e,n)}matches(e){return s_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function s_(t){return t.op==="and"}function i_(t){return wS(t)&&s_(t)}function wS(t){for(const e of t.filters)if(e instanceof An)return!1;return!0}function Wh(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Pi(t.value);if(i_(t))return t.filters.map(e=>Wh(e)).join(",");{const e=t.filters.map(n=>Wh(n)).join(",");return`${t.op}(${e})`}}function a_(t,e){return t instanceof Ke?function(r,s){return s instanceof Ke&&r.op===s.op&&r.field.isEqual(s.field)&&jn(r.value,s.value)}(t,e):t instanceof An?function(r,s){return s instanceof An&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,c)=>i&&a_(o,s.filters[c]),!0):!1}(t,e):void X(19439)}function o_(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Pi(n.value)}`}(t):t instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(o_).join(" ,")+"}"}(t):"Filter"}class _S extends Ke{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class bS extends Ke{constructor(e,n){super(e,"in",n),this.keys=l_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ES extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=l_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function l_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class NS extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wm(n)&&xo(n.arrayValue,this.value)}}class TS extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xo(this.value.arrayValue,n)}}class IS extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xo(this.value.arrayValue,n)}}class SS extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.Pe=null}}function Wy(t,e=null,n=[],r=[],s=null,i=null,o=null){return new kS(t,e,n,r,s,i,o)}function _m(t){const e=te(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),uu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Pi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Pi(r)).join(",")),e.Pe=n}return e.Pe}function bm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!a_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hy(t.startAt,e.startAt)&&Hy(t.endAt,e.endAt)}function qh(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function CS(t,e,n,r,s,i,o,c){return new hu(t,e,n,r,s,i,o,c)}function Em(t){return new hu(t)}function qy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jS(t){return t.collectionGroup!==null}function Wa(t){const e=te(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Je(it.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new Cc(i,r))}),n.has(it.keyField().canonicalString())||e.Te.push(new Cc(it.keyField(),r))}return e.Te}function Tn(t){const e=te(t);return e.Ie||(e.Ie=AS(e,Wa(t))),e.Ie}function AS(t,e){if(t.limitType==="F")return Wy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Cc(s.field,i)});const n=t.endAt?new kc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kc(t.startAt.position,t.startAt.inclusive):null;return Wy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gh(t,e,n){return new hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fu(t,e){return bm(Tn(t),Tn(e))&&t.limitType===e.limitType}function c_(t){return`${_m(Tn(t))}|lt:${t.limitType}`}function Qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>o_(s)).join(", ")}]`),uu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Pi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Pi(s)).join(",")),`Target(${r})`}(Tn(t))}; limitType=${t.limitType})`}function mu(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Wa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,c,u){const d=$y(o,c,u);return o.inclusive?d<=0:d<0}(r.startAt,Wa(r),s)||r.endAt&&!function(o,c,u){const d=$y(o,c,u);return o.inclusive?d>=0:d>0}(r.endAt,Wa(r),s))}(t,e)}function PS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function u_(t){return(e,n)=>{let r=!1;for(const s of Wa(t)){const i=RS(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function RS(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,c){const u=o.data.field(i),d=c.data.field(i);return u!==null&&d!==null?Ai(u,d):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Kw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new Ve(J.comparator);function nr(){return DS}const d_=new Ve(J.comparator);function Aa(...t){let e=d_;for(const n of t)e=e.insert(n.key,n);return e}function h_(t){let e=d_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ps(){return qa()}function f_(){return qa()}function qa(){return new Ls(t=>t.toString(),(t,e)=>t.isEqual(e))}const VS=new Ve(J.comparator),OS=new Je(J.comparator);function le(...t){let e=OS;for(const n of t)e=e.add(n);return e}const MS=new Je(ne);function LS(){return MS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function m_(t){return{integerValue:""+t}}function FS(t,e){return dS(e)?m_(e):Nm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this._=void 0}}function US(t,e,n){return t instanceof jc?function(s,i){const o={fields:{[Xw]:{stringValue:Jw},[Zw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&xm(i)&&(i=du(i)),i&&(o.fields[Yw]=i),{mapValue:o}}(n,e):t instanceof wo?g_(t,e):t instanceof _o?y_(t,e):function(s,i){const o=p_(s,i),c=Gy(o)+Gy(s.Ee);return Hh(o)&&Hh(s.Ee)?m_(c):Nm(s.serializer,c)}(t,e)}function zS(t,e,n){return t instanceof wo?g_(t,e):t instanceof _o?y_(t,e):n}function p_(t,e){return t instanceof Ac?function(r){return Hh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class jc extends pu{}class wo extends pu{constructor(e){super(),this.elements=e}}function g_(t,e){const n=v_(e);for(const r of t.elements)n.some(s=>jn(s,r))||n.push(r);return{arrayValue:{values:n}}}class _o extends pu{constructor(e){super(),this.elements=e}}function y_(t,e){let n=v_(e);for(const r of t.elements)n=n.filter(s=>!jn(s,r));return{arrayValue:{values:n}}}class Ac extends pu{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Gy(t){return Le(t.integerValue||t.doubleValue)}function v_(t){return wm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BS(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof wo&&s instanceof wo||r instanceof _o&&s instanceof _o?ji(r.elements,s.elements,jn):r instanceof Ac&&s instanceof Ac?jn(r.Ee,s.Ee):r instanceof jc&&s instanceof jc}(t.transform,e.transform)}class $S{constructor(e,n){this.version=e,this.transformResults=n}}class pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gu{}function x_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tm(t.key,pn.none()):new Do(t.key,t.data,pn.none());{const n=t.data,r=Ct.empty();let s=new Je(it.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new es(t.key,r,new Ut(s.toArray()),pn.none())}}function HS(t,e,n){t instanceof Do?function(s,i,o){const c=s.value.clone(),u=Qy(s.fieldTransforms,i,o.transformResults);c.setAll(u),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof es?function(s,i,o){if(!Bl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=Qy(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(w_(s)),u.setAll(c),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ga(t,e,n,r){return t instanceof Do?function(i,o,c,u){if(!Bl(i.precondition,o))return c;const d=i.value.clone(),f=Jy(i.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof es?function(i,o,c,u){if(!Bl(i.precondition,o))return c;const d=Jy(i.fieldTransforms,u,o),f=o.data;return f.setAll(w_(i)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,c){return Bl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function WS(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=p_(r.transform,s||null);i!=null&&(n===null&&(n=Ct.empty()),n.set(r.field,i))}return n||null}function Ky(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ji(r,s,(i,o)=>BS(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Do extends gu{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class es extends gu{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function w_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Qy(t,e,n){const r=new Map;ge(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,zS(o,c,n[s]))}return r}function Jy(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,US(i,o,e))}return r}class Tm extends gu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qS extends gu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&HS(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ga(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ga(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=f_();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;const u=x_(o,c);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&ji(this.mutations,e.mutations,(n,r)=>Ky(n,r))&&ji(this.baseMutations,e.baseMutations,(n,r)=>Ky(n,r))}}class Im{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ge(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return VS}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Im(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,de;function JS(t){switch(t){case U.OK:return X(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function __(t){if(t===void 0)return tr("GRPC error has no .code"),U.UNKNOWN;switch(t){case ze.OK:return U.OK;case ze.CANCELLED:return U.CANCELLED;case ze.UNKNOWN:return U.UNKNOWN;case ze.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ze.INTERNAL:return U.INTERNAL;case ze.UNAVAILABLE:return U.UNAVAILABLE;case ze.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ze.NOT_FOUND:return U.NOT_FOUND;case ze.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ze.ABORTED:return U.ABORTED;case ze.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ze.DATA_LOSS:return U.DATA_LOSS;default:return X(39323,{code:t})}}(de=ze||(ze={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Or([4294967295,4294967295],0);function Xy(t){const e=Hw().encode(t),n=new Ow;return n.update(e),new Uint8Array(n.digest())}function Yy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Or([n,r],0),new Or([s,i],0)]}class Sm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pa(`Invalid padding: ${n}`);if(r<0)throw new Pa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pa(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Or.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(Or.fromNumber(r)));return s.compare(XS)===1&&(s=new Or([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Xy(e),[r,s]=Yy(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Sm(i,s,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.fe===0)return;const n=Xy(e),[r,s]=Yy(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Vo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yu(ee.min(),s,new Ve(ne),nr(),le())}}class Vo{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vo(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class b_{constructor(e,n){this.targetId=e,this.De=n}}class E_{constructor(e,n,r=ct.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Zy{constructor(){this.ve=0,this.Ce=e0(),this.Fe=ct.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=le(),n=le(),r=le();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:X(38017,{changeType:i})}}),new Vo(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=e0()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class YS{constructor(e){this.We=e,this.Ge=new Map,this.ze=nr(),this.je=Nl(),this.Je=Nl(),this.He=new Ve(ne)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(qh(i))if(r===0){const o=new J(i.path);this.Xe(n,o,yt.newNoDocument(o,ee.min()))}else ge(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const c=this._t(e),u=c?this.ut(c,e,o):1;if(u!==0){this.rt(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,d)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,c;try{o=Wr(r).toUint8Array()}catch(u){if(u instanceof Qw)return Br("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Sm(o,s,i)}catch(u){return Br(u instanceof Pa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const c=this.st(o);if(c){if(i.current&&qh(c.target)){const u=new J(c.target.path);this.Tt(u).has(o)||this.It(o,u)||this.Xe(o,u,yt.newNoDocument(u,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=le();this.Je.forEach((i,o)=>{let c=!0;o.forEachWhile(u=>{const d=this.st(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new yu(e,n,this.He,this.ze,r);return this.ze=nr(),this.je=Nl(),this.Je=Nl(),this.He=new Ve(ne),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Zy,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Je(ne),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Je(ne),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Zy),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Nl(){return new Ve(J.comparator)}function e0(){return new Ve(J.comparator)}const ZS={asc:"ASCENDING",desc:"DESCENDING"},ek={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tk={and:"AND",or:"OR"};class nk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kh(t,e){return t.useProto3Json||uu(e)?e:{value:e}}function Pc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rk(t,e){return Pc(t,e.toTimestamp())}function In(t){return ge(!!t,49232),ee.fromTimestamp(function(n){const r=Hr(n);return new ke(r.seconds,r.nanos)}(t))}function km(t,e){return Qh(t,e).canonicalString()}function Qh(t,e){const n=function(s){return new Se(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function T_(t){const e=Se.fromString(t);return ge(j_(e),10190,{key:e.toString()}),e}function Jh(t,e){return km(t.databaseId,e.path)}function Id(t,e){const n=T_(e);if(n.get(1)!==t.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(S_(n))}function I_(t,e){return km(t.databaseId,e)}function sk(t){const e=T_(t);return e.length===4?Se.emptyPath():S_(e)}function Xh(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function S_(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function t0(t,e,n){return{name:Jh(t,e),fields:n.value.mapValue.fields}}function ik(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:X(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,f){return d.useProto3Json?(ge(f===void 0||typeof f=="string",58123),ct.fromBase64String(f||"")):(ge(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ct.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){const f=d.code===void 0?U.UNKNOWN:__(d.code);return new q(f,d.message||"")}(o);n=new E_(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Id(t,r.document.name),i=In(r.document.updateTime),o=r.document.createTime?In(r.document.createTime):ee.min(),c=new Ct({mapValue:{fields:r.document.fields}}),u=yt.newFoundDocument(s,i,o,c),d=r.targetIds||[],f=r.removedTargetIds||[];n=new $l(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Id(t,r.document),i=r.readTime?In(r.readTime):ee.min(),o=yt.newNoDocument(s,i),c=r.removedTargetIds||[];n=new $l([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Id(t,r.document),i=r.removedTargetIds||[];n=new $l([],i,s,null)}else{if(!("filter"in e))return X(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new QS(s,i),c=r.targetId;n=new b_(c,o)}}return n}function ak(t,e){let n;if(e instanceof Do)n={update:t0(t,e.key,e.value)};else if(e instanceof Tm)n={delete:Jh(t,e.key)};else if(e instanceof es)n={update:t0(t,e.key,e.data),updateMask:pk(e.fieldMask)};else{if(!(e instanceof qS))return X(16599,{Rt:e.type});n={verify:Jh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof jc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _o)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ac)return{fieldPath:o.field.canonicalString(),increment:c.Ee};throw X(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:rk(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:X(27497)}(t,e.precondition)),n}function ok(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?In(s.updateTime):In(i);return o.isEqual(ee.min())&&(o=In(i)),new $S(o,s.transformResults||[])}(n,e))):[]}function lk(t,e){return{documents:[I_(t,e.path)]}}function ck(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=I_(t,s);const i=function(d){if(d.length!==0)return C_(An.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:Js(g.field),direction:hk(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=Kh(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{Vt:n,parent:s}}function uk(t){let e=sk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ge(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(p){const g=k_(p);return g instanceof An&&i_(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(T){return new Cc(Xs(T.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,uu(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,_=p.values||[];return new kc(_,g)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const g=!p.before,_=p.values||[];return new kc(_,g)}(n.endAt)),CS(e,s,o,i,c,"F",u,d)}function dk(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function k_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xs(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xs(n.unaryFilter.field);return Ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xs(n.unaryFilter.field);return Ke.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xs(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(Xs(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(r=>k_(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function hk(t){return ZS[t]}function fk(t){return ek[t]}function mk(t){return tk[t]}function Js(t){return{fieldPath:t.canonicalString()}}function Xs(t){return it.fromServerFormat(t.fieldPath)}function C_(t){return t instanceof Ke?function(n){if(n.op==="=="){if(By(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NAN"}};if(zy(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(By(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NAN"}};if(zy(n.value))return{unaryFilter:{field:Js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(n.field),op:fk(n.op),value:n.value}}}(t):t instanceof An?function(n){const r=n.getFilters().map(s=>C_(s));return r.length===1?r[0]:{compositeFilter:{op:mk(n.op),filters:r}}}(t):X(54877,{filter:t})}function pk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function j_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,r,s,i=ee.min(),o=ee.min(),c=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.gt=e}}function yk(t){const e=uk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.Dn=new xk}addToCollectionParentIndex(e,n){return this.Dn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve($r.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class xk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Je(Se.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Je(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A_=41943040;class St{static withCacheSize(e){return new St(e,St.DEFAULT_COLLECTION_PERCENTILE,St.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */St.DEFAULT_COLLECTION_PERCENTILE=10,St.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,St.DEFAULT=new St(A_,St.DEFAULT_COLLECTION_PERCENTILE,St.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),St.DISABLED=new St(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ri(0)}static ur(){return new Ri(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="LruGarbageCollector",wk=1048576;function s0([t,e],[n,r]){const s=ne(t,n);return s===0?ne(e,r):s}class _k{constructor(e){this.Tr=e,this.buffer=new Je(s0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();s0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){H(r0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wi(n)?H(r0,"Ignoring IndexedDB error during garbage collection: ",n):await Hi(n)}await this.Rr(3e5)})}}class Ek{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(cu.ue);const r=new _k(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(n0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,c,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),Ks()<=oe.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function Nk(t,e){return new Ek(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.changes=new Ls(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ga(r.mutation,s,Ut.empty(),ke.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const s=ps();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Aa();return i.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,s){let i=nr();const o=qa(),c=function(){return qa()}();return n.forEach((u,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof es)?i=i.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Ga(f.mutation,d,f.mutation.getFieldMask(),ke.now())):o.set(d.key,Ut.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var p;return c.set(d,new Ik(f,(p=o.get(d))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){const r=qa();let s=new Ve((o,c)=>o-c),i=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||Ut.empty();f=c.applyToLocalView(d,f),r.set(u,f);const p=(s.get(c.batchId)||le()).add(u);s=s.insert(c.batchId,p)})}).next(()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,p=f_();f.forEach(g=>{if(!i.has(g)){const _=x_(n.get(g),r.get(g));_!==null&&p.set(g,_),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):L.resolve(ps());let c=go,u=i;return o.next(d=>L.forEach(d,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),i.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,le())).next(f=>({batchId:c,changes:h_(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=Aa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Aa();return this.indexManager.getCollectionParents(e,i).next(c=>L.forEach(c,u=>{const d=function(p,g){return new hu(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(f=>{f.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,yt.newInvalidDocument(f)))});let c=Aa();return o.forEach((u,d)=>{const f=i.get(u);f!==void 0&&Ga(f.mutation,d,Ut.empty(),ke.now()),mu(n,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return L.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:In(s.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:yk(s.bundledQuery),readTime:In(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.overlays=new Ve(J.comparator),this.kr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ps();return L.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const s=ps(),i=n.length+1,o=new J(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return L.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ve((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=i.get(d.largestBatchId);f===null&&(f=ps(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=ps(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=s)););return L.resolve(c)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new KS(n,r));let i=this.kr.get(n);i===void 0&&(i=le(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this.qr=new Je(Xe.Qr),this.$r=new Je(Xe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Xe(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Xe(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new J(new Se([])),r=new Xe(n,e),s=new Xe(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new J(new Se([])),r=new Xe(n,e),s=new Xe(n,e+1);let i=le();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Xe(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xe{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return J.comparator(e.key,n.key)||ne(e.Hr,n.Hr)}static Ur(e,n){return ne(e.Hr,n.Hr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Je(Xe.Qr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new GS(i,n,r,s);this.mutationQueue.push(o);for(const c of s)this.Yr=this.Yr.add(new Xe(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?vm:this.er-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xe(n,0),s=new Xe(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const c=this.Zr(o.Hr);i.push(c)}),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(ne);return n.forEach(s=>{const i=new Xe(s,0),o=new Xe(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],c=>{r=r.add(c.Hr)})}),L.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new Xe(new J(i),0);let c=new Je(ne);return this.Yr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(u.Hr)),!0)},o),L.resolve(this.ei(c))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ge(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return L.forEach(n.mutations,s=>{const i=new Xe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Xe(n,0),s=this.Yr.firstAfterOrEqual(r);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.ni=e,this.docs=function(){return new Ve(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let r=nr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():yt.newInvalidDocument(s))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=nr();const o=n.path,c=new J(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||oS(aS(f),r)<=0||(s.has(f.key)||mu(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(e,n,r,s){X(9500)}ri(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Rk(this)}getSize(e){return L.resolve(this.size)}}class Rk extends Tk{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.persistence=e,this.ii=new Ls(n=>_m(n),bm),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.si=0,this.oi=new Cm,this.targetCount=0,this._i=Ri.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),L.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ri(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.hr(n),L.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),L.waitFor(i).next(()=>s)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),L.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,n){this.ai={},this.overlays={},this.ui=new cu(0),this.ci=!1,this.ci=!0,this.li=new jk,this.referenceDelegate=e(this),this.hi=new Dk(this),this.indexManager=new vk,this.remoteDocumentCache=function(s){return new Pk(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new gk(n),this.Ti=new kk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ck,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Ak(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const s=new Vk(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return L.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class Vk extends cS{constructor(e){super(),this.currentSequenceNumber=e}}class jm{constructor(e){this.persistence=e,this.Ai=new Cm,this.Ri=null}static Vi(e){return new jm(e)}get mi(){if(this.Ri)return this.Ri;throw X(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.mi,r=>{const s=J.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,ee.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return L.or([()=>L.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Rc{constructor(e,n){this.persistence=e,this.gi=new Ls(r=>hS(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Nk(this,n)}static Vi(e,n){return new Rc(e,n)}Ii(){}di(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return L.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?L.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(c=>{c||(r++,i.removeEntry(o,ee.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),L.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ul(e.data.value)),n}Sr(e,n,r){return L.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return L.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=le(),s=le();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Am(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return AT()?8:uS(xt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Ok;return this.ws(e,n,o).next(c=>{if(i.result=c,this.Rs)return this.Ss(e,n,o,c.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Ks()<=oe.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Ks()<=oe.DEBUG&&H("QueryEngine","Query:",Qs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Ks()<=oe.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tn(n))):L.resolve())}ps(e,n){if(qy(n))return L.resolve(null);let r=Tn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Gh(n,null,"F"),r=Tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=le(...i);return this.gs.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.bs(n,c);return this.Ds(n,d,o,u.readTime)?this.ps(e,Gh(n,null,"F")):this.vs(e,d,n,u)}))})))}ys(e,n,r,s){return qy(n)||s.isEqual(ee.min())?L.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?L.resolve(null):(Ks()<=oe.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qs(n)),this.vs(e,o,n,iS(s,go)).next(c=>c))})}bs(e,n){let r=new Je(u_(e));return n.forEach((s,i)=>{mu(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return Ks()<=oe.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Qs(n)),this.gs.getDocumentsMatchingQuery(e,n,$r.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="LocalStore",Lk=3e8;class Fk{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Ve(ne),this.Ms=new Ls(i=>_m(i),bm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sk(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function Uk(t,e,n,r){return new Fk(t,e,n,r)}async function R_(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],c=[];let u=le();for(const d of s){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of i){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Bs:d,removedBatchIds:o,addedBatchIds:c}))})})}function zk(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){const p=d.batch,g=p.keys();let _=L.resolve();return g.forEach(T=>{_=_.next(()=>f.getEntry(u,T)).next(j=>{const k=d.docVersions.get(T);ge(k!==null,48541),j.version.compareTo(k)<0&&(p.applyToRemoteDocument(j,d),j.isValidDocument()&&(j.setReadTime(d.commitVersion),f.addEntry(j)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=le();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function D_(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Bk(t,e){const n=te(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const c=[];e.targetChanges.forEach((f,p)=>{const g=s.get(p);if(!g)return;c.push(n.hi.removeMatchingKeys(i,f.removedDocuments,p).next(()=>n.hi.addMatchingKeys(i,f.addedDocuments,p)));let _=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(ct.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),s=s.insert(p,_),function(j,k,v){return j.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=Lk?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(g,_,f)&&c.push(n.hi.updateTargetData(i,_))});let u=nr(),d=le();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),c.push($k(i,o,e.documentUpdates).next(f=>{u=f.Ls,d=f.ks})),!r.isEqual(ee.min())){const f=n.hi.getLastRemoteSnapshotVersion(i).next(p=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(f)}return L.waitFor(c).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.Fs=s,i))}function $k(t,e,n){let r=le(),s=le();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=nr();return n.forEach((c,u)=>{const d=i.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):H(Pm,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{Ls:o,ks:s}})}function Hk(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=vm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Wk(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,L.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new br(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Yh(t,e,n){const r=te(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Wi(o))throw o;H(Pm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function i0(t,e,n){const r=te(t);let s=ee.min(),i=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){const p=te(u),g=p.Ms.get(f);return g!==void 0?L.resolve(p.Fs.get(g)):p.hi.getTargetData(d,f)}(r,o,Tn(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,c.targetId).next(u=>{i=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:ee.min(),n?i:le())).next(c=>(qk(r,PS(e),c),{documents:c,qs:i})))}function qk(t,e,n){let r=t.xs.get(e)||ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class a0{constructor(){this.activeTargetIds=LS()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gk{constructor(){this.Fo=new a0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new a0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="ConnectivityMonitor";class l0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){H(o0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){H(o0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl=null;function Zh(){return Tl===null?Tl=function(){return 268435456+Math.round(2147483648*Math.random())}():Tl++,"0x"+Tl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="RestConnection",Qk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jk{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Ic?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Zh(),c=this.Go(e,n.toUriEncodedString());H(Sd,`Sending RPC '${e}' ${o}:`,c,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,s,i);const{host:d}=new URL(c),f=zi(d);return this.jo(e,c,u,r,f).then(p=>(H(Sd,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Br(Sd,`RPC '${e}' ${o} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$i}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=Qk[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt="WebChannelConnection";class Yk extends Jk{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=Zh();return new Promise((c,u)=>{const d=new Mw;d.setWithCredentials(!0),d.listenOnce(Lw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Fl.NO_ERROR:const p=d.getResponseJson();H(mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),c(p);break;case Fl.TIMEOUT:H(mt,`RPC '${e}' ${o} timed out`),u(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case Fl.HTTP_ERROR:const g=d.getStatus();if(H(mt,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const j=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(T.status);u(new q(j,T.message))}else u(new q(U.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new q(U.UNAVAILABLE,"Connection failed."));break;default:X(9055,{c_:e,streamId:o,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{H(mt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);H(mt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",f,r,15)})}P_(e,n,r){const s=Zh(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zw(),c=Uw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=i.join("");H(mt,`Creating RPC '${e}' stream ${s}: ${f}`,u);const p=o.createWebChannel(f,u);this.T_(p);let g=!1,_=!1;const T=new Xk({Ho:k=>{_?H(mt,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(g||(H(mt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),H(mt,`RPC '${e}' stream ${s} sending:`,k),p.send(k))},Yo:()=>p.close()}),j=(k,v,y)=>{k.listen(v,b=>{try{y(b)}catch(N){setTimeout(()=>{throw N},0)}})};return j(p,ja.EventType.OPEN,()=>{_||(H(mt,`RPC '${e}' stream ${s} transport opened.`),T.s_())}),j(p,ja.EventType.CLOSE,()=>{_||(_=!0,H(mt,`RPC '${e}' stream ${s} transport closed`),T.__(),this.I_(p))}),j(p,ja.EventType.ERROR,k=>{_||(_=!0,Br(mt,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),T.__(new q(U.UNAVAILABLE,"The operation could not be completed")))}),j(p,ja.EventType.MESSAGE,k=>{var v;if(!_){const y=k.data[0];ge(!!y,16349);const b=y,N=(b==null?void 0:b.error)||((v=b[0])===null||v===void 0?void 0:v.error);if(N){H(mt,`RPC '${e}' stream ${s} received error:`,N);const O=N.status;let M=function(E){const S=ze[E];if(S!==void 0)return __(S)}(O),I=N.message;M===void 0&&(M=U.INTERNAL,I="Unknown error status: "+O+" with message "+N.message),_=!0,T.__(new q(M,I)),p.close()}else H(mt,`RPC '${e}' stream ${s} received:`,y),T.a_(y)}}),j(c,Fw.STAT_EVENT,k=>{k.stat===zh.PROXY?H(mt,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===zh.NOPROXY&&H(mt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){return new nk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="PersistentStream";class O_{constructor(e,n,r,s,i,o,c,u){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new V_(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return H(c0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(H(c0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zk extends O_{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=ik(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?In(o.readTime):ee.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Xh(this.serializer),n.addTarget=function(i,o){let c;const u=o.target;if(c=qh(u)?{documents:lk(i,u)}:{query:ck(i,u).Vt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=N_(i,o.resumeToken);const d=Kh(i,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(ee.min())>0){c.readTime=Pc(i,o.snapshotVersion.toTimestamp());const d=Kh(i,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=dk(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Xh(this.serializer),n.removeTarget=e,this.k_(n)}}class eC extends O_{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=ok(e.writeResults,e.commitTime),r=In(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Xh(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ak(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{}class nC extends tC{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Qh(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(U.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Jo(e,Qh(n,r),s,o,c,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(U.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class rC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(tr(n),this._a=!1):H("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class sC{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Fs(this)&&(H(Ps,"Restarting streams for network reachability change."),await async function(u){const d=te(u);d.Ia.add(4),await Oo(d),d.Aa.set("Unknown"),d.Ia.delete(4),await xu(d)}(this))})}),this.Aa=new rC(r,s)}}async function xu(t){if(Fs(t))for(const e of t.da)await e(!0)}async function Oo(t){for(const e of t.da)await e(!1)}function M_(t,e){const n=te(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Om(n)?Vm(n):qi(n).x_()&&Dm(n,e))}function Rm(t,e){const n=te(t),r=qi(n);n.Ta.delete(e),r.x_()&&L_(n,e),n.Ta.size===0&&(r.x_()?r.B_():Fs(n)&&n.Aa.set("Unknown"))}function Dm(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qi(t).H_(e)}function L_(t,e){t.Ra.$e(e),qi(t).Y_(e)}function Vm(t){t.Ra=new YS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),qi(t).start(),t.Aa.aa()}function Om(t){return Fs(t)&&!qi(t).M_()&&t.Ta.size>0}function Fs(t){return te(t).Ia.size===0}function F_(t){t.Ra=void 0}async function iC(t){t.Aa.set("Online")}async function aC(t){t.Ta.forEach((e,n)=>{Dm(t,e)})}async function oC(t,e){F_(t),Om(t)?(t.Aa.la(e),Vm(t)):t.Aa.set("Unknown")}async function lC(t,e,n){if(t.Aa.set("Online"),e instanceof E_&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const c of i.targetIds)s.Ta.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.Ta.delete(c),s.Ra.removeTarget(c))}(t,e)}catch(r){H(Ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dc(t,r)}else if(e instanceof $l?t.Ra.Ye(e):e instanceof b_?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ee.min()))try{const r=await D_(t.localStore);n.compareTo(r)>=0&&await function(i,o){const c=i.Ra.Pt(o);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.Ta.get(d);f&&i.Ta.set(d,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,d)=>{const f=i.Ta.get(u);if(!f)return;i.Ta.set(u,f.withResumeToken(ct.EMPTY_BYTE_STRING,f.snapshotVersion)),L_(i,u);const p=new br(f.target,u,d,f.sequenceNumber);Dm(i,p)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){H(Ps,"Failed to raise snapshot:",r),await Dc(t,r)}}async function Dc(t,e,n){if(!Wi(e))throw e;t.Ia.add(1),await Oo(t),t.Aa.set("Offline"),n||(n=()=>D_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(Ps,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await xu(t)})}function U_(t,e){return e().catch(n=>Dc(t,n,e))}async function wu(t){const e=te(t),n=Gr(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:vm;for(;cC(e);)try{const s=await Hk(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,uC(e,s)}catch(s){await Dc(e,s)}z_(e)&&B_(e)}function cC(t){return Fs(t)&&t.Pa.length<10}function uC(t,e){t.Pa.push(e);const n=Gr(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function z_(t){return Fs(t)&&!Gr(t).M_()&&t.Pa.length>0}function B_(t){Gr(t).start()}async function dC(t){Gr(t).na()}async function hC(t){const e=Gr(t);for(const n of t.Pa)e.X_(n.mutations)}async function fC(t,e,n){const r=t.Pa.shift(),s=Im.from(r,e,n);await U_(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await wu(t)}async function mC(t,e){e&&Gr(t).Z_&&await async function(r,s){if(function(o){return JS(o)&&o!==U.ABORTED}(s.code)){const i=r.Pa.shift();Gr(r).N_(),await U_(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await wu(r)}}(t,e),z_(t)&&B_(t)}async function u0(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),H(Ps,"RemoteStore received new credentials");const r=Fs(n);n.Ia.add(3),await Oo(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await xu(n)}async function pC(t,e){const n=te(t);e?(n.Ia.delete(2),await xu(n)):e||(n.Ia.add(2),await Oo(n),n.Aa.set("Unknown"))}function qi(t){return t.Va||(t.Va=function(n,r,s){const i=te(n);return i.ia(),new Zk(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:iC.bind(null,t),e_:aC.bind(null,t),n_:oC.bind(null,t),J_:lC.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Om(t)?Vm(t):t.Aa.set("Unknown")):(await t.Va.stop(),F_(t))})),t.Va}function Gr(t){return t.ma||(t.ma=function(n,r,s){const i=te(n);return i.ia(),new eC(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:dC.bind(null,t),n_:mC.bind(null,t),ea:hC.bind(null,t),ta:fC.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await wu(t)):(await t.ma.stop(),t.Pa.length>0&&(H(Ps,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,c=new Mm(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lm(t,e){if(tr("AsyncQueue",`${e}: ${t}`),Wi(t))return new q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{static emptySet(e){return new vi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Aa(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.fa=new Ve(J.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):X(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Di{constructor(e,n,r,s,i,o,c,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new Di(e,n,vi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class yC{constructor(){this.queries=h0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=te(n),i=s.queries;s.queries=h0(),i.forEach((o,c)=>{for(const u of c.wa)u.onError(r)})})(this,new q(U.ABORTED,"Firestore shutting down"))}}function h0(){return new Ls(t=>c_(t),fu)}async function $_(t,e){const n=te(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new gC,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=Lm(o,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&Fm(n)}async function H_(t,e){const n=te(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vC(t,e){const n=te(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const c of o.wa)c.Ca(s)&&(r=!0);o.ya=s}}r&&Fm(n)}function xC(t,e,n){const r=te(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function Fm(t){t.Da.forEach(e=>{e.next()})}var ef,f0;(f0=ef||(ef={})).Fa="default",f0.Cache="cache";class W_{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Di(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Di.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ef.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){this.key=e}}class G_{constructor(e){this.key=e}}class wC{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=le(),this.mutatedKeys=le(),this.Xa=u_(e),this.eu=new vi(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new d0,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,p)=>{const g=s.get(f),_=mu(this.query,p)?p:null,T=!!g&&this.mutatedKeys.has(g.key),j=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let k=!1;g&&_?g.data.isEqual(_.data)?T!==j&&(r.track({type:3,doc:_}),k=!0):this.iu(g,_)||(r.track({type:2,doc:_}),k=!0,(u&&this.Xa(_,u)>0||d&&this.Xa(_,d)<0)&&(c=!0)):!g&&_?(r.track({type:0,doc:_}),k=!0):g&&!_&&(r.track({type:1,doc:g}),k=!0,(u||d)&&(c=!0)),k&&(_?(o=o.add(_),i=j?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{eu:o,ru:r,Ds:c,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((f,p)=>function(_,T){const j=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{At:k})}};return j(_)-j(T)}(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),s=s!=null&&s;const c=n&&!s?this.ou():[],u=this.Za.size===0&&this.current&&!s?1:0,d=u!==this.Ya;return this.Ya=u,o.length!==0||d?{snapshot:new Di(this.query,e.eu,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new d0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=le(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new G_(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new q_(r))}),n}uu(e){this.Ha=e.qs,this.Za=le();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Di.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Um="SyncEngine";class _C{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bC{constructor(e){this.key=e,this.lu=!1}}class EC{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Ls(c=>c_(c),fu),this.Tu=new Map,this.Iu=new Set,this.du=new Ve(J.comparator),this.Eu=new Map,this.Au=new Cm,this.Ru={},this.Vu=new Map,this.mu=Ri.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function NC(t,e,n=!0){const r=Z_(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await K_(r,e,n,!0),s}async function TC(t,e){const n=Z_(t);await K_(n,e,!0,!1)}async function K_(t,e,n,r){const s=await Wk(t.localStore,Tn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await IC(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&M_(t.remoteStore,s),c}async function IC(t,e,n,r,s){t.gu=(p,g,_)=>async function(j,k,v,y){let b=k.view.nu(v);b.Ds&&(b=await i0(j.localStore,k.query,!1).then(({documents:I})=>k.view.nu(I,b)));const N=y&&y.targetChanges.get(k.targetId),O=y&&y.targetMismatches.get(k.targetId)!=null,M=k.view.applyChanges(b,j.isPrimaryClient,N,O);return p0(j,k.targetId,M._u),M.snapshot}(t,p,g,_);const i=await i0(t.localStore,e,!0),o=new wC(e,i.qs),c=o.nu(i.documents),u=Vo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(c,t.isPrimaryClient,u);p0(t,n,d._u);const f=new _C(e,n,o);return t.Pu.set(e,f),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),d.snapshot}async function SC(t,e,n){const r=te(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!fu(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yh(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Rm(r.remoteStore,s.targetId),tf(r,s.targetId)}).catch(Hi)):(tf(r,s.targetId),await Yh(r.localStore,s.targetId,!0))}async function kC(t,e){const n=te(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rm(n.remoteStore,r.targetId))}async function CC(t,e,n){const r=OC(t);try{const s=await function(o,c){const u=te(o),d=ke.now(),f=c.reduce((_,T)=>_.add(T.key),le());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let T=nr(),j=le();return u.Os.getEntries(_,f).next(k=>{T=k,T.forEach((v,y)=>{y.isValidDocument()||(j=j.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,T)).next(k=>{p=k;const v=[];for(const y of c){const b=WS(y,p.get(y.key).overlayedDocument);b!=null&&v.push(new es(y.key,b,n_(b.value.mapValue),pn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,d,v,c)}).next(k=>{g=k;const v=k.applyToLocalDocumentSet(p,j);return u.documentOverlayCache.saveOverlays(_,k.batchId,v)})}).then(()=>({batchId:g.batchId,changes:h_(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,c,u){let d=o.Ru[o.currentUser.toKey()];d||(d=new Ve(ne)),d=d.insert(c,u),o.Ru[o.currentUser.toKey()]=d}(r,s.batchId,n),await Mo(r,s.changes),await wu(r.remoteStore)}catch(s){const i=Lm(s,"Failed to persist write");n.reject(i)}}async function Q_(t,e){const n=te(t);try{const r=await Bk(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?ge(o.lu,14607):s.removedDocuments.size>0&&(ge(o.lu,42227),o.lu=!1))}),await Mo(n,r,e)}catch(r){await Hi(r)}}function m0(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const c=o.view.va(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){const u=te(o);u.onlineState=c;let d=!1;u.queries.forEach((f,p)=>{for(const g of p.wa)g.va(c)&&(d=!0)}),d&&Fm(u)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jC(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Ve(J.comparator);o=o.insert(i,yt.newNoDocument(i,ee.min()));const c=le().add(i),u=new yu(ee.min(),new Map,new Ve(ne),o,c);await Q_(r,u),r.du=r.du.remove(i),r.Eu.delete(e),zm(r)}else await Yh(r.localStore,e,!1).then(()=>tf(r,e,n)).catch(Hi)}async function AC(t,e){const n=te(t),r=e.batch.batchId;try{const s=await zk(n.localStore,e);X_(n,r,null),J_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mo(n,s)}catch(s){await Hi(s)}}async function PC(t,e,n){const r=te(t);try{const s=await function(o,c){const u=te(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(p=>(ge(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(d,p))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);X_(r,e,n),J_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mo(r,s)}catch(s){await Hi(s)}}function J_(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function X_(t,e,n){const r=te(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function tf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||Y_(t,r)})}function Y_(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Rm(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),zm(t))}function p0(t,e,n){for(const r of n)r instanceof q_?(t.Au.addReference(r.key,e),RC(t,r)):r instanceof G_?(H(Um,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||Y_(t,r.key)):X(19791,{yu:r})}function RC(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(H(Um,"New document in limbo: "+n),t.Iu.add(r),zm(t))}function zm(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new J(Se.fromString(e)),r=t.mu.next();t.Eu.set(r,new bC(n)),t.du=t.du.insert(n,r),M_(t.remoteStore,new br(Tn(Em(n.path)),r,"TargetPurposeLimboResolution",cu.ue))}}async function Mo(t,e,n){const r=te(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{o.push(r.gu(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){s.push(d);const p=Am.Es(u.targetId,d);i.push(p)}}))}),await Promise.all(o),r.hu.J_(s),await async function(u,d){const f=te(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(d,g=>L.forEach(g.Is,_=>f.persistence.referenceDelegate.addReference(p,g.targetId,_)).next(()=>L.forEach(g.ds,_=>f.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))}catch(p){if(!Wi(p))throw p;H(Pm,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const _=f.Fs.get(g),T=_.snapshotVersion,j=_.withLastLimboFreeSnapshotVersion(T);f.Fs=f.Fs.insert(g,j)}}}(r.localStore,i))}async function DC(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){H(Um,"User change. New user:",e.toKey());const r=await R_(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(c=>{c.forEach(u=>{u.reject(new q(U.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mo(n,r.Bs)}}function VC(t,e){const n=te(t),r=n.Eu.get(e);if(r&&r.lu)return le().add(r.key);{let s=le();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const c=n.Pu.get(o);s=s.unionWith(c.view.tu)}return s}}function Z_(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jC.bind(null,e),e.hu.J_=vC.bind(null,e.eventManager),e.hu.pu=xC.bind(null,e.eventManager),e}function OC(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PC.bind(null,e),e}class Vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vu(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Uk(this.persistence,new Mk,e.initialUser,this.serializer)}Du(e){return new P_(jm.Vi,this.serializer)}bu(e){return new Gk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vc.provider={build:()=>new Vc};class MC extends Vc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ge(this.persistence.referenceDelegate instanceof Rc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bk(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?St.withCacheSize(this.cacheSizeBytes):St.DEFAULT;return new P_(r=>Rc.Vi(r,n),this.serializer)}}class nf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DC.bind(null,this.syncEngine),await pC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yC}()}createDatastore(e){const n=vu(e.databaseInfo.databaseId),r=function(i){return new Yk(i)}(e.databaseInfo);return function(i,o,c,u){return new nC(i,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,c){return new sC(r,s,i,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>m0(this.syncEngine,n,0),function(){return l0.C()?new l0:new Kk}())}createSyncEngine(e,n){return function(s,i,o,c,u,d,f){const p=new EC(s,i,o,c,u,d);return f&&(p.fu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=te(s);H(Ps,"RemoteStore shutting down."),i.Ia.add(5),await Oo(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nf.provider={build:()=>new nf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="FirestoreClient";class LC{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=pt.UNAUTHENTICATED,this.clientId=gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{H(Kr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H(Kr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Lm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cd(t,e){t.asyncQueue.verifyOperationInProgress(),H(Kr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await R_(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Br("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{H("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Br("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function g0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FC(t);H(Kr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>u0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>u0(e.remoteStore,s)),t._onlineComponents=e}async function FC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Kr,"Using user provided OfflineComponentProvider");try{await Cd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Br("Error using user provided cache. Falling back to memory cache: "+n),await Cd(t,new Vc)}}else H(Kr,"Using default OfflineComponentProvider"),await Cd(t,new MC(void 0));return t._offlineComponents}async function t1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Kr,"Using user provided OnlineComponentProvider"),await g0(t,t._uninitializedComponentsProvider._online)):(H(Kr,"Using default OnlineComponentProvider"),await g0(t,new nf))),t._onlineComponents}function UC(t){return t1(t).then(e=>e.syncEngine)}async function rf(t){const e=await t1(t),n=e.eventManager;return n.onListen=NC.bind(null,e.syncEngine),n.onUnlisten=SC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kC.bind(null,e.syncEngine),n}function zC(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,c,u,d){const f=new e1({next:g=>{f.Ou(),o.enqueueAndForget(()=>H_(i,p)),g.fromCache&&u.source==="server"?d.reject(new q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new W_(c,f,{includeMetadataChanges:!0,ka:!0});return $_(i,p)}(await rf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firestore.googleapis.com",v0=!0;class x0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r1,this.ssl=v0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:v0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=A_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wk)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _u{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new QI;switch(r.type){case"firstParty":return new ZI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=y0.get(n);r&&(H("ComponentProvider","Removing Datastore"),y0.delete(n),r.terminate())}(this),Promise.resolve()}}function BC(t,e,n,r={}){var s;t=xs(t,_u);const i=zi(e),o=t._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;i&&(kw(`https://${u}`),Cw("Firestore",!0)),o.host!==r1&&o.host!==u&&Br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:u,ssl:i,emulatorOptions:r});if(!Cs(d,c)&&(t._setSettings(d),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=pt.MOCK_USER;else{f=bT(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new pt(g)}t._authCredentials=new JI(new $w(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lo(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ro(n,Ze._jsonSchema))return new Ze(e,r||null,new J(Se.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:$e("string",Ze._jsonSchemaVersion),referencePath:$e("string")};class Lr extends Lo{constructor(e,n,r){super(e,n,Em(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new J(e))}withConverter(e){return new Lr(this.firestore,e,this._path)}}function ba(t,e,...n){if(t=lt(t),Ww("collection","path",e),t instanceof _u){const r=Se.fromString(e,...n);return Ry(r),new Lr(t,null,r)}{if(!(t instanceof Ze||t instanceof Lr))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return Ry(r),new Lr(t.firestore,null,r)}}function $C(t,e,...n){if(t=lt(t),arguments.length===1&&(e=gm.newId()),Ww("doc","path",e),t instanceof _u){const r=Se.fromString(e,...n);return Py(r),new Ze(t,null,new J(r))}{if(!(t instanceof Ze||t instanceof Lr))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return Py(r),new Ze(t.firestore,t instanceof Lr?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="AsyncQueue";class _0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new V_(this,"async_queue_retry"),this.oc=()=>{const r=kd();r&&H(w0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=kd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=kd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Mr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Wi(e))throw e;H(w0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,tr("INTERNAL UNHANDLED ERROR: ",b0(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=Mm.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&X(47125,{hc:b0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function b0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class bo extends _u{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new _0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _0(e),this._firestoreClient=void 0,await e}}}function HC(t,e){const n=typeof t=="object"?t:Rw(),r=typeof t=="string"?t:Ic,s=mm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=wT("firestore");i&&BC(s,...i)}return s}function bu(t){if(t._terminated)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WC(t),t._firestoreClient}function WC(t){var e,n,r;const s=t._freezeSettings(),i=function(c,u,d,f){return new pS(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,n1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new LC(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jt(ct.fromBase64String(e))}catch(n){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jt(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ro(e,Jt._jsonSchema))return Jt.fromBase64String(e.bytes)}}Jt._jsonSchemaVersion="firestore/bytes/1.0",Jt._jsonSchema={type:$e("string",Jt._jsonSchemaVersion),bytes:$e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sn._jsonSchemaVersion}}static fromJSON(e){if(Ro(e,Sn._jsonSchema))return new Sn(e.latitude,e.longitude)}}Sn._jsonSchemaVersion="firestore/geoPoint/1.0",Sn._jsonSchema={type:$e("string",Sn._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ro(e,kn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new kn(e.vectorValues);throw new q(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kn._jsonSchemaVersion="firestore/vectorValue/1.0",kn._jsonSchema={type:$e("string",kn._jsonSchemaVersion),vectorValues:$e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=/^__.*__$/;class GC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,n,this.fieldTransforms):new Do(e,this.data,n,this.fieldTransforms)}}class s1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function i1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ec:t})}}class $m{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new $m(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Oc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(i1(this.Ec)&&qC.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class KC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vu(e)}Dc(e,n,r,s=!1){return new $m({Ec:e,methodName:n,bc:r,path:it.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QC(t){const e=t._freezeSettings(),n=vu(t._databaseId);return new KC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JC(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);Hm("Data must be an object, but it was:",o,r);const c=a1(r,o);let u,d;if(i.merge)u=new Ut(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const g=sf(e,p,n);if(!o.contains(g))throw new q(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);l1(f,g)||f.push(g)}u=new Ut(f),d=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,d=o.fieldTransforms;return new GC(new Ct(c),u,d)}class Nu extends Bm{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nu}}function XC(t,e,n,r){const s=t.Dc(1,e,n);Hm("Data must be an object, but it was:",s,r);const i=[],o=Ct.empty();Zr(r,(u,d)=>{const f=Wm(e,u,n);d=lt(d);const p=s.gc(f);if(d instanceof Nu)i.push(f);else{const g=Tu(d,p);g!=null&&(i.push(f),o.set(f,g))}});const c=new Ut(i);return new s1(o,c,s.fieldTransforms)}function YC(t,e,n,r,s,i){const o=t.Dc(1,e,n),c=[sf(e,r,n)],u=[s];if(i.length%2!=0)throw new q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)c.push(sf(e,i[g])),u.push(i[g+1]);const d=[],f=Ct.empty();for(let g=c.length-1;g>=0;--g)if(!l1(d,c[g])){const _=c[g];let T=u[g];T=lt(T);const j=o.gc(_);if(T instanceof Nu)d.push(_);else{const k=Tu(T,j);k!=null&&(d.push(_),f.set(_,k))}}const p=new Ut(d);return new s1(f,p,o.fieldTransforms)}function Tu(t,e){if(o1(t=lt(t)))return Hm("Unsupported field value:",e,t),a1(t,e);if(t instanceof Bm)return function(r,s){if(!i1(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const c of r){let u=Tu(c,s.yc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FS(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ke.fromDate(r);return{timestampValue:Pc(s.serializer,i)}}if(r instanceof ke){const i=new ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pc(s.serializer,i)}}if(r instanceof Sn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jt)return{bytesValue:N_(s.serializer,r._byteString)};if(r instanceof Ze){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:km(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof kn)return function(o,c){return{mapValue:{fields:{[e_]:{stringValue:t_},[Sc]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.wc("VectorValues must only contain numeric values.");return Nm(c.serializer,d)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${ym(r)}`)}(t,e)}function a1(t,e){const n={};return Kw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(t,(r,s)=>{const i=Tu(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function o1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof Sn||t instanceof Jt||t instanceof Ze||t instanceof Bm||t instanceof kn)}function Hm(t,e,n){if(!o1(n)||!qw(n)){const r=ym(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function sf(t,e,n){if((e=lt(e))instanceof Eu)return e._internalPath;if(typeof e=="string")return Wm(t,e);throw Oc("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZC=new RegExp("[~\\*/\\[\\]]");function Wm(t,e,n){if(e.search(ZC)>=0)throw Oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eu(...e.split("."))._internalPath}catch{throw Oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new q(U.INVALID_ARGUMENT,c+t+u)}function l1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ej(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(u1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ej extends c1{data(){return super.data()}}function u1(t,e){return typeof e=="string"?Wm(t,e):e instanceof Eu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tj{convertValue(e,n="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Sc].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Le(o.doubleValue));return new kn(i)}convertGeoPoint(e){return new Sn(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=du(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yo(e));default:return null}}convertTimestamp(e){const n=Hr(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);ge(j_(r),9688,{name:e});const s=new vo(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||tr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ra{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ws extends c1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(u1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",ws._jsonSchema={type:$e("string",ws._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};class Hl extends ws{data(e={}){return super.data(e)}}class _s{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ra(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hl(this._firestore,this._userDataWriter,r.key,r,new Ra(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(c=>{const u=new Hl(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ra(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const u=new Hl(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ra(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:rj(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_s._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}_s._jsonSchemaVersion="firestore/querySnapshot/1.0",_s._jsonSchema={type:$e("string",_s._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};class qm extends tj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function jd(t){t=xs(t,Lo);const e=xs(t.firestore,bo),n=bu(e),r=new qm(e);return d1(t._query),zC(n,t._query).then(s=>new _s(e,r,t,s))}function sj(t,...e){var n,r,s;t=lt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||E0(e[o])||(i=e[o++]);const c={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(E0(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let u,d,f;if(t instanceof Ze)d=xs(t.firestore,bo),f=Em(t._key.path),u={next:p=>{e[o]&&e[o](aj(d,t,p))},error:e[o+1],complete:e[o+2]};else{const p=xs(t,Lo);d=xs(p.firestore,bo),f=p._query;const g=new qm(d);u={next:_=>{e[o]&&e[o](new _s(d,g,p,_))},error:e[o+1],complete:e[o+2]},d1(t._query)}return function(g,_,T,j){const k=new e1(j),v=new W_(_,k,T);return g.asyncQueue.enqueueAndForget(async()=>$_(await rf(g),v)),()=>{k.Ou(),g.asyncQueue.enqueueAndForget(async()=>H_(await rf(g),v))}}(bu(d),f,c,u)}function ij(t,e){return function(r,s){const i=new Mr;return r.asyncQueue.enqueueAndForget(async()=>CC(await UC(r),s,i)),i.promise}(bu(t),e)}function aj(t,e,n){const r=n.docs.get(e._key),s=new qm(t);return new ws(t,s,e._key,r,new Ra(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=QC(e)}set(e,n,r){this._verifyNotCommitted();const s=Ad(e,this._firestore),i=nj(s.converter,n,r),o=JC(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,pn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Ad(e,this._firestore);let o;return o=typeof(n=lt(n))=="string"||n instanceof Eu?YC(this._dataReader,"WriteBatch.update",i._key,n,r,s):XC(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,pn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ad(e,this._firestore);return this._mutations=this._mutations.concat(new Tm(n._key,pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new q(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ad(t,e){if((t=lt(t)).firestore!==e)throw new q(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){return bu(t=xs(t,bo)),new oj(t,e=>ij(t,e))}(function(e,n=!0){(function(s){$i=s})(Bi),Ci(new js("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new bo(new XI(r.getProvider("auth-internal")),new eS(o,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vo(d.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),Vr(Sy,ky,e),Vr(Sy,ky,"esm2017")})();function Gm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function h1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cj=h1,f1=new Ao("auth","Firebase",h1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new hm("@firebase/auth");function uj(t,...e){Mc.logLevel<=oe.WARN&&Mc.warn(`Auth (${Bi}): ${t}`,...e)}function Wl(t,...e){Mc.logLevel<=oe.ERROR&&Mc.error(`Auth (${Bi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,...e){throw Qm(t,...e)}function gn(t,...e){return Qm(t,...e)}function Km(t,e,n){const r=Object.assign(Object.assign({},cj()),{[e]:n});return new Ao("auth","Firebase",r).create(e,{appName:t.name})}function Fr(t){return Km(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m1(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pn(t,"argument-error"),Km(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f1.create(t,...e)}function Z(t,e,...n){if(!t)throw Qm(e,...n)}function Wn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wl(e),new Error(e)}function rr(t,e){t||Wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dj(){return N0()==="http:"||N0()==="https:"}function N0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dj()||kT()||"connection"in navigator)?navigator.onLine:!0}function fj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=TT()||CT()}get(){return hj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gj=new Fo(3e4,6e4);function Xm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gi(t,e,n,r,s={}){return g1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const c=Po(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},i);return ST()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&zi(t.emulatorConfig.host)&&(d.credentials="include"),p1.fetch()(await y1(t,t.config.apiHost,n,c),d)})}async function g1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mj),e);try{const s=new vj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Il(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Il(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Il(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Il(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Km(t,f,d);Pn(t,f)}}catch(s){if(s instanceof ir)throw s;Pn(t,"network-request-failed",{message:String(s)})}}async function yj(t,e,n,r,s={}){const i=await Gi(t,e,n,r,s);return"mfaPendingCredential"in i&&Pn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function y1(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Jm(t.config,s):`${t.config.apiScheme}://${s}`;return pj.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class vj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gn(this.auth,"network-request-failed")),gj.get())})}}function Il(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=gn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e){return Gi(t,"POST","/v1/accounts:delete",e)}async function Lc(t,e){return Gi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wj(t,e=!1){const n=lt(t),r=await n.getIdToken(e),s=Ym(r);Z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ka(Pd(s.auth_time)),issuedAtTime:Ka(Pd(s.iat)),expirationTime:Ka(Pd(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Pd(t){return Number(t)*1e3}function Ym(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wl("JWT malformed, contained fewer than 3 sections"),null;try{const s=Nw(n);return s?JSON.parse(s):(Wl("Failed to decode base64 JWT payload"),null)}catch(s){return Wl("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function T0(t){const e=Ym(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ir&&_j(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _j({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ka(this.lastLoginAt),this.creationTime=Ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Eo(t,Lc(n,{idToken:r}));Z(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?v1(i.providerUserInfo):[],c=Nj(t.providerData,o),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),f=u?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new of(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function Ej(t){const e=lt(t);await Fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Nj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function v1(t){return t.map(e=>{var{providerId:n}=e,r=Gm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e){const n=await g1(t,{},async()=>{const r=Po({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await y1(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return t.emulatorConfig&&zi(t.emulatorConfig.host)&&(u.credentials="include"),p1.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ij(t,e){return Gi(t,"POST","/v2/accounts:revokeToken",Xm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=T0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Tj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new xi;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Z(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Z(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xi,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class dn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Gm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new of(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Eo(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wj(this,e)}reload(){return Ej(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qt(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await Eo(this,xj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,c,u,d,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,_=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,j=(c=n.tenantId)!==null&&c!==void 0?c:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,v=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:N,isAnonymous:O,providerData:M,stsTokenManager:I}=n;Z(b&&I,e,"internal-error");const w=xi.fromJSON(this.name,I);Z(typeof b=="string",e,"internal-error"),ur(p,e.name),ur(g,e.name),Z(typeof N=="boolean",e,"internal-error"),Z(typeof O=="boolean",e,"internal-error"),ur(_,e.name),ur(T,e.name),ur(j,e.name),ur(k,e.name),ur(v,e.name),ur(y,e.name);const E=new dn({uid:b,auth:e,email:g,emailVerified:N,displayName:p,isAnonymous:O,photoURL:T,phoneNumber:_,tenantId:j,stsTokenManager:w,createdAt:v,lastLoginAt:y});return M&&Array.isArray(M)&&(E.providerData=M.map(S=>Object.assign({},S))),k&&(E._redirectEventId=k),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new xi;s.updateFromServerResponse(n);const i=new dn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Fc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Z(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?v1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new xi;c.updateFromIdToken(r);const u=new dn({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new of(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=new Map;function qn(t){rr(t instanceof Function,"Expected a class definition");let e=I0.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,I0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x1.type="NONE";const S0=x1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t,e,n){return`firebase:${t}:${e}:${n}`}class wi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ql(this.userKey,s.apiKey,i),this.fullPersistenceKey=ql("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lc(this.auth,{idToken:e}).catch(()=>{});return n?dn._fromGetAccountInfoResponse(this.auth,n,e):null}return dn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wi(qn(S0),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||qn(S0);const o=ql(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const f=await d._get(o);if(f){let p;if(typeof f=="string"){const g=await Lc(e,{idToken:f}).catch(()=>{});if(!g)break;p=await dn._fromGetAccountInfoResponse(e,g,f)}else p=dn._fromJSON(e,f);d!==i&&(c=p),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new wi(i,e,r):(i=u[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new wi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T1(e))return"Blackberry";if(I1(e))return"Webos";if(_1(e))return"Safari";if((e.includes("chrome/")||b1(e))&&!e.includes("edge/"))return"Chrome";if(N1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function w1(t=xt()){return/firefox\//i.test(t)}function _1(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b1(t=xt()){return/crios\//i.test(t)}function E1(t=xt()){return/iemobile/i.test(t)}function N1(t=xt()){return/android/i.test(t)}function T1(t=xt()){return/blackberry/i.test(t)}function I1(t=xt()){return/webos/i.test(t)}function Zm(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Sj(t=xt()){var e;return Zm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kj(){return jT()&&document.documentMode===10}function S1(t=xt()){return Zm(t)||N1(t)||I1(t)||T1(t)||/windows phone/i.test(t)||E1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t,e=[]){let n;switch(t){case"Browser":n=k0(xt());break;case"Worker":n=`${k0(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,c)=>{try{const u=e(i);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(t,e={}){return Gi(t,"GET","/v2/passwordPolicy",Xm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=6;class Pj{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Aj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C0(this),this.idTokenSubscription=new C0(this),this.beforeStateQueue=new Cj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await wi.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lc(this,{idToken:e}),r=await dn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Qt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qt(this.app))return Promise.reject(Fr(this));const n=e?lt(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qt(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qt(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jj(this),n=new Pj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ao("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ij(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qn(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await wi.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ki(t){return lt(t)}class C0{constructor(e){this.auth=e,this.observer=null,this.addObserver=LT(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dj(t){ep=t}function Vj(t){return ep.loadJS(t)}function Oj(){return ep.gapiScript}function Mj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t,e){const n=mm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Cs(i,e??{}))return s;Pn(s,"already-initialized")}return n.initialize({options:e})}function Fj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Uj(t,e,n){const r=Ki(t);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=C1(e),{host:o,port:c}=zj(e),u=c===null?"":`:${c}`,d={url:`${i}//${o}${u}/`},f=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(Cs(d,r.config.emulator)&&Cs(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,zi(o)?(kw(`${i}//${o}${u}`),Cw("Auth",!0)):Bj()}function C1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zj(t){const e=C1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:j0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:j0(o)}}}function j0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Bj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,n){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _i(t,e){return yj(t,"POST","/v1/accounts:signInWithIdp",Xm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j="http://localhost";class Rs extends j1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Gm(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Rs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return _i(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_i(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_i(e,n)}buildRequest(){const e={requestUri:$j,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Po(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Iu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Uo{constructor(){super("facebook.com")}static credential(e){return Rs._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends Uo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rs._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zn.credential(n,r)}catch{return null}}}zn.GOOGLE_SIGN_IN_METHOD="google.com";zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Uo{constructor(){super("github.com")}static credential(e){return Rs._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Uo{constructor(){super("twitter.com")}static credential(e,n){return Rs._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await dn._fromIdTokenResponse(e,r,s),o=A0(r);return new Vi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=A0(r);return new Vi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function A0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends ir{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Uc(e,n,r,s)}}function A1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Uc._fromErrorAndOperation(t,i,e,r):i})}async function Hj(t,e,n=!1){const r=await Eo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(t,e,n=!1){const{auth:r}=t;if(Qt(r.app))return Promise.reject(Fr(r));const s="reauthenticate";try{const i=await Eo(t,A1(r,s,e,t),n);Z(i.idToken,r,"internal-error");const o=Ym(i.idToken);Z(o,r,"internal-error");const{sub:c}=o;return Z(t.uid===c,r,"user-mismatch"),Vi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Pn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(t,e,n=!1){if(Qt(t.app))return Promise.reject(Fr(t));const r="signIn",s=await A1(t,r,e),i=await Vi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function Gj(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function Kj(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function Qj(t){return lt(t).signOut()}const zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zc,"1"),this.storage.removeItem(zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=1e3,Xj=10;class R1 extends P1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);kj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Xj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R1.type="LOCAL";const Yj=R1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1 extends P1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}D1.type="SESSION";const V1=D1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Su(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async d=>d(n.origin,i)),u=await Zj(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Su.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,u)=>{const d=tp("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(g.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return window}function t4(t){Cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}async function n4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function s4(){return O1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="firebaseLocalStorageDb",i4=1,Bc="firebaseLocalStorage",L1="fbase_key";class zo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ku(t,e){return t.transaction([Bc],e?"readwrite":"readonly").objectStore(Bc)}function a4(){const t=indexedDB.deleteDatabase(M1);return new zo(t).toPromise()}function lf(){const t=indexedDB.open(M1,i4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bc,{keyPath:L1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bc)?e(r):(r.close(),await a4(),e(await lf()))})})}async function P0(t,e,n){const r=ku(t,!0).put({[L1]:e,value:n});return new zo(r).toPromise()}async function o4(t,e){const n=ku(t,!1).get(e),r=await new zo(n).toPromise();return r===void 0?null:r.value}function R0(t,e){const n=ku(t,!0).delete(e);return new zo(n).toPromise()}const l4=800,c4=3;class F1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>c4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Su._getInstance(s4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await n4(),!this.activeServiceWorker)return;this.sender=new e4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lf();return await P0(e,zc,"1"),await R0(e,zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>P0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>o4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>R0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ku(s,!1).getAll();return new zo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F1.type="LOCAL";const u4=F1;new Fo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t,e){return e?qn(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends j1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _i(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _i(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _i(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function d4(t){return qj(t.auth,new rp(t),t.bypassAuthState)}function h4(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),Wj(n,new rp(t),t.bypassAuthState)}async function f4(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),Hj(n,new rp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d4;case"linkViaPopup":case"linkViaRedirect":return f4;case"reauthViaPopup":case"reauthViaRedirect":return h4;default:Pn(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new Fo(2e3,1e4);async function p4(t,e,n){if(Qt(t.app))return Promise.reject(gn(t,"operation-not-supported-in-this-environment"));const r=Ki(t);m1(t,e,Iu);const s=np(r,n);return new gs(r,"signInViaPopup",e,s).executeNotNull()}class gs extends U1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,gs.currentPopupAction&&gs.currentPopupAction.cancel(),gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m4.get())};e()}}gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="pendingRedirect",Gl=new Map;class y4 extends U1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gl.get(this.auth._key());if(!e){try{const r=await v4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gl.set(this.auth._key(),e)}return this.bypassAuthState||Gl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v4(t,e){const n=B1(e),r=z1(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function x4(t,e){return z1(t)._set(B1(e),"true")}function w4(t,e){Gl.set(t._key(),e)}function z1(t){return qn(t._redirectPersistence)}function B1(t){return ql(g4,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t,e,n){return b4(t,e,n)}async function b4(t,e,n){if(Qt(t.app))return Promise.reject(Fr(t));const r=Ki(t);m1(t,e,Iu),await r._initializationPromise;const s=np(r,n);return await x4(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function E4(t,e){return await Ki(t)._initializationPromise,$1(t,e,!1)}async function $1(t,e,n=!1){if(Qt(t.app))return Promise.reject(Fr(t));const r=Ki(t),s=np(r,e),o=await new y4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=10*60*1e3;class T4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!H1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N4&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(e))}saveEventToCache(e){this.cachedEventUids.add(D0(e)),this.lastProcessedEventTime=Date.now()}}function D0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function H1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function I4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e={}){return Gi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C4=/^https?/;async function j4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S4(t);for(const n of e)try{if(A4(n))return}catch{}Pn(t,"unauthorized-domain")}function A4(t){const e=af(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!C4.test(n))return!1;if(k4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=new Fo(3e4,6e4);function V0(){const t=Cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function R4(t){return new Promise((e,n)=>{var r,s,i;function o(){V0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V0(),n(gn(t,"network-request-failed"))},timeout:P4.get()})}if(!((s=(r=Cn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Cn().gapi)===null||i===void 0)&&i.load)o();else{const c=Mj("iframefcb");return Cn()[c]=()=>{gapi.load?o():n(gn(t,"network-request-failed"))},Vj(`${Oj()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Kl=null,e})}let Kl=null;function D4(t){return Kl=Kl||R4(t),Kl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new Fo(5e3,15e3),O4="__/auth/iframe",M4="emulator/auth/iframe",L4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U4(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jm(e,M4):`https://${t.config.authDomain}/${O4}`,r={apiKey:e.apiKey,appName:t.name,v:Bi},s=F4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Po(r).slice(1)}`}async function z4(t){const e=await D4(t),n=Cn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:U4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=gn(t,"network-request-failed"),c=Cn().setTimeout(()=>{i(o)},V4.get());function u(){Cn().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$4=500,H4=600,W4="_blank",q4="http://localhost";class O0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G4(t,e,n,r=$4,s=H4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},B4),{width:r.toString(),height:s.toString(),top:i,left:o}),d=xt().toLowerCase();n&&(c=b1(d)?W4:n),w1(d)&&(e=e||q4,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[_,T])=>`${g}${_}=${T},`,"");if(Sj(d)&&c!=="_self")return K4(e||"",c),new O0(null);const p=window.open(e||"",c,f);Z(p,t,"popup-blocked");try{p.focus()}catch{}return new O0(p)}function K4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="__/auth/handler",J4="emulator/auth/handler",X4=encodeURIComponent("fac");async function M0(t,e,n,r,s,i){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bi,eventId:s};if(e instanceof Iu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof Uo){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await t._getAppCheckToken(),d=u?`#${X4}=${encodeURIComponent(u)}`:"";return`${Y4(t)}?${Po(c).slice(1)}${d}`}function Y4({config:t}){return t.emulator?Jm(t,J4):`https://${t.authDomain}/${Q4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="webStorageSupport";class Z4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V1,this._completeRedirectFn=$1,this._overrideRedirectResult=w4}async _openPopup(e,n,r,s){var i;rr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await M0(e,n,r,af(),s);return G4(e,o,tp())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await M0(e,n,r,af(),s);return t4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(rr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await z4(e),r=new T4(e);return n.register("authEvent",s=>(Z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rd,{type:Rd},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Rd];o!==void 0&&n(!!o),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=j4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return S1()||_1()||Zm()}}const eA=Z4;var L0="@firebase/auth",F0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rA(t){Ci(new js("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k1(t)},d=new Rj(r,s,i,u);return Fj(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ci(new js("auth-internal",e=>{const n=Ki(e.getProvider("auth").getImmediate());return(r=>new tA(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(L0,F0,nA(t)),Vr(L0,F0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=5*60,iA=Sw("authIdTokenMaxAge")||sA;let U0=null;const aA=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iA)return;const s=n==null?void 0:n.token;U0!==s&&(U0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function oA(t=Rw()){const e=mm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Lj(t,{popupRedirectResolver:eA,persistence:[u4,Yj,V1]}),r=Sw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=aA(i.toString());Kj(n,o,()=>o(n.currentUser)),Gj(n,c=>o(c))}}const s=Tw("auth");return s&&Uj(n,`http://${s}`),n}function lA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Dj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=gn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",lA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rA("Browser");var cA="firebase",uA="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(cA,uA,"app");const dA={apiKey:"AIzaSyAwhZEJ6byooK1gtlrNveZ-cSxK9a7kbg0",authDomain:"videocalc-b1b43.firebaseapp.com",projectId:"videocalc-b1b43",storageBucket:"videocalc-b1b43.firebasestorage.app",messagingSenderId:"1002679649212",appId:"1:1002679649212:web:ebdedfaa1962cb9b3921b9",measurementId:"G-NVD93E95GB"},W1=Pw(dA),qs=HC(W1),Ea=oA(W1);class hA{constructor(){Mn(this,"googleProvider",new zn)}async signInWithGoogle(){try{return(await p4(Ea,this.googleProvider)).user}catch(e){if(console.error("Error signing in with Google:",e),e instanceof Error&&(e.message.includes("auth/popup-blocked")||e.message.includes("auth/popup-closed-by-user")))return console.log("Popup blocked or closed, falling back to redirect..."),await _4(Ea,this.googleProvider),null;throw e}}async handleRedirectSignInResult(){try{const e=await E4(Ea);return e&&e.user?(console.log("Redirect sign-in successful:",e.user),e.user):null}catch(e){throw console.error("Error handling redirect result:",e),e}}async signOut(){try{await Qj(Ea)}catch(e){throw console.error("Error signing out:",e),new Error("Failed to sign out")}}getCurrentUser(){return Ea.currentUser}isAuthorizedAdmin(){const e=this.getCurrentUser();if(!e)return!1;const n="dave@timelapsetech.com,dgklee@gmail.com".split(",").map(r=>r.trim()).filter(Boolean);return n.length===0?(console.warn("No admin emails configured"),!1):n.includes(e.email||"")}async getCategories(){try{console.log("Fetching categories from Firebase...");const e=ba(qs,"codecs"),n=await jd(e);if(n.empty)return console.log("No documents found in Firebase"),[];const r=[],s=new Map;for(const o of n.docs){const c=o.data();console.log("Processing document:",o.id,c);const u=c.category_id||c.categoryId||"unknown",d=c.category||"Unknown Category",f=c.description||"";let p=s.get(u);p||(p={id:u,name:d,description:f,codecs:[]},s.set(u,p));const g={id:c.id||o.id,name:c.name||"Unknown Codec",description:c.description||"",workflowNotes:c.workflowNotes||"",variants:[]};if(c.variants&&Array.isArray(c.variants)){for(const _ of c.variants)if(_&&_.bitrates){const T={name:_.name||"Unknown Variant",description:_.description||"",bitrates:_.bitrates};g.variants.push(T)}}p.codecs.push(g)}const i=Array.from(s.values());return console.log("Processed categories:",i),i}catch(e){throw console.error("Error fetching categories:",e),new Error("Failed to fetch codec categories from Firebase")}}checkAdminAccess(){if(!this.isAuthorizedAdmin())throw new Error("Unauthorized: Admin access required")}async importCodecData(e){this.checkAdminAccess();try{console.log("Importing codec data to Firebase...");const n=lj(qs);(await jd(ba(qs,"codecs"))).forEach(s=>{n.delete(s.ref)});for(const s of e)for(const i of s.codecs){const o=$C(ba(qs,"codecs")),c={id:i.id,name:i.name,description:i.description||"",workflowNotes:i.workflowNotes||"",category:s.name,category_id:s.id,variants:i.variants.map(u=>({name:u.name,description:u.description||"",bitrates:u.bitrates})),firebase_created_at:new Date().toISOString(),firebase_updated_at:new Date().toISOString(),source:"admin_import"};n.set(o,c)}await n.commit(),console.log("Successfully imported codec data to Firebase")}catch(n){throw console.error("Error importing codec data:",n),new Error("Failed to import codec data to Firebase")}}async exportCodecData(){return await this.getCategories()}subscribeToCategories(e){const n=ba(qs,"codecs");return sj(n,async r=>{try{console.log("Firebase data changed, updating categories...");const s=await this.getCategories();e(s)}catch(s){console.error("Error in categories subscription:",s)}})}async testConnection(){try{console.log("Testing Firebase connection...");const e=ba(qs,"codecs");return await jd(e),console.log("Firebase connection successful"),!0}catch(e){return console.error("Firebase connection test failed:",e),!1}}}const un=new hA,cf=R.createContext(void 0),fA=({children:t})=>{const[e,n]=R.useState([]),[r,s]=R.useState(!0),[i,o]=R.useState(null);R.useEffect(()=>{c()},[]);const c=async()=>{try{if(s(!0),o(null),console.log("Loading categories from Firebase..."),!await un.testConnection())throw new Error("Unable to connect to Firebase. Please check your configuration.");const T=await un.getCategories();console.log("Loaded categories:",T),n(T),localStorage.setItem("codecData",JSON.stringify(T))}catch(_){console.error("Error loading categories from Firebase:",_),o(_ instanceof Error?_.message:"Failed to load codec data");const T=localStorage.getItem("codecData");if(T)try{const j=JSON.parse(T);n(j),console.log("Loaded codec data from local cache")}catch(j){console.error("Error parsing cached data:",j),n([])}else n([])}finally{s(!1)}},u=async()=>{await c()},d=_=>{n(_),localStorage.setItem("codecData",JSON.stringify(_))},f=()=>{n([]),localStorage.removeItem("codecData")},p=async()=>{await c()},g=async _=>{try{o(null),await un.importCodecData(_),await u()}catch(T){throw console.error("Error exporting to Firebase:",T),o(T instanceof Error?T.message:"Failed to export to Firebase"),T}};return r&&e.length===0?a.jsx(cf.Provider,{value:{categories:[],loading:r,error:i,updateCategories:d,refreshCategories:u,resetToDefaults:f,importFromFirebase:p,exportToFirebase:g},children:t}):a.jsx(cf.Provider,{value:{categories:e,loading:r,error:i,updateCategories:d,refreshCategories:u,resetToDefaults:f,importFromFirebase:p,exportToFirebase:g},children:t})},Qi=()=>{const t=R.useContext(cf);if(!t)throw new Error("useCodecContext must be used within CodecProvider");return t},Na=()=>{const t=localStorage.getItem("adminDefaultPresets");if(t)try{const n=JSON.parse(t);if(Array.isArray(n)&&n.length>0)return n}catch{}const e=localStorage.getItem("defaultPresets");if(e)try{const n=JSON.parse(e);if(Array.isArray(n)&&n.length>0)return n}catch{}return[{id:"preset-1",name:"YouTube 1080p",category:"delivery",codec:"h264",variant:"High Profile",resolution:"1080p",frameRate:"30"},{id:"preset-2",name:"Netflix 4K",category:"broadcast",codec:"jpeg2000",variant:"J2K IMF 4K",resolution:"4K",frameRate:"24"},{id:"preset-3",name:"News TV",category:"camera",codec:"xdcam",variant:"XDCAM HD422",resolution:"1080i",frameRate:"29.97"},{id:"preset-4",name:"Episodic TV",category:"professional",codec:"dnxhd",variant:"DNxHD 145",resolution:"1080p",frameRate:"23.98"}]},q1=R.createContext(void 0),mA=({children:t})=>{const[e,n]=R.useState([]),[r]=R.useState("idle");R.useEffect(()=>{s()},[]),R.useEffect(()=>{const f=_=>{(_.key==="adminDefaultPresets"||_.key==="defaultPresets")&&(localStorage.getItem("customPresets")||n(Na()))},p=()=>{localStorage.getItem("customPresets")||n(Na())};window.addEventListener("storage",f);const g=setInterval(p,2e3);return()=>{window.removeEventListener("storage",f),clearInterval(g)}},[]);const s=()=>{const f=localStorage.getItem("customPresets");if(f)try{n(JSON.parse(f))}catch{n(Na())}else n(Na())},i=f=>{n(f),localStorage.setItem("customPresets",JSON.stringify(f))},o=(f,p)=>{const g=[...e];g[f]=p,i(g)},c=f=>{const p=[...e,f];i(p)},u=f=>{const p=e.filter((g,_)=>_!==f);i(p)},d=()=>{const f=Na();i(f)};return a.jsx(q1.Provider,{value:{customPresets:e,updatePreset:o,addPreset:c,deletePreset:u,resetToDefaults:d,syncStatus:r},children:t})},pA=()=>{const t=R.useContext(q1);if(!t)throw new Error("usePresetContext must be used within PresetContext");return t},Bn=[{id:"NTSC_DV",name:"NTSC DV (720×480)",width:720,height:480,category:"SD"},{id:"NTSC_D1",name:"NTSC D1 (720×486)",width:720,height:486,category:"SD"},{id:"PAL",name:"PAL (720×576)",width:720,height:576,category:"SD"},{id:"720p",name:"720p HD (1280×720)",width:1280,height:720,category:"HD"},{id:"1080i",name:"1080i (1920×1080 interlaced)",width:1920,height:1080,category:"HD"},{id:"1080p",name:"1080p FHD (1920×1080)",width:1920,height:1080,category:"HD"},{id:"2K DCI",name:"2K DCI (2048×1080)",width:2048,height:1080,category:"Cinema"},{id:"4K DCI",name:"4K DCI (4096×2160)",width:4096,height:2160,category:"Cinema"},{id:"8K DCI",name:"8K DCI (8192×4320)",width:8192,height:4320,category:"Cinema"},{id:"4K",name:"4K UHD (3840×2160)",width:3840,height:2160,category:"UHD"},{id:"8K",name:"8K UHD (7680×4320)",width:7680,height:4320,category:"UHD"}],qt=[{id:"23.98",name:"23.98 fps (Film on TV)",value:23.976,category:"Film on TV"},{id:"24",name:"24 fps (True Cinema)",value:24,category:"Cinema"},{id:"25",name:"25 fps (PAL/European)",value:25,category:"Broadcast"},{id:"29.97",name:"29.97 fps (NTSC)",value:29.97,category:"Broadcast"},{id:"30",name:"30 fps",value:30,category:"Standard"},{id:"50",name:"50 fps (PAL Progressive)",value:50,category:"Broadcast"},{id:"59.94",name:"59.94 fps (NTSC Progressive)",value:59.94,category:"Broadcast"},{id:"60",name:"60 fps",value:60,category:"Standard"},{id:"120",name:"120 fps (High Frame Rate)",value:120,category:"HFR"},{id:"240",name:"240 fps (Super Slow Motion)",value:240,category:"HFR"}],us=class us{constructor(){Mn(this,"preferences",null);this.loadSavedPreferences()}static getInstance(){return us.instance||(us.instance=new us),us.instance}loadSavedPreferences(){try{const e=localStorage.getItem("cookie-consent");e&&(this.preferences=JSON.parse(e))}catch{this.preferences=null}}hasConsent(){return this.preferences!==null}isAllowed(e){return this.preferences?this.preferences[e]===!0:!1}updatePreferences(e){this.preferences={...e,consentDate:new Date().toISOString()},localStorage.setItem("cookie-consent",JSON.stringify(this.preferences)),localStorage.setItem("cookie-consent-date",this.preferences.consentDate),this.applyPreferences()}applyPreferences(){this.preferences&&(this.preferences.analytics||this.disableAnalytics(),this.preferences.preferences||this.clearNonEssentialStorage())}disableAnalytics(){window.gtag&&window.gtag("consent","update",{analytics_storage:"denied"}),localStorage.removeItem("ga_measurement_id"),localStorage.setItem("ga_enabled","false")}clearNonEssentialStorage(){const e=["cookie-consent","cookie-consent-date","codecData","adminAuth"],n=[];for(let r=0;r<localStorage.length;r++){const s=localStorage.key(r);s&&!e.includes(s)&&n.push(s)}n.forEach(r=>localStorage.removeItem(r))}getPreferences(){return this.preferences}needsConsentRenewal(){var s;if(!((s=this.preferences)!=null&&s.consentDate))return!0;const e=new Date(this.preferences.consentDate),n=new Date,r=new Date(n.getFullYear(),n.getMonth()-12,n.getDate());return e<r}resetConsent(){localStorage.removeItem("cookie-consent"),localStorage.removeItem("cookie-consent-date"),this.preferences=null,this.clearNonEssentialStorage()}getAnalyticsConfig(){return this.isAllowed("analytics")?{enabled:!0,anonymize_ip:!0,allow_google_signals:!1,allow_ad_personalization_signals:!1,cookie_expires:63072e3,storage:"none"}:{enabled:!1,anonymize_ip:!0,allow_google_signals:!1,allow_ad_personalization_signals:!1}}};Mn(us,"instance");let uf=us;const ui=uf.getInstance(),dr=t=>ui.isAllowed(t),ds=class ds{constructor(){Mn(this,"isInitialized",!1);Mn(this,"measurementId",null);this.autoInitialize()}static getInstance(){return ds.instance||(ds.instance=new ds),ds.instance}autoInitialize(){if(!dr("analytics")){console.log("Google Analytics disabled: User has not consented to analytics cookies");return}const e="G-NVD93E95GB";if(e.match(/^G-[A-Z0-9]+$/))console.log("Auto-initializing Google Analytics from environment variable"),this.initialize(e);else{const n=localStorage.getItem("ga_measurement_id"),r=localStorage.getItem("ga_enabled")==="true";n&&r&&n.match(/^G-[A-Z0-9]+$/)&&(console.log("Initializing Google Analytics from admin configuration"),this.initialize(n))}}initialize(e){if(this.isInitialized||!e)return;if(!dr("analytics")){console.log("Google Analytics initialization blocked: No analytics consent");return}this.measurementId=e;const n=document.createElement("script");n.async=!0,n.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(n),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date);const r=ui.getAnalyticsConfig();window.gtag("config",e,{page_title:document.title,page_location:window.location.href,anonymize_ip:r.anonymize_ip,allow_google_signals:r.allow_google_signals,allow_ad_personalization_signals:r.allow_ad_personalization_signals,cookie_expires:r.cookie_expires,send_page_view:!0,custom_map:{},transport_type:"beacon"}),window.gtag("consent","default",{analytics_storage:"granted",ad_storage:"denied",functionality_storage:dr("preferences")?"granted":"denied",personalization_storage:"denied",security_storage:"granted"}),this.isInitialized=!0,console.log("Google Analytics initialized with GDPR compliance, ID:",e)}trackPageView(e,n){!this.isInitialized||!window.gtag||!dr("analytics")||window.gtag("config",this.measurementId,{page_path:e,page_title:n||document.title})}trackEvent(e,n){if(!this.isInitialized||!window.gtag||!dr("analytics"))return;const r=this.sanitizeParameters(n);window.gtag("event",e,{event_category:"engagement",...r})}sanitizeParameters(e){if(!e)return{};const n={},r=["event_category","codec_category","codec_name","codec_variant","resolution","frame_rate","preset_name","export_type"];return Object.keys(e).forEach(s=>{r.includes(s)&&typeof e[s]=="string"&&(n[s]=String(e[s]).substring(0,100))}),n}trackCalculation(e,n,r,s,i){this.trackEvent("calculate_file_size",{event_category:"calculator",codec_category:e,codec_name:n,codec_variant:r,resolution:s,frame_rate:i})}trackPresetUsage(e){this.trackEvent("use_preset",{event_category:"presets",preset_name:e})}trackShareLink(){this.trackEvent("share_calculation",{event_category:"sharing"})}trackAdminAccess(){this.trackEvent("admin_access",{event_category:"admin"})}trackCodecDatabaseView(){this.trackEvent("view_codec_database",{event_category:"database"})}trackDataExport(e){this.trackEvent("export_data",{event_category:"data",export_type:e})}isEnabled(){return this.isInitialized&&!!this.measurementId&&dr("analytics")}getMeasurementId(){return this.measurementId}getSource(){return this.measurementId?"G-NVD93E95GB"===this.measurementId?"environment":"admin":"none"}reinitializeWithConsent(){dr("analytics")&&!this.isInitialized?this.autoInitialize():!dr("analytics")&&this.isInitialized&&this.disable()}disable(){window.gtag&&window.gtag("consent","update",{analytics_storage:"denied"}),this.isInitialized=!1,this.measurementId=null}};Mn(ds,"instance");let df=ds;const st=df.getInstance(),gA=(t,e,n,r,s,i,o,c)=>{const u=new URLSearchParams;return t&&u.set("category",t),e&&u.set("codec",e),n&&u.set("variant",n),r&&u.set("resolution",r),s&&u.set("framerate",s),u.set("hours",i.toString()),u.set("minutes",o.toString()),u.set("seconds",c.toString()),`${window.location.origin}${window.location.pathname}?${u.toString()}`},G1=(t,e,n,r,s,i)=>gA(t,e,n,r,s,i.hours,i.minutes,i.seconds),Ta=({label:t,value:e,onChange:n,options:r,placeholder:s="Select option...",disabled:i=!1})=>{const[o,c]=R.useState(!1),[u,d]=R.useState(""),[f,p]=R.useState({top:0,left:0,width:0}),[g,_]=R.useState(!1),[T,j]=R.useState(!1),k=R.useRef(null),v=R.useRef(null),y=R.useRef(null),b=r.find(E=>E.value===e),N=r.filter(E=>E.label.toLowerCase().includes(u.toLowerCase())||E.description&&E.description.toLowerCase().includes(u.toLowerCase()));R.useEffect(()=>{const E=()=>{_(window.innerWidth<768||"ontouchstart"in window)};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const O=()=>{if(k.current){const E=k.current.getBoundingClientRect(),S=window.innerHeight,A=Math.min(300,N.length*60+80);let P=E.bottom+window.scrollY+8;E.bottom+A>S&&(P=E.top+window.scrollY-A-8,P<window.scrollY+20&&(P=window.scrollY+(S-A)/2)),p({top:P,left:E.left+window.scrollX,width:E.width})}};R.useEffect(()=>{const E=C=>{if(k.current&&!k.current.contains(C.target)){const Q=document.getElementById("dropdown-portal");(!Q||!Q.contains(C.target))&&(c(!1),d(""),j(!1))}},S=()=>{o&&!g&&O()},A=()=>{o&&O()},P=C=>{if(o&&g){const Q=document.getElementById("dropdown-portal");if(Q&&Q.contains(C.target))return;C.preventDefault()}};return o&&(document.addEventListener("mousedown",E),window.addEventListener("scroll",S,{passive:!0}),window.addEventListener("resize",A),g&&(document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchstart",C=>{C.touches.length>1&&C.preventDefault()},{passive:!1})),O()),()=>{document.removeEventListener("mousedown",E),window.removeEventListener("scroll",S),window.removeEventListener("resize",A),document.removeEventListener("touchmove",P)}},[o,g]),R.useEffect(()=>{o&&v.current&&!g&&setTimeout(()=>{v.current&&v.current.focus({preventScroll:!0})},100)},[o,g]);const M=E=>{n(E),c(!1),d(""),j(!1)},I=E=>{E.preventDefault(),E.stopPropagation(),i||(o?(c(!1),j(!1)):(j(!0),c(!0)))},w=o&&!i&&a.jsxs("div",{id:"dropdown-portal",ref:y,style:{position:"fixed",top:g?"50%":f.top,left:g?"50%":f.left,width:g?"90vw":f.width,maxWidth:g?"400px":"none",transform:g?"translate(-50%, -50%)":"none",zIndex:1e4,maxHeight:g?"70vh":"300px"},className:`
        bg-dark-secondary border border-gray-700 rounded-lg shadow-2xl overflow-hidden
        ${g?"mx-4":""}
        ${T?"animate-in":""}
        transition-all duration-200 ease-out
        ${o?"opacity-100 scale-100":"opacity-0 scale-95"}
      `,onTouchMove:E=>E.stopPropagation(),children:[g&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 -z-10 transition-opacity duration-200",onClick:()=>{c(!1),d(""),j(!1)}}),a.jsx("div",{className:`p-3 border-b border-gray-700 bg-dark-secondary ${g?"sticky top-0":""}`,children:a.jsxs("div",{className:"relative",children:[a.jsx(ww,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{ref:v,type:"text",placeholder:"Search options...",value:u,onChange:E=>d(E.target.value),className:`w-full pl-10 pr-3 py-2 bg-dark-primary border border-gray-700 rounded-md text-white placeholder-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors ${g?"text-base":"text-sm"}`,onClick:E=>E.stopPropagation(),onFocus:E=>{E.target.setSelectionRange(0,0),g&&E.preventDefault()},inputMode:"search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"})]})}),a.jsx("div",{className:`overflow-y-auto bg-dark-secondary ${g?"max-h-[50vh]":"max-h-48"}`,style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain"},children:N.length>0?N.map((E,S)=>a.jsxs("button",{type:"button",className:`
                w-full px-4 py-3 text-left hover:bg-dark-primary transition-colors duration-150
                ${e===E.value?"bg-blue-600/20 border-r-2 border-blue-500":""}
                ${g?"py-4 text-base":"py-3 text-sm"}
                transform transition-transform duration-150 hover:scale-[1.02]
              `,onClick:A=>{A.preventDefault(),A.stopPropagation(),M(E.value)},onTouchStart:A=>A.stopPropagation(),style:{animationDelay:`${S*20}ms`},children:[a.jsx("div",{className:`font-medium text-white ${g?"text-base":"text-sm"}`,children:E.label}),E.description&&a.jsx("div",{className:`text-gray-400 mt-1 ${g?"text-sm":"text-xs"}`,children:E.description})]},E.value)):a.jsx("div",{className:`px-4 py-3 text-gray-400 text-center ${g?"py-6 text-base":"py-3 text-sm"}`,children:"No options found"})}),g&&a.jsx("div",{className:"p-3 border-t border-gray-700 bg-dark-secondary",children:a.jsx("button",{onClick:()=>{c(!1),d(""),j(!1)},className:"w-full py-2 px-4 bg-gray-600 hover:bg-gray-700 rounded-lg text-white transition-colors",children:"Close"})})]});return a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300",children:t}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{ref:k,type:"button",className:`
            w-full flex items-center justify-between px-4 py-3 text-left bg-dark-primary border border-gray-700 rounded-lg
            transition-all duration-200 ${i?"opacity-50 cursor-not-allowed":"hover:border-blue-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 active:scale-[0.99]"} ${o?"border-blue-500 ring-1 ring-blue-500 shadow-lg":""}
            ${g?"min-h-[48px]":""}
          `,onClick:I,disabled:i,onFocus:E=>{g&&E.preventDefault()},children:[a.jsx("div",{className:"flex-1 min-w-0",children:b?a.jsxs("div",{children:[a.jsx("div",{className:`text-white font-medium ${g?"text-base":"text-sm"}`,children:b.label}),b.description&&a.jsx("div",{className:`text-gray-400 truncate ${g?"text-sm":"text-xs"}`,children:b.description})]}):a.jsx("span",{className:`text-gray-400 ${g?"text-base":"text-sm"}`,children:s})}),a.jsx(eT,{className:`h-5 w-5 text-gray-400 transition-transform duration-200 ${o?"rotate-180":""} ${g?"ml-2":"ml-1"}`})]}),typeof document<"u"&&tw.createPortal(w,document.body)]})]})},yA=({results:t,duration:e,onDurationChange:n})=>{const[r,s]=di.useState(!1),[i,o]=di.useState(!1),[c,u]=di.useState(!1),d=(k,v)=>{const y=Math.max(0,parseInt(v)||0);let b={...e,[k]:y};k==="seconds"&&y>=60&&(b.minutes+=Math.floor(y/60),b.seconds=y%60),k==="minutes"&&y>=60&&(b.hours+=Math.floor(y/60),b.minutes=y%60),n(b)},f=async()=>{if(t)try{const k=G1(t.category,t.codec.id,t.variant.name,t.resolution.id,t.frameRate.id,e);await navigator.clipboard.writeText(k),s(!0),setTimeout(()=>s(!1),2e3)}catch(k){console.error("Failed to copy URL:",k)}},p=(k,v)=>{if(v){const y=k/1024,b=y/1024;return{sizeGiB:y,sizeTiB:b}}else{const y=k/1e3,b=y/1e3;return{sizeGB:y,sizeTB:b}}},g=(k,v)=>{if(v){const{sizeGiB:y,sizeTiB:b}=p(k,!0);return y<1?`${Math.round(k)} MB`:y<1024?`${y.toFixed(2)} GiB`:`${b.toFixed(2)} TiB`}else{const{sizeGB:y,sizeTB:b}=p(k,!1);return y<1?`${Math.round(k)} MB`:y<1e3?`${y.toFixed(2)} GB`:`${b.toFixed(2)} TB`}},_=(k,v)=>`${k.toLocaleString()} MB`;if(!t)return a.jsx("div",{className:"bg-dark-secondary rounded-xl p-6 shadow-lg",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(hy,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-400 mb-2",children:"Ready to Calculate"}),a.jsx("p",{className:"text-gray-500",children:"Select your codec settings to see file size estimates"})]})});const T=t.bitrateMbps*60/8,j=T*60;return e.hours*3600+e.minutes*60+e.seconds,a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6 shadow-lg fade-in-up",children:[a.jsxs("h2",{className:"text-lg font-semibold text-white mb-6 flex items-center",children:[a.jsx(hy,{className:"h-5 w-5 mr-2 text-green-400"}),"Calculation Results"]}),a.jsxs("div",{className:"bg-blue-600/10 border border-blue-600/20 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(xd,{className:"h-4 w-4 text-blue-400 mr-2"}),a.jsx("span",{className:"text-sm font-medium text-blue-400",children:"Video Duration"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("input",{type:"number",min:"0",value:e.hours,onChange:k=>d("hours",k.target.value),className:"w-12 px-2 py-1 bg-dark-primary border border-gray-700 rounded text-white text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500"}),a.jsx("span",{className:"text-xs text-gray-400",children:"h"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("input",{type:"number",min:"0",max:"59",value:e.minutes,onChange:k=>d("minutes",k.target.value),className:"w-12 px-2 py-1 bg-dark-primary border border-gray-700 rounded text-white text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500"}),a.jsx("span",{className:"text-xs text-gray-400",children:"m"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("input",{type:"number",min:"0",max:"59",value:e.seconds,onChange:k=>d("seconds",k.target.value),className:"w-12 px-2 py-1 bg-dark-primary border border-gray-700 rounded text-white text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500"}),a.jsx("span",{className:"text-xs text-gray-400",children:"s"})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-blue-400 mb-2",children:"Display Units"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>u(!c),className:"p-1 rounded-full hover:bg-blue-600/20 transition-colors",title:"Click for unit explanation",children:a.jsx(Yn,{className:"h-4 w-4 text-blue-400 hover:text-blue-300"})}),c&&a.jsxs("div",{className:"absolute bottom-full right-0 mb-2 w-80 p-3 bg-dark-primary border border-gray-600 rounded-lg shadow-lg z-50",children:[a.jsxs("div",{className:"text-xs text-gray-300 space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-blue-400",children:"GB (Decimal):"})," Uses 1000-based units (1 GB = 1,000 MB). This is how storage manufacturers typically advertise drive capacity."]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-purple-400",children:"GiB (Binary):"})," Uses 1024-based units (1 GiB = 1,024 MB). This is how operating systems typically report file sizes."]}),a.jsx("div",{className:"text-gray-400 text-xs",children:'Example: A "1TB" drive shows as ~931 GiB in your OS due to this difference.'})]}),a.jsx("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-600"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-sm ${i?"text-gray-400":"text-blue-400 font-medium"}`,children:"GB"}),a.jsx("button",{onClick:()=>o(!i),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-dark-secondary ${i?"bg-purple-600":"bg-blue-600"}`,children:a.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${i?"translate-x-5":"translate-x-1"}`})}),a.jsx("span",{className:`text-sm ${i?"text-purple-400 font-medium":"text-gray-400"}`,children:"GiB"})]})]})]})]}),a.jsxs("div",{className:"md:hidden space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(xd,{className:"h-4 w-4 text-blue-400 mr-2"}),a.jsx("span",{className:"text-sm font-medium text-blue-400",children:"Video Duration"})]}),a.jsxs("div",{className:"flex items-center space-x-3 justify-center",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("input",{type:"number",min:"0",value:e.hours,onChange:k=>d("hours",k.target.value),className:"w-14 px-2 py-2 bg-dark-primary border border-gray-700 rounded text-white text-base focus:border-blue-500 focus:ring-1 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-400",children:"h"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("input",{type:"number",min:"0",max:"59",value:e.minutes,onChange:k=>d("minutes",k.target.value),className:"w-14 px-2 py-2 bg-dark-primary border border-gray-700 rounded text-white text-base focus:border-blue-500 focus:ring-1 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-400",children:"m"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("input",{type:"number",min:"0",max:"59",value:e.seconds,onChange:k=>d("seconds",k.target.value),className:"w-14 px-2 py-2 bg-dark-primary border border-gray-700 rounded text-white text-base focus:border-blue-500 focus:ring-1 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-400",children:"s"})]})]})]}),a.jsxs("div",{className:"border-t border-blue-600/20 pt-4",children:[a.jsx("div",{className:"text-sm font-medium text-blue-400 mb-3 text-center",children:"Display Units"}),a.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>u(!c),className:"p-2 rounded-full hover:bg-blue-600/20 transition-colors",title:"Click for unit explanation",children:a.jsx(Yn,{className:"h-5 w-5 text-blue-400 hover:text-blue-300"})}),c&&a.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-72 p-3 bg-dark-primary border border-gray-600 rounded-lg shadow-lg z-50",children:[a.jsxs("div",{className:"text-xs text-gray-300 space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-blue-400",children:"GB (Decimal):"})," Uses 1000-based units. How storage manufacturers advertise capacity."]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-purple-400",children:"GiB (Binary):"})," Uses 1024-based units. How operating systems report file sizes."]})]}),a.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-600"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-sm ${i?"text-gray-400":"text-blue-400 font-medium"}`,children:"GB"}),a.jsx("button",{onClick:()=>o(!i),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-dark-secondary ${i?"bg-purple-600":"bg-blue-600"}`,children:a.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${i?"translate-x-5":"translate-x-1"}`})}),a.jsx("span",{className:`text-sm ${i?"text-purple-400 font-medium":"text-gray-400"}`,children:"GiB"})]})]})]})]})]}),a.jsx("div",{className:"bg-dark-primary rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-400",children:"Bitrate:"}),a.jsxs("span",{className:"text-xl font-bold text-white",children:[t.bitrateMbps," Mbps"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-400",children:"File Size:"}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:`text-xl font-bold ${i?"text-purple-400":"text-green-400"}`,children:g(t.fileSizeMB,i)}),a.jsxs("div",{className:"text-xs text-gray-400",children:["(",_(t.fileSizeMB),")"]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Per Minute"}),a.jsx("div",{className:"text-lg font-semibold text-white",children:g(T,i)})]}),a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Per Hour"}),a.jsx("div",{className:"text-lg font-semibold text-white",children:g(j,i)})]})]}),a.jsxs("div",{className:"bg-blue-600/10 border border-blue-600/20 rounded-lg p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(ks,{className:"h-5 w-5 text-blue-400 mr-2"}),a.jsx("h3",{className:"text-lg font-medium text-blue-400",children:"Configuration Summary"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ah,{className:"h-4 w-4 text-blue-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-400",children:"Codec"}),a.jsx("div",{className:"text-white font-medium",children:t.codec.name})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(bc,{className:"h-4 w-4 text-blue-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-400",children:"Variant"}),a.jsx("div",{className:"text-white font-medium",children:t.variant.name})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(xw,{className:"h-4 w-4 text-blue-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-400",children:"Resolution"}),a.jsx("div",{className:"text-white font-medium",children:t.resolution.name})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(xd,{className:"h-4 w-4 text-blue-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-400",children:"Frame Rate"}),a.jsx("div",{className:"text-white font-medium",children:t.frameRate.name})]})]})]})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:f,className:"inline-flex items-center justify-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg text-white font-medium transition-colors",children:r?a.jsxs(a.Fragment,{children:[a.jsx(jh,{className:"h-4 w-4"}),a.jsx("span",{children:"Link Copied!"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Dh,{className:"h-4 w-4"}),a.jsx("span",{children:"Copy Link to This Calculation"})]})})})]})},vA=({preset:t,isActive:e,onApply:n,onUpdate:r,canDelete:s=!1,onDelete:i})=>{var y,b;const{categories:o}=Qi(),[c,u]=R.useState(!1),[d,f]=R.useState(t);R.useEffect(()=>{f(t)},[t]);const p=()=>{f({...t}),u(!0)},g=()=>{r(d),u(!1)},_=()=>{f({...t}),u(!1)},T=d.category?((y=o.find(N=>N.id===d.category))==null?void 0:y.codecs)||[]:[],j=d.codec?((b=T.find(N=>N.id===d.codec))==null?void 0:b.variants)||[]:[],k=N=>{f({...d,category:N,codec:"",variant:""})},v=N=>{f({...d,codec:N,variant:""})};return c?a.jsx("div",{className:"p-4 rounded-lg border-2 border-blue-500 bg-blue-600/10 shadow-lg",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Preset Name"}),a.jsx("input",{type:"text",value:d.name,onChange:N=>f({...d,name:N.target.value}),className:"w-full px-3 py-2 bg-dark-primary border border-gray-700 rounded text-white text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"Enter preset name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Category"}),a.jsxs("select",{value:d.category,onChange:N=>k(N.target.value),className:"w-full px-3 py-2 bg-dark-primary border border-gray-700 rounded text-white text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select category..."}),o.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Codec"}),a.jsxs("select",{value:d.codec,onChange:N=>v(N.target.value),disabled:!d.category,className:"w-full px-3 py-2 bg-dark-primary border border-gray-700 rounded text-white text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select codec..."}),T.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Variant"}),a.jsxs("select",{value:d.variant,onChange:N=>f({...d,variant:N.target.value}),disabled:!d.codec,className:"w-full px-3 py-2 bg-dark-primary border border-gray-700 rounded text-white text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select variant..."}),j.map(N=>a.jsx("option",{value:N.name,children:N.name},N.name))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Resolution"}),a.jsx("select",{value:d.resolution,onChange:N=>f({...d,resolution:N.target.value}),className:"w-full px-3 py-2 bg-dark-primary border border-gray-700 rounded text-white text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500",children:Bn.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Frame Rate"}),a.jsx("select",{value:d.frameRate,onChange:N=>f({...d,frameRate:N.target.value}),className:"w-full px-3 py-2 bg-dark-primary border border-gray-700 rounded text-white text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500",children:qt.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2",children:[a.jsx("div",{children:s&&i&&a.jsx("button",{onClick:()=>{confirm("Delete this preset?")&&i()},className:"px-3 py-1.5 text-xs bg-red-600 hover:bg-red-700 rounded text-white transition-colors",children:a.jsx(uT,{className:"h-3 w-3"})})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:_,className:"px-3 py-1.5 text-xs bg-gray-600 hover:bg-gray-700 rounded text-white transition-colors",children:a.jsx(Yr,{className:"h-3 w-3"})}),a.jsx("button",{onClick:g,disabled:!d.name||!d.category||!d.codec||!d.variant,className:"px-3 py-1.5 text-xs bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed rounded text-white transition-colors",children:a.jsx(dm,{className:"h-3 w-3"})})]})]})]})}):a.jsxs("button",{onClick:n,className:`
        relative p-4 rounded-lg border-2 transition-all duration-200 text-left group hover-lift w-full
        ${e?"border-blue-500 bg-blue-600/20 shadow-lg":"border-gray-700 bg-dark-secondary hover:border-blue-400 hover:bg-blue-600/10"}
      `,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:`font-semibold text-sm ${e?"text-blue-300":"text-white group-hover:text-blue-300"}`,children:t.name}),a.jsxs("div",{className:"flex items-center space-x-1",children:[e&&a.jsx(bc,{className:"h-4 w-4 text-blue-400"}),a.jsx("button",{onClick:N=>{N.stopPropagation(),p()},className:"p-1 rounded hover:bg-gray-700 transition-colors opacity-0 group-hover:opacity-100",title:"Edit preset",children:a.jsx(lT,{className:"h-3 w-3 text-gray-400 hover:text-white"})})]})]}),a.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[a.jsxs("div",{children:["Resolution: ",t.resolution]}),a.jsxs("div",{children:["Codec: ",t.variant]})]})]})},xA=()=>{var Bo,ea;const{categories:t,loading:e,error:n}=Qi(),{customPresets:r,updatePreset:s,addPreset:i,resetToDefaults:o,deletePreset:c}=pA(),[u,d]=J2(),[f,p]=R.useState(!1),[g,_]=R.useState(""),[T,j]=R.useState(""),[k,v]=R.useState(""),[y,b]=R.useState("1080p"),[N,O]=R.useState("30"),[M,I]=R.useState({hours:1,minutes:0,seconds:0}),[w,E]=R.useState(!1),[S,A]=R.useState(!1),[P,C]=R.useState(null),[Q,ue]=R.useState(!1),[re,pe]=R.useState(!1),[B,G]=R.useState(0),[K,he]=R.useState(!1),[ae,ye]=R.useState(!1),[Dt,wt]=R.useState(null);R.useEffect(()=>{if(e||t.length===0)return;const F=u.get("category")||"",se=u.get("codec")||"",ve=u.get("variant")||"",be=u.get("resolution")||"1080p",We=u.get("framerate")||"30",we=parseInt(u.get("hours")||"1"),ce=parseInt(u.get("minutes")||"0"),Ae=parseInt(u.get("seconds")||"0");console.log("URL Parameters:",{category:F,codec:se,variant:ve,resolution:be,frameRate:We});let Ot="",tn="",Dn="";if(F){const nn=t.find(rn=>rn.id===F);if(nn){if(Ot=F,console.log("Found valid category:",nn.name),se){const rn=nn.codecs.find(vn=>vn.id===se);if(rn){if(tn=se,console.log("Found valid codec:",rn.name),ve){const vn=rn.variants.find(ta=>ta.name===ve);vn?(Dn=ve,console.log("Found valid variant:",vn.name)):console.log("Variant not found:",ve,"Available variants:",rn.variants.map(ta=>ta.name))}}else console.log("Codec not found:",se,"Available codecs:",nn.codecs.map(vn=>vn.id))}}else console.log("Category not found:",F,"Available categories:",t.map(rn=>rn.id))}const qe=Bn.find(nn=>nn.id===be)?be:"1080p",Wt=qt.find(nn=>nn.id===We)?We:"30";console.log("Setting validated values:",{category:Ot,codec:tn,variant:Dn,resolution:qe,frameRate:Wt}),_(Ot),j(tn),v(Dn),b(qe),O(Wt),I({hours:Math.max(0,we),minutes:Math.max(0,Math.min(59,ce)),seconds:Math.max(0,Math.min(59,Ae))}),A(!0),Ot&&tn&&Dn&&qe&&Wt&&he(!0)},[t,u,e]),R.useEffect(()=>{if(!(!S||re)&&(g||T||k||y!=="1080p"||N!=="30"||M.hours!==1||M.minutes!==0||M.seconds!==0)){const F=new URLSearchParams;g&&F.set("category",g),T&&F.set("codec",T),k&&F.set("variant",k),y&&y!=="1080p"&&F.set("resolution",y),N&&N!=="30"&&F.set("framerate",N),M.hours!==1&&F.set("hours",M.hours.toString()),M.minutes!==0&&F.set("minutes",M.minutes.toString()),M.seconds!==0&&F.set("seconds",M.seconds.toString()),d(F,{replace:!0})}},[g,T,k,y,N,M,d,S,re]);const It=g?((Bo=t.find(F=>F.id===g))==null?void 0:Bo.codecs)||[]:[],Ue=T?((ea=It.find(F=>F.id===T))==null?void 0:ea.variants)||[]:[],Rn=k?(()=>{const F=Ue.find(be=>be.name===k);if(!F||!F.bitrates)return Bn;const se=Object.keys(F.bitrates),ve=Bn.filter(be=>{if(se.includes(be.id)){const we=F.bitrates[be.id];if(typeof we=="number")return we>0;if(typeof we=="object"&&we!==null)return Object.values(we).some(ce=>typeof ce=="number"&&ce>0)}return!1});return console.log("Available resolutions for variant:",F.name,ve.map(be=>be.id)),ve})():Bn,Vt=k&&y?(()=>{const F=Ue.find(ve=>ve.name===k);if(!F||!F.bitrates)return qt;const se=F.bitrates[y];if(!se)return qt;if(typeof se=="number")return se>0?qt:[];if(typeof se=="object"){const ve=Object.keys(se),be=qt.filter(We=>{if(ve.includes(We.id)){const ce=se[We.id];return typeof ce=="number"&&ce>0}return!1});return console.log("Available frame rates for",F.name,"at",y,":",be.map(We=>We.id)),be}return qt})():qt,ts=(F,se,ve=100)=>{const be=Date.now();if(re||be-B<500){console.log(`Auto-selection throttled for ${F}`);return}console.log(`Auto-selecting ${F}`),pe(!0),G(be),setTimeout(()=>{try{se()}catch(We){console.error(`Error during auto-selection of ${F}:`,We)}setTimeout(()=>{pe(!1)},200)},ve)};R.useEffect(()=>{!S||re||g&&!It.find(F=>F.id===T)&&(console.log("Resetting codec and variant due to category change"),j(""),v(""))},[g,It,T,S,re]),R.useEffect(()=>{!S||re||T&&!Ue.find(F=>F.name===k)&&(console.log("Resetting variant due to codec change"),v(""))},[T,Ue,k,S,re]),R.useEffect(()=>{if(!(!S||re)&&T&&!k&&Ue.length===1){const F=Ue[0];F.bitrates&&Object.keys(F.bitrates).length>0&&ts("variant",()=>{console.log("Auto-selecting variant:",F.name),v(F.name)})}},[T,k,Ue,S,re]),R.useEffect(()=>{!S||re||k&&y&&!Rn.find(se=>se.id===y)&&Rn.length>0&&(console.log("Resetting resolution due to variant change, available:",Rn.map(se=>se.id)),b(Rn[0].id))},[k,Rn,y,S,re]),R.useEffect(()=>{!S||re||k&&y&&!Vt.find(se=>se.id===N)&&Vt.length>0&&(Vt.length===1?ts("frameRate",()=>{console.log("Auto-selecting frame rate:",Vt[0].id),O(Vt[0].id)}):(console.log("Resetting frame rate due to resolution change, available:",Vt.map(se=>se.id)),O(Vt[0].id)))},[k,y,Vt,N,S,re]);const ns=async()=>{try{const F=G1(g,T,k,y,N,M);await navigator.clipboard.writeText(F),E(!0),setTimeout(()=>E(!1),2e3),st.trackShareLink()}catch(F){console.error("Failed to copy URL:",F)}},Ji=F=>{pe(!0),_(F.category),j(F.codec),v(F.variant),b(F.resolution),O(F.frameRate),setTimeout(()=>{pe(!1),wt(Us()),ye(!0)},300),st.trackPresetUsage(F.name)},Xi=(F,se)=>{s(F,se)},Yi=()=>{if(!g||!T||!k){alert("Please configure a complete codec setup first");return}const F={id:`preset-${Date.now()}`,name:"New Preset",category:g,codec:T,variant:k,resolution:y,frameRate:N};i(F)},Zi=()=>{confirm("Reset all presets to defaults? This cannot be undone.")&&o()},Us=()=>{if(!g||!T||!k||!y)return console.log("Missing required fields for calculation:",{category:g,codec:T,variant:k,resolution:y}),null;try{const F=t.find(qe=>qe.id===g),se=F==null?void 0:F.codecs.find(qe=>qe.id===T),ve=se==null?void 0:se.variants.find(qe=>qe.name===k),be=qt.find(qe=>qe.id===N),We=Bn.find(qe=>qe.id===y);if(!ve||!be||!We)return console.log("Could not find required objects:",{variant:!!ve,frameRate:!!be,resolution:!!We}),null;if(!ve.bitrates||typeof ve.bitrates!="object")return console.error("Variant has no bitrates:",ve.name),null;console.log("Calculating with:",{variant:ve.name,resolution:y,frameRate:N,bitrates:ve.bitrates});let we;const ce=ve.bitrates[y];if(!ce)return console.log("No bitrates found for resolution:",y),console.log("Available resolutions:",Object.keys(ve.bitrates)),null;if(typeof ce=="number")we=ce,console.log("Using simple bitrate:",we);else if(typeof ce=="object"&&ce!==null){if(we=ce[N],console.log("Frame rate specific bitrates:",ce),console.log("Selected frame rate:",N),console.log("Found bitrate:",we),!we||typeof we!="number"){const qe=Object.keys(ce);if(console.log("Available frame rates:",qe),qe.length>0){const Wt=qe[0];we=ce[Wt],console.log("Using fallback frame rate:",Wt,"with bitrate:",we)}else return console.log("No frame rates available"),null}}else return console.error("Invalid bitrates format:",ce),null;if(!we||we<=0||typeof we!="number")return console.log("Invalid bitrate:",we),null;const Ae=M.hours*3600+M.minutes*60+M.seconds;if(Ae<=0)return console.log("Invalid duration:",Ae),null;const Ot=we*Ae/8,tn=Ot/1024,Dn=tn/1024;return console.log("Calculation result:",{bitrateMbps:we,totalSeconds:Ae,fileSizeMB:Ot,fileSizeGB:tn}),{bitrateMbps:we,fileSizeMB:Ot,fileSizeGB:tn,fileSizeTB:Dn,totalSeconds:Ae,codec:se,variant:ve,resolution:We,frameRate:be,category:g}}catch(F){return console.error("Error during calculation:",F),null}},Cu=()=>{wt(Us()),ye(!0)};return R.useEffect(()=>{K&&!ae&&(wt(Us()),ye(!0),he(!1))},[K,ae]),R.useEffect(()=>{const F=()=>{p(!1)};if(f)return document.addEventListener("click",F),()=>document.removeEventListener("click",F)},[f]),!S||e?a.jsx("div",{className:"min-h-screen bg-dark-primary flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:e?"Loading codec data from Firebase...":"Loading calculator..."}),n&&a.jsxs("p",{className:"text-red-400 text-sm mt-2",children:["Error: ",n]}),e&&a.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[a.jsx("p",{children:"Connecting to Firebase database..."}),a.jsxs("p",{children:["Categories loaded: ",t.length]})]})]})}):!e&&t.length===0&&n?a.jsx("div",{className:"min-h-screen bg-dark-primary flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsxs("div",{className:"text-red-400 mb-4",children:[a.jsx(Ss,{className:"h-16 w-16 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Unable to Load Codec Data"}),a.jsx("p",{className:"text-sm",children:n})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white transition-colors",children:"Retry"}),a.jsx("div",{className:"text-xs text-gray-400",children:a.jsx("p",{children:"If this problem persists, please contact the administrator."})})]})]})}):a.jsxs("div",{className:"min-h-screen bg-dark-primary relative",children:[a.jsx("header",{className:"border-b border-gray-800 bg-dark-secondary/50 backdrop-blur-sm relative z-30",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ah,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-400"}),a.jsxs("h1",{className:"text-lg sm:text-xl font-semibold text-white",children:[a.jsx("span",{className:"hidden sm:inline",children:"Video File Size Calculator"}),a.jsx("span",{className:"sm:hidden",children:"VideoCalc"})]})]}),a.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[a.jsxs("button",{onClick:ns,className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",title:"Copy share link",children:[w?a.jsx(jh,{className:"h-4 w-4 text-green-400"}):a.jsx(Dh,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:w?"Copied!":"Share"})]}),a.jsxs(Ee,{to:"/codec-data",className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",title:"Browse Codec Database",onClick:()=>st.trackCodecDatabaseView(),children:[a.jsx(mn,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Database"})]}),a.jsxs(Ee,{to:"/about",className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",title:"About",children:[a.jsx(Yn,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:"About"})]}),a.jsxs(Ee,{to:"/admin",className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",title:"Admin Panel",children:[a.jsx(ks,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Admin"})]})]}),a.jsx("div",{className:"md:hidden",children:a.jsx("button",{onClick:F=>{F.stopPropagation(),p(!f)},className:"p-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",title:"Menu",children:f?a.jsx(Yr,{className:"h-5 w-5 text-gray-400"}):a.jsx(jo,{className:"h-5 w-5 text-gray-400"})})})]}),f&&a.jsx("div",{className:"md:hidden absolute top-full left-0 right-0 bg-dark-secondary border-b border-gray-800 shadow-lg z-40",onClick:F=>F.stopPropagation(),children:a.jsxs("div",{className:"px-4 py-3 space-y-2",children:[a.jsxs("button",{onClick:()=>{ns(),p(!1)},className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg hover:bg-dark-primary transition-colors text-left",children:[w?a.jsx(jh,{className:"h-5 w-5 text-green-400"}):a.jsx(Dh,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-gray-300",children:w?"Link Copied!":"Share Calculation"})]}),a.jsxs(Ee,{to:"/codec-data",className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg hover:bg-dark-primary transition-colors",onClick:()=>{st.trackCodecDatabaseView(),p(!1)},children:[a.jsx(mn,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-gray-300",children:"Codec Database"})]}),a.jsxs(Ee,{to:"/about",className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg hover:bg-dark-primary transition-colors",onClick:()=>p(!1),children:[a.jsx(Yn,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-gray-300",children:"About"})]}),a.jsxs(Ee,{to:"/admin",className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg hover:bg-dark-primary transition-colors",onClick:()=>p(!1),children:[a.jsx(ks,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-gray-300",children:"Admin Panel"})]})]})})]})}),a.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-indigo-900/20 border-b border-gray-800",children:[a.jsx("div",{className:"absolute inset-0 opacity-30",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255,255,255,0.05) 1px, transparent 0)",backgroundSize:"20px 20px"}})}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-16",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-bold text-white mb-4 sm:mb-6 tracking-tight",children:[a.jsx("span",{className:"block sm:inline",children:"Video File Size"}),a.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-400 to-indigo-400",children:"Calculator"})]}),a.jsx("p",{className:"text-base sm:text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed px-4",children:"Professional-grade file size estimation for video production workflows. Calculate storage requirements for any codec, resolution, and duration."}),a.jsxs("div",{className:"mt-6 sm:mt-8 flex flex-wrap items-center justify-center gap-4 sm:gap-6 text-xs sm:text-sm text-gray-400",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:"Professional Codecs"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{children:"RAW & Cinema Formats"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full"}),a.jsx("span",{children:"Broadcast Standards"})]})]})]})})]}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 relative z-10",children:[a.jsx("div",{className:"mb-6 sm:mb-8",children:a.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 border border-blue-500/30 rounded-xl p-4 sm:p-6 shadow-lg",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(_w,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-400 mr-2 sm:mr-3"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white",children:"Quick Start Presets"}),a.jsx("p",{className:"text-gray-300 text-xs sm:text-sm mt-1",children:"Customize your favorite workflow configurations"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[r.length<8&&a.jsxs("button",{onClick:Yi,disabled:!g||!T||!k,className:"flex items-center space-x-2 px-3 py-2 bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-white text-xs sm:text-sm transition-colors",title:"Add current configuration as preset",children:[a.jsx(cT,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Add Preset"}),a.jsx("span",{className:"sm:hidden",children:"Add"})]}),a.jsxs("button",{onClick:Zi,className:"flex items-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg text-white text-xs sm:text-sm transition-colors",title:"Reset to defaults",children:[a.jsx(um,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Reset"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:r.map((F,se)=>{const ve=g===F.category&&T===F.codec&&k===F.variant&&y===F.resolution&&N===F.frameRate;return a.jsx(vA,{preset:F,isActive:ve,onApply:()=>Ji(F),onUpdate:be=>Xi(se,be),canDelete:r.length>4,onDelete:()=>{confirm("Delete this preset?")&&c(se)}},F.id)})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("p",{className:"text-xs text-gray-400",children:"Your presets are saved locally in your browser"})})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-4 sm:p-6 shadow-lg hover-lift",children:[a.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-white mb-4 sm:mb-6 flex items-center",children:[a.jsx(Ah,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-blue-400"}),"Codec Settings"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ta,{label:"Codec Category",value:g,onChange:_,options:t.map(F=>({value:F.id,label:F.name,description:F.description})),placeholder:"Select category..."}),a.jsx(Ta,{label:"Video Codec",value:T,onChange:j,options:It.map(F=>({value:F.id,label:F.name,description:F.description})),placeholder:"Select codec...",disabled:!g}),a.jsx(Ta,{label:"Codec Variant",value:k,onChange:v,options:Ue.map(F=>({value:F.name,label:F.name,description:F.description})),placeholder:Ue.length===1?"Auto-selected":"Select variant...",disabled:!T||Ue.length===0})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-4 sm:p-6 shadow-lg hover-lift",children:[a.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-white mb-4 sm:mb-6 flex items-center",children:[a.jsx(xw,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-blue-400"}),"Video Specifications"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ta,{label:"Resolution",value:y,onChange:b,options:Rn.map(F=>({value:F.id,label:F.name,description:`${F.category} - ${F.width}×${F.height}`})),placeholder:"Select resolution...",disabled:!k||Rn.length===0}),a.jsx(Ta,{label:"Frame Rate",value:N,onChange:O,options:Vt.map(F=>({value:F.id,label:F.name,description:F.category})),placeholder:Vt.length===1?"Auto-selected":"Select frame rate...",disabled:!k||!y||Vt.length===0})]})]})]}),a.jsx("div",{className:"lg:sticky lg:top-8",children:a.jsx(yA,{results:Dt,duration:M,onDurationChange:I})})]}),a.jsx("button",{className:"mt-4 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold text-lg transition-colors",onClick:Cu,disabled:!g||!T||!k||!y||!N,children:"Calculate"})]}),a.jsx("footer",{className:"border-t border-gray-800 bg-dark-secondary/30 backdrop-blur-sm mt-12",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsxs("p",{className:"text-gray-400 text-sm",children:["© 2025 Time Lapse Technologies LLC. Supported by"," ",a.jsx("a",{href:"https://mediasupplychain.org",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"mediasupplychain.org"})]}),a.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Free forever for the media industry"})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("a",{href:"https://bolt.new",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-600/20 to-blue-600/20 border border-purple-500/30 rounded-lg hover:from-purple-600/30 hover:to-blue-600/30 hover:border-purple-400/50 transition-all duration-200 hover:scale-105",title:"Built with Bolt - AI-powered web development",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-purple-400 to-blue-400 rounded flex items-center justify-center",children:a.jsx("svg",{viewBox:"0 0 24 24",className:"w-3 h-3 text-white fill-current",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M13 0L0 13l7 7 13-13L13 0zm-1 6l4 4-4 4-4-4 4-4z"})})}),a.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-white transition-colors",children:"Built with Bolt"})]}),a.jsx(yw,{className:"h-3 w-3 text-gray-400 group-hover:text-gray-300 transition-colors"})]})})]})})})]})},wA=({onAuthSuccess:t})=>{const[e,n]=R.useState(!1),[r,s]=R.useState(""),[i,o]=R.useState(""),c="dave@timelapsetech.com,dgklee@gmail.com".split(",").map(d=>d.trim()).filter(Boolean);R.useEffect(()=>{const d=async()=>{try{const p=await un.handleRedirectSignInResult();if(p){if(!c.includes(p.email)){s(`Access denied. Your email (${p.email}) is not authorized for admin access.`),await un.signOut();return}sessionStorage.setItem("adminAuth",JSON.stringify({id:p.uid,name:p.displayName,email:p.email,picture:p.photoURL})),t();return}}catch(p){console.error("Redirect sign-in error:",p),p instanceof Error?s(`Sign in failed: ${p.message}`):s("Sign in failed. Please try again.")}},f=async()=>{try{await un.testConnection()||o("Firebase connection failed. Please check Firebase configuration.")}catch(p){console.error("Firebase config check failed:",p),o("Firebase is not properly configured. Please check the setup instructions.")}};d(),f()},[]),R.useEffect(()=>{},[c]);const u=async()=>{if(c.length===0){s("Admin emails not configured. Please contact the system administrator.");return}if(i){s("Firebase is not properly configured. Please check the setup instructions below.");return}n(!0),s("");try{const d=await un.signInWithGoogle();if(d===null){n(!0);return}if(!c.includes(d.email)){s(`Access denied. Your email (${d.email}) is not authorized for admin access.`),await un.signOut(),n(!1);return}sessionStorage.setItem("adminAuth",JSON.stringify({id:d.uid,name:d.displayName,email:d.email,picture:d.photoURL})),t()}catch(d){console.error("Sign in error:",d),d instanceof Error?d.message.includes("auth/api-key-not-valid")?s("Firebase API key is not valid. Please check Firebase configuration."):d.message.includes("auth/unauthorized-domain")?s("Domain not authorized. Please add localhost:5173 to Firebase authorized domains in Authentication → Settings → Authorized domains."):d.message.includes("popup-closed-by-user")||d.message.includes("auth/popup-blocked")?s("Popup was blocked or closed. Redirecting to sign in page..."):s(`Sign in failed: ${d.message}`):s("Sign in failed. Please try again."),n(!1)}};return c.length===0?a.jsx("div",{className:"min-h-screen bg-dark-primary flex items-center justify-center px-4",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-dark-secondary rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(Zn,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Configuration Error"}),a.jsx("p",{className:"text-gray-400",children:"Admin emails are not configured"})]}),a.jsx("div",{className:"bg-red-600/10 border border-red-600/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pr,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-400 font-medium",children:"Missing Configuration"}),a.jsxs("div",{className:"text-red-300 text-sm mt-1",children:[a.jsx("p",{children:"Environment variable needed:"}),a.jsx("ul",{className:"list-disc list-inside mt-2 space-y-1",children:a.jsxs("li",{children:[a.jsx("code",{children:"VITE_ADMIN_EMAILS"})," - Comma-separated admin emails"]})}),a.jsxs("p",{className:"mt-2",children:[a.jsx("strong",{children:"For Netlify:"})," Set this in your site's Environment Variables section."]}),a.jsxs("p",{className:"mt-1",children:[a.jsx("strong",{children:"For local development:"})," Add it to your .env file."]})]})]})]})})]})})}):a.jsx("div",{className:"min-h-screen bg-dark-primary flex items-center justify-center px-4",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-dark-secondary rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(Zn,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Admin Access"}),a.jsx("p",{className:"text-gray-400",children:"Sign in with your authorized Google account"})]}),r&&a.jsx("div",{className:"mb-6 bg-red-600/10 border border-red-600/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Pr,{className:"h-5 w-5 text-red-400 mr-2 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-400 font-medium",children:"Authentication Error"}),a.jsx("p",{className:"text-red-300 text-sm mt-1",children:r})]})]})}),i&&a.jsx("div",{className:"mb-6 bg-yellow-600/10 border border-yellow-600/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Pr,{className:"h-5 w-5 text-yellow-400 mr-2 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-yellow-400 font-medium",children:"Configuration Issue"}),a.jsx("p",{className:"text-yellow-300 text-sm mt-1",children:i})]})]})}),a.jsx("button",{onClick:u,disabled:e||!!i,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-white font-medium transition-colors flex items-center justify-center space-x-2",children:e?a.jsx("div",{className:"h-5 w-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(oT,{className:"h-5 w-5"}),a.jsx("span",{children:"Sign in with Google"})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-600/10 border border-blue-600/20 rounded-lg",children:[a.jsx("h3",{className:"text-blue-400 font-medium mb-2",children:"Admin Access Requirements"}),a.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[a.jsx("li",{children:"• Must use an authorized Google account"}),a.jsx("li",{children:"• Contact system administrator to add your email"}),a.jsx("li",{children:"• Access is logged and monitored"})]})]})]})})})},_A="modulepreload",bA=function(t){return"/"+t},z0={},EA=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=bA(u),u in z0)return;z0[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":_A,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((g,_)=>{p.addEventListener("load",g),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},NA=()=>{const{categories:t,loading:e,error:n,refreshCategories:r,exportToFirebase:s}=Qi(),[i,o]=R.useState(!1),[c,u]=R.useState(!1),[d,f]=R.useState("idle"),[p,g]=R.useState("idle"),[_,T]=R.useState(""),j=async()=>{if(confirm("This will import the default codec data to Firebase. This will replace existing data. Continue?")){o(!0),f("idle");try{const{defaultCodecData:y}=await EA(async()=>{const{defaultCodecData:b}=await import("./codecData-BYhqU_tg.js");return{defaultCodecData:b}},[]);await un.importCodecData(y),await r(),f("success"),T("Default codec data imported successfully!")}catch(y){console.error("Import failed:",y),f("error"),T(y instanceof Error?y.message:"Import failed")}finally{o(!1),setTimeout(()=>{f("idle"),T("")},5e3)}}},k=async()=>{u(!0),g("idle");try{const y=await un.exportCodecData(),b=JSON.stringify({metadata:{exportDate:new Date().toISOString(),source:"Firebase",totalCategories:y.length,totalCodecs:y.reduce((I,w)=>I+w.codecs.length,0),totalVariants:y.reduce((I,w)=>I+w.codecs.reduce((E,S)=>E+S.variants.length,0),0)},categories:y},null,2),N=new Blob([b],{type:"application/json"}),O=URL.createObjectURL(N),M=document.createElement("a");M.href=O,M.download=`firebase-codec-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(O),g("success"),T("Data exported successfully!")}catch(y){console.error("Export failed:",y),g("error"),T(y instanceof Error?y.message:"Export failed")}finally{u(!1),setTimeout(()=>{g("idle"),T("")},5e3)}},v=y=>{var O;const b=(O=y.target.files)==null?void 0:O[0];if(!b)return;const N=new FileReader;N.onload=async M=>{var I;try{const w=JSON.parse((I=M.target)==null?void 0:I.result),E=w.categories||w;if(!Array.isArray(E))throw new Error("Invalid file format");confirm(`Import ${E.length} categories to Firebase? This will replace existing data.`)&&(o(!0),await un.importCodecData(E),await r(),f("success"),T("Data imported successfully!"))}catch(w){console.error("Import failed:",w),f("error"),T("Failed to import data. Please check the file format.")}finally{o(!1),setTimeout(()=>{f("idle"),T("")},5e3)}},N.readAsText(b),y.target.value=""};return e&&t.length===0?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Un,{className:"h-8 w-8 animate-spin text-blue-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Loading codec data from Firebase..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(mn,{className:"h-6 w-6 text-blue-400 mr-3"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Firebase Codec Database"}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Manage codec data stored in Firebase Firestore"})]})]}),a.jsxs("button",{onClick:r,disabled:e,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 rounded-lg text-white transition-colors",children:[a.jsx(Un,{className:`h-4 w-4 ${e?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]})]}),n&&a.jsx("div",{className:"mb-4 p-4 bg-red-600/10 border border-red-600/20 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pr,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-400 font-medium",children:"Firebase Error"}),a.jsx("p",{className:"text-red-300 text-sm mt-1",children:n})]})]})}),_&&a.jsx("div",{className:`mb-4 p-4 rounded-lg border ${d==="success"||p==="success"?"bg-green-600/10 border-green-600/20":"bg-red-600/10 border-red-600/20"}`,children:a.jsxs("div",{className:"flex items-center",children:[d==="success"||p==="success"?a.jsx(wc,{className:"h-5 w-5 text-green-400 mr-2"}):a.jsx(Pr,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsx("p",{className:`font-medium ${d==="success"||p==="success"?"text-green-400":"text-red-400"}`,children:_})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("button",{onClick:j,disabled:i,className:"flex items-center justify-center space-x-2 p-4 bg-green-600 hover:bg-green-700 disabled:opacity-50 rounded-lg text-white transition-colors",children:[i?a.jsx(Un,{className:"h-5 w-5 animate-spin"}):a.jsx(Vh,{className:"h-5 w-5"}),a.jsx("span",{children:"Import Defaults"})]}),a.jsxs("label",{className:"flex items-center justify-center space-x-2 p-4 bg-blue-600 hover:bg-blue-700 rounded-lg text-white cursor-pointer transition-colors",children:[a.jsx(Vh,{className:"h-5 w-5"}),a.jsx("span",{children:"Import JSON"}),a.jsx("input",{type:"file",accept:".json",onChange:v,className:"hidden"})]}),a.jsxs("button",{onClick:k,disabled:c||t.length===0,className:"flex items-center justify-center space-x-2 p-4 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 rounded-lg text-white transition-colors",children:[c?a.jsx(Un,{className:"h-5 w-5 animate-spin"}):a.jsx(cm,{className:"h-5 w-5"}),a.jsx("span",{children:"Export Data"})]}),a.jsxs("button",{onClick:r,disabled:e,className:"flex items-center justify-center space-x-2 p-4 bg-gray-600 hover:bg-gray-700 disabled:opacity-50 rounded-lg text-white transition-colors",children:[a.jsx(Un,{className:`h-5 w-5 ${e?"animate-spin":""}`}),a.jsx("span",{children:"Sync"})]})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Current Database Statistics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:t.length}),a.jsx("div",{className:"text-sm text-gray-400",children:"Categories"})]}),a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:t.reduce((y,b)=>y+b.codecs.length,0)}),a.jsx("div",{className:"text-sm text-gray-400",children:"Codecs"})]}),a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:t.reduce((y,b)=>y+b.codecs.reduce((N,O)=>N+O.variants.length,0),0)}),a.jsx("div",{className:"text-sm text-gray-400",children:"Variants"})]})]})]}),t.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Categories in Firebase"}),t.map(y=>a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(sT,{className:"h-6 w-6 text-blue-400"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:y.name}),y.description&&a.jsx("p",{className:"text-gray-400 text-sm",children:y.description})]})]}),a.jsxs("div",{className:"space-y-3",children:[y.codecs.map(b=>a.jsx("div",{className:"bg-dark-primary rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(dT,{className:"h-5 w-5 text-green-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:b.name}),b.description&&a.jsx("div",{className:"text-sm text-gray-400",children:b.description}),a.jsxs("div",{className:"text-xs text-gray-500",children:[b.variants.length," variant",b.variants.length!==1?"s":""]})]})]})},b.id)),y.codecs.length===0&&a.jsx("div",{className:"text-center py-4 text-gray-500",children:"No codecs in this category"})]})]},y.id))]}):a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-8 text-center",children:[a.jsx(mn,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-400 mb-2",children:"No Data in Firebase"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Import the default codec data or upload a JSON file to get started."}),a.jsx("button",{onClick:j,disabled:i,className:"px-6 py-3 bg-green-600 hover:bg-green-700 disabled:opacity-50 rounded-lg text-white transition-colors",children:"Import Default Data"})]}),a.jsxs("div",{className:"bg-blue-600/10 border border-blue-600/20 rounded-xl p-6",children:[a.jsx("h3",{className:"text-blue-400 font-medium mb-3",children:"Firebase Integration Instructions"}),a.jsxs("div",{className:"text-sm text-gray-300 space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Import Defaults:"})," Load the built-in codec database into Firebase"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Import JSON:"})," Upload a previously exported codec database file"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Export Data:"})," Download the current Firebase data as a JSON file"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Sync:"})," Refresh the data from Firebase to see latest changes"]})]}),a.jsx("div",{className:"mt-4 p-3 bg-yellow-600/10 border border-yellow-600/20 rounded-lg",children:a.jsxs("p",{className:"text-yellow-400 text-sm",children:[a.jsx("strong",{children:"Note:"})," Make sure your Firebase project is properly configured and accessible. The app will fall back to cached data if Firebase is unavailable."]})})]})]})},TA=()=>{const{categories:t}=Qi(),e=()=>{const _=localStorage.getItem("adminDefaultPresets");if(_)try{return JSON.parse(_)}catch{}return[{id:"preset-1",name:"YouTube 1080p",category:"delivery",codec:"h264",variant:"High Profile",resolution:"1080p",frameRate:"30"},{id:"preset-2",name:"Netflix 4K",category:"broadcast",codec:"jpeg2000",variant:"J2K IMF 4K",resolution:"4K",frameRate:"24"},{id:"preset-3",name:"News TV",category:"camera",codec:"xdcam",variant:"XDCAM HD422",resolution:"1080i",frameRate:"29.97"},{id:"preset-4",name:"Episodic TV",category:"professional",codec:"dnxhd",variant:"DNxHD 145",resolution:"1080p",frameRate:"23.98"}]},[n,r]=R.useState(e()),[s,i]=R.useState(!1),[o,c]=R.useState({}),u=(_,T)=>{if(!_.name.trim())return"Preset name is required";if(!_.category)return"Category is required";const j=t.find(O=>O.id===_.category);if(!j)return"Invalid category selected";if(!_.codec)return"Codec is required";const k=j.codecs.find(O=>O.id===_.codec);if(!k)return"Invalid codec selected";if(!_.variant)return"Variant is required";const v=k.variants.find(O=>O.name===_.variant);if(!v)return"Invalid variant selected";if(!_.resolution)return"Resolution is required";const y=Bn.find(O=>O.id===_.resolution);if(!y)return"Invalid resolution selected";if(!_.frameRate)return"Frame rate is required";const b=qt.find(O=>O.id===_.frameRate);if(!b)return"Invalid frame rate selected";const N=v.bitrates[_.resolution];if(!N)return`${v.name} doesn't support ${y.name}`;if(typeof N=="object"&&!N[_.frameRate]){const O=Object.keys(N);if(O.length>0)return`${v.name} at ${y.name} doesn't support ${b.name}. Available: ${O.join(", ")}`}return null},d=()=>{const _={};return n.forEach((T,j)=>{const k=u(T);k&&(_[j]=k)}),c(_),Object.keys(_).length===0},f=(_,T)=>{const j=[...n];j[_]={...j[_],...T},T.category&&T.category!==n[_].category&&(j[_].codec="",j[_].variant=""),T.codec&&T.codec!==n[_].codec&&(j[_].variant=""),r(j),i(!0)},p=()=>{if(!d()){alert("Please fix all validation errors before saving.");return}localStorage.setItem("adminDefaultPresets",JSON.stringify(n)),localStorage.setItem("defaultPresets",JSON.stringify(n)),i(!1),alert("Default presets saved successfully!")},g=()=>{confirm("Reset all presets to factory defaults? This cannot be undone.")&&(r([{id:"preset-1",name:"YouTube 1080p",category:"delivery",codec:"h264",variant:"High Profile",resolution:"1080p",frameRate:"30"},{id:"preset-2",name:"Netflix 4K",category:"broadcast",codec:"jpeg2000",variant:"J2K IMF 4K",resolution:"4K",frameRate:"24"},{id:"preset-3",name:"News TV",category:"camera",codec:"xdcam",variant:"XDCAM HD422",resolution:"1080i",frameRate:"29.97"},{id:"preset-4",name:"Episodic TV",category:"professional",codec:"dnxhd",variant:"DNxHD 145",resolution:"1080p",frameRate:"23.98"}]),i(!0),c({}))};return R.useEffect(()=>{d()},[n,t]),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(_w,{className:"h-6 w-6 text-yellow-400 mr-3"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Default Quick Start Presets"}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Configure the 4 default presets that appear for all users"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:g,className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg text-white transition-colors",children:[a.jsx(um,{className:"h-4 w-4"}),a.jsx("span",{children:"Reset to Defaults"})]}),a.jsxs("button",{onClick:p,disabled:!s||Object.keys(o).length>0,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-white transition-colors",children:[a.jsx(dm,{className:"h-4 w-4"}),a.jsx("span",{children:"Save Changes"})]})]})]}),s&&a.jsx("div",{className:"mb-6 p-4 bg-yellow-600/10 border border-yellow-600/20 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pr,{className:"h-5 w-5 text-yellow-400 mr-2"}),a.jsx("span",{className:"text-yellow-400 font-medium",children:"You have unsaved changes"})]})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:n.map((_,T)=>{const j=t.find(N=>N.id===_.category),k=(j==null?void 0:j.codecs)||[],v=k.find(N=>N.id===_.codec),y=(v==null?void 0:v.variants)||[],b=o[T];return a.jsx("div",{className:`p-6 rounded-lg border-2 ${b?"border-red-500 bg-red-600/10":"border-gray-700 bg-dark-primary"}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preset Name"}),a.jsx("input",{type:"text",value:_.name,onChange:N=>f(T,{name:N.target.value}),className:"w-full px-3 py-2 bg-dark-secondary border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"Enter preset name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),a.jsxs("select",{value:_.category,onChange:N=>f(T,{category:N.target.value}),className:"w-full px-3 py-2 bg-dark-secondary border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select category..."}),t.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Codec"}),a.jsxs("select",{value:_.codec,onChange:N=>f(T,{codec:N.target.value}),disabled:!_.category,className:"w-full px-3 py-2 bg-dark-secondary border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select codec..."}),k.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Variant"}),a.jsxs("select",{value:_.variant,onChange:N=>f(T,{variant:N.target.value}),disabled:!_.codec,className:"w-full px-3 py-2 bg-dark-secondary border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Select variant..."}),y.map(N=>a.jsx("option",{value:N.name,children:N.name},N.name))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Resolution"}),a.jsxs("select",{value:_.resolution,onChange:N=>f(T,{resolution:N.target.value}),className:"w-full px-3 py-2 bg-dark-secondary border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select resolution..."}),Bn.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Frame Rate"}),a.jsxs("select",{value:_.frameRate,onChange:N=>f(T,{frameRate:N.target.value}),className:"w-full px-3 py-2 bg-dark-secondary border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select frame rate..."}),qt.map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))]})]})]}),b&&a.jsx("div",{className:"p-3 bg-red-600/20 border border-red-600/30 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Pr,{className:"h-4 w-4 text-red-400 mr-2"}),a.jsx("span",{className:"text-red-400 text-sm",children:b})]})})]})},_.id)})}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-600/10 border border-blue-600/20 rounded-lg",children:[a.jsx("h3",{className:"text-blue-400 font-medium mb-2",children:"How Default Presets Work"}),a.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[a.jsx("li",{children:"• These 4 presets appear for all users when they first visit the calculator"}),a.jsx("li",{children:"• Signed-in users can customize their own presets, but these remain as fallbacks"}),a.jsx("li",{children:"• Changes here affect all new users and users who reset their presets"}),a.jsx("li",{children:"• Make sure all configurations are valid and commonly used workflows"}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"Frame Rate Guide:"})," 23.98 fps = Film on TV (episodic/broadcast), 24 fps = True Cinema"]}),a.jsxs("li",{children:["• ",a.jsx("strong",{children:"NTSC Formats:"})," NTSC DV (720×480) for DV cameras, NTSC D1 (720×486) for D1 broadcast"]})]})]})]})})},IA=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(!1),[s,i]=R.useState(!1),[o,c]=R.useState("idle"),[u,d]=R.useState(""),[f,p]=R.useState(!1);R.useEffect(()=>{const _="G-NVD93E95GB";if(d(_),_.match(/^G-[A-Z0-9]+$/))p(!0),e(_),r(!0);else{const T=localStorage.getItem("ga_measurement_id"),j=localStorage.getItem("ga_enabled")==="true";T&&(e(T),r(j)),p(!1)}},[]);const g=()=>{if(!f){c("saving");try{if(n&&t){if(!t.match(/^G-[A-Z0-9]+$/)){c("error"),setTimeout(()=>c("idle"),3e3);return}localStorage.setItem("ga_measurement_id",t),localStorage.setItem("ga_enabled","true"),st.initialize(t)}else localStorage.setItem("ga_enabled","false"),localStorage.removeItem("ga_measurement_id");c("saved"),setTimeout(()=>c("idle"),3e3)}catch(_){console.error("Error saving analytics configuration:",_),c("error"),setTimeout(()=>c("idle"),3e3)}}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-4 sm:p-6",children:[a.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-white mb-4 sm:mb-6 flex items-center",children:[a.jsx(pw,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Google Analytics Configuration"]}),f?a.jsx("div",{className:"bg-green-600/10 border border-green-600/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(wc,{className:"h-5 w-5 text-green-400 mr-3 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-green-400 font-medium mb-1",children:"Using Environment Configuration"}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Google Analytics is automatically configured from your environment variables."}),a.jsxs("p",{className:"text-gray-400 text-xs mt-2",children:["To use admin panel configuration instead, remove the ",a.jsx("code",{className:"bg-green-600/20 px-1 rounded",children:"VITE_GA_MEASUREMENT_ID"})," environment variable from your site settings."]})]})]})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"enableAnalytics",checked:n,onChange:_=>r(_.target.checked),className:"rounded border-gray-600 bg-dark-primary text-blue-500 focus:ring-blue-500"}),a.jsx("label",{htmlFor:"enableAnalytics",className:"text-gray-300",children:"Enable Google Analytics"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"measurementId",className:"block text-sm text-gray-300",children:"Measurement ID (G-XXXXXXXX)"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:s?"text":"password",id:"measurementId",value:t,onChange:_=>e(_.target.value),placeholder:"G-XXXXXXXX",className:"w-full px-4 py-2 bg-dark-primary border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",children:s?a.jsx(vw,{className:"h-5 w-5"}):a.jsx(ou,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:g,disabled:o==="saving",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o==="saving"?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Un,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx(dm,{className:"h-4 w-4 mr-2"}),"Save Configuration"]})}),o==="saved"&&a.jsxs("span",{className:"text-green-400 text-sm flex items-center",children:[a.jsx(wc,{className:"h-4 w-4 mr-1"}),"Configuration saved"]}),o==="error"&&a.jsxs("span",{className:"text-red-400 text-sm flex items-center",children:[a.jsx(Pr,{className:"h-4 w-4 mr-1"}),"Failed to save configuration"]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700",children:[a.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Configuration Options"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-600/10 border border-blue-600/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-blue-400 font-medium mb-2",children:"Environment Variables"}),a.jsx("p",{className:"text-gray-300 text-sm mb-3",children:"For better security and persistence across deployments, set up Google Analytics using environment variables:"}),a.jsxs("ol",{className:"list-decimal list-inside text-gray-300 text-sm space-y-2",children:[a.jsx("li",{children:"Go to your site dashboard"}),a.jsx("li",{children:"Navigate to Environment Variables"}),a.jsxs("li",{children:["Add ",a.jsx("code",{className:"bg-blue-600/20 px-1 rounded",children:"VITE_GA_MEASUREMENT_ID"})," with your Google Analytics Measurement ID"]})]})]}),a.jsxs("div",{className:"bg-purple-600/10 border border-purple-600/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-purple-400 font-medium mb-2",children:"Admin Panel Configuration"}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Alternatively, you can configure Google Analytics through this admin panel. This setting is stored in your browser's local storage."})]})]})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Current Status"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-400",children:"Status"}),a.jsx("div",{className:`text-lg font-semibold ${st.isEnabled()?"text-green-400":"text-gray-400"}`,children:st.isEnabled()?"Active":"Disabled"})]}),a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-400",children:"Measurement ID"}),a.jsx("div",{className:"text-lg font-mono text-white",children:st.getMeasurementId()||"Not configured"})]}),a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-gray-400",children:"Configuration Source"}),a.jsx("div",{className:"text-lg font-semibold text-blue-400",children:st.getSource()==="environment"?"Environment Variable":st.getSource()==="admin"?"Admin Panel":"None"})]})]})]})]})},SA=()=>{const t=lm(),{categories:e,updateCategories:n,resetToDefaults:r}=Qi(),[s,i]=R.useState(!1),[o,c]=R.useState(null),[u,d]=R.useState("codecs"),[f,p]=R.useState(!1),[g,_]=R.useState(!1),[T,j]=R.useState(!1),[k,v]=R.useState(null),[y,b]=R.useState(!1),[N,O]=R.useState(null);R.useEffect(()=>{const Q=sessionStorage.getItem("adminAuth");if(Q)try{const ue=JSON.parse(Q);c(ue),i(!0),st.trackAdminAccess()}catch{sessionStorage.removeItem("adminAuth")}},[]);const M=()=>{const Q=sessionStorage.getItem("adminAuth");if(Q)try{const ue=JSON.parse(Q);c(ue),i(!0),st.trackAdminAccess()}catch{console.error("Failed to parse admin auth data")}},I=()=>{i(!1),c(null),sessionStorage.removeItem("adminAuth"),window.google&&window.google.accounts.id.disableAutoSelect(),t("/")},w=async()=>{_(!0);try{const Q={metadata:{exportDate:new Date().toISOString(),exportedBy:(o==null?void 0:o.email)||"unknown",version:"2.0",totalCategories:e.length,totalCodecs:e.reduce((G,K)=>G+K.codecs.length,0),totalVariants:e.reduce((G,K)=>G+K.codecs.reduce((he,ae)=>he+ae.variants.length,0),0),description:"Complete Video File Size Calculator Codec Database Export"},categories:e,exportSettings:{includeDescriptions:!0,includeWorkflowNotes:!0,includeBitrates:!0,format:"complete"}},ue=JSON.stringify(Q,null,2),re=new Blob([ue],{type:"application/json"}),pe=URL.createObjectURL(re),B=document.createElement("a");B.href=pe,B.download=`complete-codec-database-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(pe),st.trackDataExport("complete-codec-database")}catch(Q){console.error("Export failed:",Q),alert("Failed to export codec data. Please try again.")}finally{_(!1)}},E=Q=>{var pe;const ue=(pe=Q.target.files)==null?void 0:pe[0];if(!ue)return;j(!0),v(null);const re=new FileReader;re.onload=B=>{var G;try{const K=JSON.parse((G=B.target)==null?void 0:G.result),he=S(K);if(!he.isValid){v({success:!1,message:`Invalid file format: ${he.error}`}),j(!1);return}O(K),b(!0),j(!1)}catch{v({success:!1,message:"Error parsing JSON file. Please check the file format."}),j(!1)}},re.onerror=()=>{v({success:!1,message:"Error reading file. Please try again."}),j(!1)},re.readAsText(ue),Q.target.value=""},S=Q=>{if(!Q)return{isValid:!1,error:"No data found"};if(Q.categories&&Array.isArray(Q.categories)){for(const ue of Q.categories){if(!ue.id||!ue.name||!Array.isArray(ue.codecs))return{isValid:!1,error:"Invalid category structure"};for(const re of ue.codecs){if(!re.id||!re.name||!Array.isArray(re.variants))return{isValid:!1,error:"Invalid codec structure"};for(const pe of re.variants)if(!pe.name||!pe.bitrates||typeof pe.bitrates!="object")return{isValid:!1,error:"Invalid variant structure"}}}return{isValid:!0}}return Array.isArray(Q)?S({categories:Q}):{isValid:!1,error:"Unrecognized file format"}},A=()=>{if(N)try{const Q=N.categories||N,ue=P(e,Q);n(Q),v({success:!0,message:"Codec database updated successfully!",details:ue}),b(!1),O(null),st.trackDataExport("codec-database-import-success")}catch(Q){console.error("Import processing failed:",Q),v({success:!1,message:"Failed to process import. Please check the data format."})}},P=(Q,ue)=>{let re=0,pe=0,B=0,G=0,K=0,he=0;return re=ue.length,B=ue.reduce((ae,ye)=>ae+ye.codecs.length,0),K=ue.reduce((ae,ye)=>ae+ye.codecs.reduce((Dt,wt)=>Dt+wt.variants.length,0),0),{categoriesAdded:re,categoriesUpdated:pe,codecsAdded:B,codecsUpdated:G,variantsAdded:K,variantsUpdated:he}},C=()=>{confirm("Are you sure you want to reset to default codec database? This cannot be undone.")&&(r(),v({success:!0,message:"Database reset to defaults successfully."}))};return s?a.jsxs("div",{className:"min-h-screen bg-dark-primary relative",children:[a.jsx("header",{className:"border-b border-gray-800 bg-dark-secondary/50 backdrop-blur-sm relative z-30",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(Ee,{to:"/",className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[a.jsx(au,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Back to Calculator"})]}),a.jsxs("div",{className:"hidden sm:flex items-center space-x-3",children:[a.jsx(Zn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-400"}),a.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-white",children:"Admin Panel"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o&&a.jsxs("div",{className:"hidden sm:flex items-center space-x-3 px-3 py-2 rounded-lg bg-dark-secondary",children:[a.jsx("img",{src:o.picture,alt:o.name,className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full"}),a.jsxs("div",{className:"hidden md:block",children:[a.jsx("div",{className:"text-xs sm:text-sm text-white font-medium",children:o.name}),a.jsx("div",{className:"text-xs text-gray-400",children:o.email})]})]}),a.jsx("div",{className:"sm:hidden",children:a.jsx("button",{onClick:()=>p(!f),className:"p-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",children:f?a.jsx(Yr,{className:"h-5 w-5 text-gray-400"}):a.jsx(jo,{className:"h-5 w-5 text-gray-400"})})}),a.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[a.jsxs(Ee,{to:"/about",className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",children:[a.jsx(Yn,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:"About"})]}),a.jsxs("button",{onClick:I,className:"flex items-center space-x-2 px-3 sm:px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-white transition-colors text-sm",children:[a.jsx(my,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})]}),f&&a.jsx("div",{className:"sm:hidden absolute top-full left-0 right-0 bg-dark-secondary border-b border-gray-800 shadow-lg z-40",children:a.jsxs("div",{className:"px-4 py-3 space-y-2",children:[o&&a.jsxs("div",{className:"flex items-center space-x-3 px-3 py-3 border-b border-gray-700",children:[a.jsx("img",{src:o.picture,alt:o.name,className:"w-6 h-6 rounded-full"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-white font-medium",children:o.name}),a.jsx("div",{className:"text-xs text-gray-400",children:o.email})]})]}),a.jsxs(Ee,{to:"/about",className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg hover:bg-dark-primary transition-colors",onClick:()=>p(!1),children:[a.jsx(Yn,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-gray-300",children:"About"})]}),a.jsxs("button",{onClick:()=>{I(),p(!1)},className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg hover:bg-red-600/20 transition-colors text-left",children:[a.jsx(my,{className:"h-5 w-5 text-red-400"}),a.jsx("span",{className:"text-red-400",children:"Logout"})]})]})})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-20",children:a.jsx("div",{className:"border-b border-gray-800",children:a.jsxs("nav",{className:"-mb-px flex space-x-4 sm:space-x-8 overflow-x-auto",children:[a.jsx("button",{onClick:()=>d("codecs"),className:`py-4 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${u==="codecs"?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Firebase Codec Database"}),a.jsx("button",{onClick:()=>d("presets"),className:`py-4 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${u==="presets"?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Default Presets"}),a.jsx("button",{onClick:()=>d("data"),className:`py-4 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${u==="data"?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Data Management"}),a.jsx("button",{onClick:()=>d("analytics"),className:`py-4 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${u==="analytics"?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Analytics Configuration"}),a.jsx("button",{onClick:()=>d("google-analytics"),className:`py-4 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${u==="google-analytics"?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Google Analytics"})]})})}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 relative z-10",children:[u==="codecs"&&a.jsx(NA,{}),u==="presets"&&a.jsx(TA,{}),u==="google-analytics"&&a.jsx(IA,{}),u==="data"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-4 sm:p-6",children:[a.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-white mb-4 sm:mb-6 flex items-center",children:[a.jsx(mn,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Complete Codec Database Management"]}),a.jsxs("div",{className:"mb-6 p-4 bg-blue-600/10 border border-blue-600/20 rounded-lg",children:[a.jsx("h3",{className:"text-blue-400 font-medium mb-2",children:"Enhanced Import/Export System"}),a.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Export the complete codec database including all categories, codecs, variants, bitrates, and metadata. Import modified versions to automatically update the system with new codecs or changes."}),a.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[a.jsx("li",{children:"• Export includes complete database structure with metadata"}),a.jsx("li",{children:"• Import validates data structure before applying changes"}),a.jsx("li",{children:"• Preview changes before confirming import"}),a.jsx("li",{children:"• Automatic backup of current data before import"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("button",{onClick:w,disabled:g,className:"flex items-center justify-center space-x-2 p-3 sm:p-4 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-white transition-colors text-sm",children:[g?a.jsx(Un,{className:"h-4 w-4 sm:h-5 sm:w-5 animate-spin"}):a.jsx(cm,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{children:g?"Exporting...":"Export Complete Database"})]}),a.jsxs("label",{className:`flex items-center justify-center space-x-2 p-3 sm:p-4 bg-green-600 hover:bg-green-700 rounded-lg text-white cursor-pointer transition-colors text-sm ${T?"opacity-50 cursor-not-allowed":""}`,children:[T?a.jsx(Un,{className:"h-4 w-4 sm:h-5 sm:w-5 animate-spin"}):a.jsx(Vh,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{children:T?"Processing...":"Import Database"}),a.jsx("input",{type:"file",accept:".json",onChange:E,disabled:T,className:"hidden"})]}),a.jsxs("button",{onClick:C,className:"flex items-center justify-center space-x-2 p-3 sm:p-4 bg-red-600 hover:bg-red-700 rounded-lg text-white transition-colors text-sm",children:[a.jsx(um,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{children:"Reset to Defaults"})]})]}),k&&a.jsx("div",{className:`mb-6 p-4 rounded-lg border ${k.success?"bg-green-600/10 border-green-600/20":"bg-red-600/10 border-red-600/20"}`,children:a.jsxs("div",{className:"flex items-center",children:[k.success?a.jsx(wc,{className:"h-5 w-5 text-green-400 mr-2"}):a.jsx(Ss,{className:"h-5 w-5 text-red-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${k.success?"text-green-400":"text-red-400"}`,children:k.success?"Import Successful":"Import Failed"}),a.jsx("p",{className:`text-sm mt-1 ${k.success?"text-green-300":"text-red-300"}`,children:k.message}),k.details&&a.jsxs("div",{className:"mt-2 text-xs text-gray-300",children:[a.jsxs("p",{children:["Categories: ",k.details.categoriesAdded," added, ",k.details.categoriesUpdated," updated"]}),a.jsxs("p",{children:["Codecs: ",k.details.codecsAdded," added, ",k.details.codecsUpdated," updated"]}),a.jsxs("p",{children:["Variants: ",k.details.variantsAdded," added, ",k.details.variantsUpdated," updated"]})]})]})]})}),y&&N&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-dark-secondary rounded-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-700",children:a.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[a.jsx(rT,{className:"h-5 w-5 mr-2 text-blue-400"}),"Import Preview"]})}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-96",children:a.jsxs("div",{className:"space-y-4",children:[N.metadata&&a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("h4",{className:"text-white font-medium mb-2",children:"Import Metadata"}),a.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[a.jsxs("p",{children:["Export Date: ",N.metadata.exportDate||"Unknown"]}),a.jsxs("p",{children:["Version: ",N.metadata.version||"Unknown"]}),a.jsxs("p",{children:["Categories: ",N.metadata.totalCategories||"Unknown"]}),a.jsxs("p",{children:["Codecs: ",N.metadata.totalCodecs||"Unknown"]}),a.jsxs("p",{children:["Variants: ",N.metadata.totalVariants||"Unknown"]})]})]}),a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("h4",{className:"text-white font-medium mb-2",children:"Categories to Import"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:(N.categories||N).map((Q,ue)=>{var re,pe;return a.jsxs("div",{className:"text-sm text-gray-300 border-l-2 border-blue-500 pl-3",children:[a.jsx("p",{className:"font-medium",children:Q.name}),a.jsxs("p",{className:"text-xs text-gray-400",children:[((re=Q.codecs)==null?void 0:re.length)||0," codecs, ",((pe=Q.codecs)==null?void 0:pe.reduce((B,G)=>{var K;return B+(((K=G.variants)==null?void 0:K.length)||0)},0))||0," variants"]})]},ue)})})]}),a.jsx("div",{className:"bg-yellow-600/10 border border-yellow-600/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ss,{className:"h-5 w-5 text-yellow-400 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-yellow-400 font-medium",children:"Warning"}),a.jsx("p",{className:"text-yellow-300 text-sm mt-1",children:"This will replace your current codec database. Make sure you have exported a backup if needed."})]})]})})]})}),a.jsxs("div",{className:"p-6 border-t border-gray-700 flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{b(!1),O(null)},className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg text-white transition-colors",children:"Cancel"}),a.jsx("button",{onClick:A,className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-white transition-colors",children:"Confirm Import"})]})]})})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-4 sm:p-6",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white mb-4",children:"Current Database Statistics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-dark-primary rounded-lg p-3 sm:p-4",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-400",children:e.length}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Categories"})]}),a.jsxs("div",{className:"bg-dark-primary rounded-lg p-3 sm:p-4",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-400",children:e.reduce((Q,ue)=>Q+ue.codecs.length,0)}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Codecs"})]}),a.jsxs("div",{className:"bg-dark-primary rounded-lg p-3 sm:p-4",children:[a.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-400",children:e.reduce((Q,ue)=>Q+ue.codecs.reduce((re,pe)=>re+pe.variants.length,0),0)}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Variants"})]})]})]})]}),u==="analytics"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-4 sm:p-6",children:[a.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-white mb-4 sm:mb-6 flex items-center",children:[a.jsx(pw,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Analytics Configuration"]}),a.jsx("p",{className:"text-gray-400",children:"Google Analytics is enabled and tracking page views and calculator usage."})]})})]})]}):a.jsx(wA,{onAuthSuccess:M})},kA=()=>{const[t,e]=di.useState(!1);return a.jsxs("div",{className:"min-h-screen bg-dark-primary relative",children:[a.jsx("header",{className:"border-b border-gray-800 bg-dark-secondary/50 backdrop-blur-sm relative z-30",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs(Ee,{to:"/",className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[a.jsx(au,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Back to Calculator"})]})}),a.jsx("div",{className:"sm:hidden",children:a.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",children:t?a.jsx(Yr,{className:"h-5 w-5 text-gray-400"}):a.jsx(jo,{className:"h-5 w-5 text-gray-400"})})}),a.jsxs("div",{className:"hidden sm:flex items-center space-x-4",children:[a.jsxs(Ee,{to:"/codec-data",className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",children:[a.jsx(mn,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Database"})]}),a.jsxs(Ee,{to:"/admin",className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",children:[a.jsx(wd,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Admin"})]})]})]}),t&&a.jsx("div",{className:"sm:hidden absolute top-full left-0 right-0 bg-dark-secondary border-b border-gray-800 shadow-lg z-40",children:a.jsxs("div",{className:"px-4 py-3 space-y-2",children:[a.jsxs(Ee,{to:"/codec-data",className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg hover:bg-dark-primary transition-colors",onClick:()=>e(!1),children:[a.jsx(mn,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-gray-300",children:"Codec Database"})]}),a.jsxs(Ee,{to:"/admin",className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg hover:bg-dark-primary transition-colors",onClick:()=>e(!1),children:[a.jsx(wd,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-gray-300",children:"Admin Panel"})]})]})})]})}),a.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-indigo-900/20 border-b border-gray-800",children:[a.jsx("div",{className:"absolute inset-0 opacity-30",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255,255,255,0.05) 1px, transparent 0)",backgroundSize:"20px 20px"}})}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-16",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-bold text-white mb-4 sm:mb-6 tracking-tight",children:["About This",a.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-400 to-indigo-400",children:"Calculator"})]}),a.jsx("p",{className:"text-base sm:text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"A professional tool for the media industry, built with love and shared freely"})]})})]}),a.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:a.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 border border-blue-500/30 rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[a.jsx(aT,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-400 mr-3 sm:mr-4"}),a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Our Mission"})]}),a.jsxs("p",{className:"text-base sm:text-lg text-gray-300 leading-relaxed mb-4 sm:mb-6",children:["This Video File Size Calculator is proudly supported by"," ",a.jsx("a",{href:"https://mediasupplychain.org",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline font-semibold",children:"mediasupplychain.org"})," ","for the benefit of all professionals in the media industry."]}),a.jsxs("div",{className:"bg-green-600/10 border border-green-600/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(_c,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-green-400 font-semibold text-sm sm:text-base",children:"Forever Free Promise"})]}),a.jsx("p",{className:"text-green-300 mt-2 text-sm sm:text-base",children:"This tool will remain completely free forever. No subscriptions, no hidden costs, no limitations."})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-600/20 to-blue-600/20 border border-green-500/30 rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[a.jsx(fy,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-400 mr-3 sm:mr-4"}),a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Open Source & Community"})]}),a.jsx("p",{className:"text-base sm:text-lg text-gray-300 leading-relaxed mb-4 sm:mb-6",children:"This tool is open source under the GPL 3 license and available for contributions on GitHub. We believe in transparency and community-driven development."}),a.jsx("div",{className:"bg-yellow-600/10 border border-yellow-600/20 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ss,{className:"h-5 w-5 text-yellow-400 mr-2 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-yellow-400 font-medium mb-2",children:"Help Us Improve the Data"}),a.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"We have over 1,000 unique configurations of video bitrates, but that is far from a complete list. Catch an issue or want to suggest an addition? Feel free to open an issue on GitHub, or better yet, make your own updates and open a Pull Request. Let's all work together to make this data accessible to everyone!"})]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("a",{href:"https://github.com/timelapsetech/videocalc-db",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center space-x-2 px-4 sm:px-6 py-3 bg-gray-800 hover:bg-gray-700 rounded-lg text-white font-medium transition-colors text-sm sm:text-base",children:[a.jsx(fy,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{children:"View on GitHub"})]}),a.jsxs("a",{href:"https://github.com/timelapsetech/videocalculator/issues",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center space-x-2 px-4 sm:px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg text-white font-medium transition-colors text-sm sm:text-base",children:[a.jsx(Ss,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{children:"Report an Issue"})]}),a.jsxs("a",{href:"https://github.com/timelapsetech/videocalculator/pulls",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center space-x-2 px-4 sm:px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium transition-colors text-sm sm:text-base",children:[a.jsx(iT,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{children:"Contribute"})]})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-center",children:[a.jsx(wd,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-400 mr-2 sm:mr-3"}),"What Makes This Special"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white text-sm sm:text-base",children:"Professional Codecs"}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Comprehensive database of industry-standard codecs including ProRes, DNxHD, RAW formats, and broadcast standards."})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white text-sm sm:text-base",children:"Frame Rate Accuracy"}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Precise calculations supporting all professional frame rates from 23.98 to 240 fps."})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white text-sm sm:text-base",children:"Workflow Presets"}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Quick-start configurations for common workflows like YouTube delivery, Netflix specs, and broadcast standards."})]})]})]}),a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white text-sm sm:text-base",children:"Shareable Links"}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Generate shareable URLs for specific calculations to collaborate with team members."})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-indigo-400 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white text-sm sm:text-base",children:"Admin Panel"}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Comprehensive management system for codec database and default presets."})]})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white text-sm sm:text-base",children:"Usage Analytics"}),a.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Track popular configurations and usage patterns to improve the tool."})]})]})]})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-center",children:[a.jsx(mn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-400 mr-2 sm:mr-3"}),"Technical Foundation"]}),a.jsxs("div",{className:"prose prose-invert max-w-none",children:[a.jsx("p",{className:"text-gray-300 leading-relaxed mb-4 text-sm sm:text-base",children:"Built with modern web technologies and designed for accuracy, this calculator uses industry-standard bitrate specifications for each codec variant. The database includes detailed configurations for:"}),a.jsxs("ul",{className:"text-gray-300 space-y-2 mb-6 text-sm sm:text-base",children:[a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),a.jsx("span",{children:"Professional acquisition codecs (ProRes, DNxHD, XDCAM)"})]}),a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),a.jsx("span",{children:"RAW and cinema formats (BRAW, R3D, Cinema DNG)"})]}),a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),a.jsx("span",{children:"Broadcast and delivery formats (H.264, H.265, JPEG2000)"})]}),a.jsxs("li",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),a.jsx("span",{children:"Camera-native formats from major manufacturers"})]})]}),a.jsx("p",{className:"text-gray-300 leading-relaxed text-sm sm:text-base",children:"All calculations are performed client-side for privacy and speed, with no data sent to external servers."})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-600/20 to-blue-600/20 border border-green-500/30 rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[a.jsx(Rh,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-400 mr-3 sm:mr-4"}),a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"We Value Your Feedback"})]}),a.jsx("p",{className:"text-base sm:text-lg text-gray-300 leading-relaxed mb-4 sm:mb-6",children:"Your input helps us improve this tool for the entire media community. Whether you have suggestions for new codecs, found an issue, or want to request a feature, we'd love to hear from you."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("a",{href:"mailto:feedback@mediasupplychain.org?subject=Video Calculator Feedback",className:"inline-flex items-center justify-center space-x-2 px-4 sm:px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg text-white font-medium transition-colors text-sm sm:text-base",children:[a.jsx(Rh,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{children:"Send Feedback"})]}),a.jsxs("a",{href:"https://mediasupplychain.org",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center space-x-2 px-4 sm:px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg text-white font-medium transition-colors text-sm sm:text-base",children:[a.jsx(Ph,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{children:"Visit mediasupplychain.org"})]})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6 flex items-center",children:[a.jsx(_c,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-400 mr-2 sm:mr-3"}),"Built for the Community"]}),a.jsx("p",{className:"text-gray-300 leading-relaxed mb-4 text-sm sm:text-base",children:"This calculator was created by media professionals, for media professionals. It's part of our commitment to building tools that make the industry more efficient and accessible to everyone."}),a.jsx("p",{className:"text-gray-300 leading-relaxed text-sm sm:text-base",children:"Whether you're a freelance editor, a post-production facility, a broadcaster, or a student learning the craft, this tool is here to help you make informed decisions about storage requirements and workflow planning."})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-600/20 to-indigo-600/20 border border-purple-500/30 rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[a.jsx(Zn,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-400 mr-3 sm:mr-4"}),a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Privacy & Data Protection"})]}),a.jsx("p",{className:"text-base sm:text-lg text-gray-300 leading-relaxed mb-4 sm:mb-6",children:"We respect your privacy and are committed to protecting your data. We collect anonymous usage statistics to improve the tool, but never collect personal information."}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:a.jsxs(Ee,{to:"/privacy",className:"inline-flex items-center justify-center space-x-2 px-4 sm:px-6 py-3 bg-purple-600 hover:bg-purple-700 rounded-lg text-white font-medium transition-colors text-sm sm:text-base",children:[a.jsx(Zn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{children:"Read Privacy Policy"})]})})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30 rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[a.jsx(bc,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-400 mr-3 sm:mr-4"}),a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Born from Innovation"})]}),a.jsx("p",{className:"text-base sm:text-lg text-gray-300 leading-relaxed mb-4 sm:mb-6",children:"This application was created as part of the Bolt hackathon in July 2025, showcasing the power of modern AI-assisted development tools and collaborative innovation."}),a.jsxs("div",{className:"bg-purple-600/10 border border-purple-600/20 rounded-lg p-4 mb-6",children:[a.jsxs("h3",{className:"text-purple-400 font-medium mb-3 flex items-center",children:[a.jsx(vd,{className:"h-4 w-4 mr-2"}),"AI Tools That Made This Possible"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bc,{className:"h-4 w-4 text-blue-400"}),a.jsx("span",{className:"text-gray-300 text-sm",children:"Bolt"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tT,{className:"h-4 w-4 text-green-400"}),a.jsx("span",{className:"text-gray-300 text-sm",children:"Netlify"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(vd,{className:"h-4 w-4 text-purple-400"}),a.jsx("span",{className:"text-gray-300 text-sm",children:"Claude"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(vd,{className:"h-4 w-4 text-orange-400"}),a.jsx("span",{className:"text-gray-300 text-sm",children:"ChatGPT"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ph,{className:"h-4 w-4 text-indigo-400"}),a.jsx("span",{className:"text-gray-300 text-sm",children:"Perplexity"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nT,{className:"h-4 w-4 text-yellow-400"}),a.jsx("span",{className:"text-gray-300 text-sm",children:"Cursor"})]})]})]}),a.jsx("p",{className:"text-sm text-gray-400",children:"This project demonstrates how AI tools can accelerate development while maintaining professional quality and user-focused design. The combination of these technologies enabled rapid prototyping, intelligent code generation, and seamless deployment."})]})]})})]})},CA=()=>{const{categories:t}=Qi(),[e,n]=R.useState(""),[r,s]=R.useState(""),[i,o]=R.useState(""),[c,u]=R.useState(!1),[d,f]=R.useState(!1),p=R.useMemo(()=>{const v=[];return t.forEach(y=>{y.codecs.forEach(b=>{b.variants.forEach(N=>{Object.entries(N.bitrates).forEach(([O,M])=>{typeof M=="number"?v.push({category:y.name,categoryDescription:y.description||"",codecName:b.name,codecDescription:b.description||"",variantName:N.name,variantDescription:N.description||"",resolution:O,frameRate:"Standard",bitrate:M}):Object.entries(M).forEach(([I,w])=>{const E=qt.find(S=>S.id===I);v.push({category:y.name,categoryDescription:y.description||"",codecName:b.name,codecDescription:b.description||"",variantName:N.name,variantDescription:N.description||"",resolution:O,frameRate:(E==null?void 0:E.name)||I,bitrate:w})})})})})}),v.sort((y,b)=>y.category!==b.category?y.category.localeCompare(b.category):y.codecName!==b.codecName?y.codecName.localeCompare(b.codecName):y.variantName!==b.variantName?y.variantName.localeCompare(b.variantName):y.resolution.localeCompare(b.resolution))},[t]),g=R.useMemo(()=>p.filter(v=>{const y=e===""||v.category.toLowerCase().includes(e.toLowerCase())||v.codecName.toLowerCase().includes(e.toLowerCase())||v.variantName.toLowerCase().includes(e.toLowerCase())||v.resolution.toLowerCase().includes(e.toLowerCase())||v.frameRate.toLowerCase().includes(e.toLowerCase())||v.categoryDescription.toLowerCase().includes(e.toLowerCase())||v.codecDescription.toLowerCase().includes(e.toLowerCase())||v.variantDescription.toLowerCase().includes(e.toLowerCase()),b=r===""||v.category===r,N=i===""||v.resolution===i;return y&&b&&N}),[p,e,r,i]),_=()=>{const v=[["Category","Codec","Variant","Resolution","Frame Rate","Bitrate (Mbps)"],...g.map(O=>[O.category,O.codecName,O.variantName,O.resolution,O.frameRate,O.bitrate.toString()])].map(O=>O.map(M=>`"${M}"`).join(",")).join(`
`),y=new Blob([v],{type:"text/csv"}),b=URL.createObjectURL(y),N=document.createElement("a");N.href=b,N.download=`codec-data-${new Date().toISOString().split("T")[0]}.csv`,N.click(),URL.revokeObjectURL(b),st.trackDataExport("codec-database-csv")},T=v=>{const y=Bn.find(b=>b.id===v);return y?y.name:v},j=[...new Set(p.map(v=>v.category))].sort(),k=[...new Set(p.map(v=>v.resolution))].sort();return a.jsxs("div",{className:"min-h-screen bg-dark-primary relative",children:[a.jsx("header",{className:"border-b border-gray-800 bg-dark-secondary/50 backdrop-blur-sm relative z-30",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(Ee,{to:"/",className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[a.jsx(au,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Back to Calculator"})]}),a.jsxs("div",{className:"hidden sm:flex items-center space-x-3",children:[a.jsx(mn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-400"}),a.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-white",children:"Codec Database"})]})]}),a.jsx("div",{className:"sm:hidden",children:a.jsx("button",{onClick:()=>f(!d),className:"p-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",children:d?a.jsx(Yr,{className:"h-5 w-5 text-gray-400"}):a.jsx(jo,{className:"h-5 w-5 text-gray-400"})})}),a.jsxs("div",{className:"hidden sm:flex items-center space-x-4",children:[a.jsxs(Ee,{to:"/about",className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",children:[a.jsx(Yn,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:"About"})]}),a.jsxs(Ee,{to:"/admin",className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",children:[a.jsx(ks,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-300",children:"Admin"})]})]})]}),d&&a.jsx("div",{className:"sm:hidden absolute top-full left-0 right-0 bg-dark-secondary border-b border-gray-800 shadow-lg z-40",children:a.jsxs("div",{className:"px-4 py-3 space-y-2",children:[a.jsxs(Ee,{to:"/about",className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg hover:bg-dark-primary transition-colors",onClick:()=>f(!1),children:[a.jsx(Yn,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-gray-300",children:"About"})]}),a.jsxs(Ee,{to:"/admin",className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg hover:bg-dark-primary transition-colors",onClick:()=>f(!1),children:[a.jsx(ks,{className:"h-5 w-5 text-gray-400"}),a.jsx("span",{className:"text-gray-300",children:"Admin Panel"})]})]})})]})}),a.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-indigo-900/20 border-b border-gray-800",children:[a.jsx("div",{className:"absolute inset-0 opacity-30",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255,255,255,0.05) 1px, transparent 0)",backgroundSize:"20px 20px"}})}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 sm:mb-4 tracking-tight",children:["Complete Codec",a.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-400 to-indigo-400",children:"Database"})]}),a.jsxs("p",{className:"text-base sm:text-lg text-gray-300 max-w-2xl mx-auto leading-relaxed",children:["Browse and search through all ",p.length," codec configurations in our comprehensive database"]})]})})]}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[a.jsx("div",{className:"bg-dark-secondary rounded-xl p-4 sm:p-6 mb-6 sm:mb-8 shadow-lg",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ww,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search codecs, variants, resolutions...",value:e,onChange:v=>n(v.target.value),className:"w-full pl-10 pr-4 py-2 sm:py-3 bg-dark-primary border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 text-sm sm:text-base"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("select",{value:r,onChange:v=>s(v.target.value),className:"px-3 py-2 bg-dark-primary border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 text-sm",children:[a.jsx("option",{value:"",children:"All Categories"}),j.map(v=>a.jsx("option",{value:v,children:v},v))]}),a.jsxs("select",{value:i,onChange:v=>o(v.target.value),className:"px-3 py-2 bg-dark-primary border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 text-sm",children:[a.jsx("option",{value:"",children:"All Resolutions"}),k.map(v=>a.jsx("option",{value:v,children:T(v)},v))]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>u(!c),className:"flex items-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg text-white transition-colors text-sm",title:c?"Hide descriptions":"Show descriptions",children:[c?a.jsx(vw,{className:"h-4 w-4"}):a.jsx(ou,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:c?"Hide":"Show"})]}),a.jsxs("button",{onClick:_,className:"flex items-center space-x-2 px-3 sm:px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white transition-colors text-sm",children:[a.jsx(cm,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),a.jsx("span",{className:"sm:hidden",children:"Export"})]})]})]}),a.jsxs("div",{className:"text-xs sm:text-sm text-gray-400",children:["Showing ",g.length," of ",p.length," configurations"]})]})}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-dark-primary",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Codec"}),a.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Variant"}),a.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Resolution"}),a.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Frame Rate"}),a.jsx("th",{className:"px-3 sm:px-6 py-3 sm:py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Bitrate (Mbps)"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-700",children:g.map((v,y)=>a.jsxs("tr",{className:"hover:bg-dark-primary/50 transition-colors",children:[a.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-xs sm:text-sm font-medium text-white",children:v.category}),c&&v.categoryDescription&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:v.categoryDescription})]})}),a.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-xs sm:text-sm font-medium text-white",children:v.codecName}),c&&v.codecDescription&&a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:v.codecDescription})]})}),a.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-xs sm:text-sm font-medium text-white",children:v.variantName}),c&&v.variantDescription&&a.jsx("div",{className:"text-xs text-gray-400 mt-1 max-w-xs",children:v.variantDescription})]})}),a.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-xs sm:text-sm text-white",children:T(v.resolution)})}),a.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-xs sm:text-sm text-white",children:v.frameRate})}),a.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-xs sm:text-sm font-mono text-green-400",children:v.bitrate})})]},y))})]})}),g.length===0&&a.jsxs("div",{className:"text-center py-8 sm:py-12",children:[a.jsx(mn,{className:"h-12 w-12 sm:h-16 sm:w-16 text-gray-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-400 mb-2",children:"No Results Found"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your search terms or filters"})]})]}),a.jsxs("div",{className:"mt-6 sm:mt-8 grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"bg-dark-secondary rounded-lg p-3 sm:p-4",children:[a.jsx("div",{className:"text-lg sm:text-2xl font-bold text-blue-400",children:t.length}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Categories"})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-lg p-3 sm:p-4",children:[a.jsx("div",{className:"text-lg sm:text-2xl font-bold text-green-400",children:t.reduce((v,y)=>v+y.codecs.length,0)}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Codecs"})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-lg p-3 sm:p-4",children:[a.jsx("div",{className:"text-lg sm:text-2xl font-bold text-purple-400",children:t.reduce((v,y)=>v+y.codecs.reduce((b,N)=>b+N.variants.length,0),0)}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Variants"})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-lg p-3 sm:p-4",children:[a.jsx("div",{className:"text-lg sm:text-2xl font-bold text-yellow-400",children:p.length}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Configurations"})]})]})]})]})},jA=()=>{const[t,e]=di.useState(!1);return a.jsxs("div",{className:"min-h-screen bg-dark-primary relative",children:[a.jsx("header",{className:"border-b border-gray-800 bg-dark-secondary/50 backdrop-blur-sm relative z-30",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs(Ee,{to:"/about",className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[a.jsx(au,{className:"h-4 w-4 sm:h-5 sm:w-5"}),a.jsx("span",{className:"text-sm sm:text-base",children:"Back to About"})]})}),a.jsx("div",{className:"sm:hidden",children:a.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",children:t?a.jsx(Yr,{className:"h-5 w-5 text-gray-400"}):a.jsx(jo,{className:"h-5 w-5 text-gray-400"})})}),a.jsxs("div",{className:"hidden sm:flex items-center space-x-4",children:[a.jsx(Ee,{to:"/",className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",children:a.jsx("span",{className:"text-sm text-gray-300",children:"Calculator"})}),a.jsx(Ee,{to:"/admin",className:"flex items-center space-x-2 px-3 py-2 rounded-lg bg-dark-secondary hover:bg-gray-700 transition-colors",children:a.jsx("span",{className:"text-sm text-gray-300",children:"Admin"})})]})]}),t&&a.jsx("div",{className:"sm:hidden absolute top-full left-0 right-0 bg-dark-secondary border-b border-gray-800 shadow-lg z-40",children:a.jsxs("div",{className:"px-4 py-3 space-y-2",children:[a.jsx(Ee,{to:"/",className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg hover:bg-dark-primary transition-colors",onClick:()=>e(!1),children:a.jsx("span",{className:"text-gray-300",children:"Calculator"})}),a.jsx(Ee,{to:"/admin",className:"w-full flex items-center space-x-3 px-3 py-3 rounded-lg hover:bg-dark-primary transition-colors",onClick:()=>e(!1),children:a.jsx("span",{className:"text-gray-300",children:"Admin Panel"})})]})})]})}),a.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-indigo-900/20 border-b border-gray-800",children:[a.jsx("div",{className:"absolute inset-0 opacity-30",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255,255,255,0.05) 1px, transparent 0)",backgroundSize:"20px 20px"}})}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-16",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-bold text-white mb-4 sm:mb-6 tracking-tight",children:["Privacy",a.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-400 to-indigo-400",children:"Policy"})]}),a.jsx("p",{className:"text-base sm:text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Your privacy matters to us. Learn how we protect your data and respect your privacy rights under GDPR."})]})})]}),a.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-blue-600/10 border border-blue-600/20 rounded-xl p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Z2,{className:"h-5 w-5 text-blue-400 mr-2"}),a.jsx("span",{className:"text-blue-400 font-medium",children:"Last Updated"})]}),a.jsx("p",{className:"text-gray-300",children:"December 2024"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-600/20 to-blue-600/20 border border-green-500/30 rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[a.jsx(Zn,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-400 mr-3 sm:mr-4"}),a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"GDPR Compliance"})]}),a.jsxs("div",{className:"prose prose-invert max-w-none",children:[a.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"This website is fully compliant with the General Data Protection Regulation (GDPR) and other applicable data protection laws. We respect your privacy rights and provide you with full control over your data."}),a.jsxs("div",{className:"bg-green-600/10 border border-green-600/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(_c,{className:"h-5 w-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-green-400 font-semibold",children:"Your Rights Under GDPR"})]}),a.jsxs("ul",{className:"text-green-300 mt-2 text-sm space-y-1",children:[a.jsx("li",{children:"• Right to be informed about data collection"}),a.jsx("li",{children:"• Right of access to your personal data"}),a.jsx("li",{children:"• Right to rectification of inaccurate data"}),a.jsx("li",{children:'• Right to erasure ("right to be forgotten")'}),a.jsx("li",{children:"• Right to restrict processing"}),a.jsx("li",{children:"• Right to data portability"}),a.jsx("li",{children:"• Right to object to processing"}),a.jsx("li",{children:"• Rights related to automated decision making"})]})]})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx(Zn,{className:"h-6 w-6 text-green-400 mr-3"}),a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Our Commitment to Privacy"})]}),a.jsxs("div",{className:"prose prose-invert max-w-none",children:[a.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:'Time Lapse Technologies LLC ("we," "our," or "us") operates the Video File Size Calculator. This privacy policy explains how we collect, use, and protect information when you use our service.'}),a.jsxs("div",{className:"bg-green-600/10 border border-green-600/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(_c,{className:"h-5 w-5 text-green-400 mr-2"}),a.jsx("span",{className:"text-green-400 font-semibold",children:"No Personal Information Required"})]}),a.jsx("p",{className:"text-green-300 mt-2",children:"You can use our calculator completely anonymously. We do not require registration, login, or any personal information to access our services."})]})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[a.jsx(gw,{className:"h-6 w-6 text-orange-400 mr-3"}),"Cookie Management & Consent"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"How We Handle Cookies"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"We use a comprehensive cookie consent system that gives you full control over what data is collected:"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-green-600/10 border border-green-600/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-green-400 font-medium mb-2",children:"Necessary Cookies"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Essential for the calculator to function. These cannot be disabled as they are required for basic functionality."})]}),a.jsxs("div",{className:"bg-blue-600/10 border border-blue-600/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-blue-400 font-medium mb-2",children:"Analytics Cookies"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Help us understand usage patterns. You can opt-out of these while still using the calculator."})]}),a.jsxs("div",{className:"bg-purple-600/10 border border-purple-600/20 rounded-lg p-4",children:[a.jsx("h4",{className:"text-purple-400 font-medium mb-2",children:"Preference Cookies"}),a.jsx("p",{className:"text-sm text-gray-300",children:"Remember your settings and custom presets. Optional but enhance your experience."})]})]})]}),a.jsxs("div",{className:"bg-orange-600/10 border border-orange-600/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ks,{className:"h-5 w-5 text-orange-400 mr-2"}),a.jsx("span",{className:"text-orange-400 font-medium",children:"Manage Your Cookie Preferences"})]}),a.jsx("p",{className:"text-gray-300 text-sm mb-3",children:"You can change your cookie preferences at any time. Your choices are remembered and respected."}),a.jsx("button",{onClick:()=>{localStorage.removeItem("cookie-consent"),localStorage.removeItem("cookie-consent-date"),window.location.reload()},className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg text-white text-sm transition-colors",children:"Update Cookie Preferences"})]})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[a.jsx(mn,{className:"h-6 w-6 text-blue-400 mr-3"}),"Information We Collect"]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Anonymous Usage Analytics"}),a.jsxs("p",{className:"text-gray-300 mb-3",children:[a.jsx("strong",{children:"Only collected with your explicit consent."})," We collect anonymous information about how our calculator is used to improve the service:"]}),a.jsxs("ul",{className:"text-gray-300 space-y-2 ml-6",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:'Which codec configurations are calculated (e.g., "H.264 High Profile at 1080p")'})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"Frequency of different calculations to show popular configurations"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"General usage patterns to improve the user interface"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"Page views and navigation patterns"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Google Analytics (GDPR Compliant)"}),a.jsxs("p",{className:"text-gray-300 mb-3",children:[a.jsx("strong",{children:"Only active with your consent."})," When enabled, Google Analytics may collect:"]}),a.jsxs("ul",{className:"text-gray-300 space-y-2 ml-6",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"Browser type and version (anonymized)"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"Operating system (anonymized)"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"Screen resolution"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"General geographic location (country/region level only)"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"Pages visited and time spent on site"})]})]}),a.jsxs("div",{className:"bg-purple-600/10 border border-purple-600/20 rounded-lg p-4 mt-4",children:[a.jsx("h4",{className:"text-purple-400 font-medium mb-2",children:"GDPR Compliance Measures"}),a.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[a.jsx("li",{children:"• IP addresses are anonymized"}),a.jsx("li",{children:"• Ad personalization is disabled"}),a.jsx("li",{children:"• Google Signals is disabled"}),a.jsx("li",{children:"• Data retention is limited to 26 months"}),a.jsx("li",{children:"• No cross-device tracking"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Local Storage"}),a.jsxs("p",{className:"text-gray-300",children:[a.jsx("strong",{children:"Only with your consent for preferences."})," We store your custom presets and preferences locally in your browser. This data never leaves your device and is only used to enhance your experience by remembering your preferred settings."]})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-red-600/20 to-orange-600/20 border border-red-500/30 rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[a.jsx(ou,{className:"h-6 w-6 text-red-400 mr-3"}),"What We Don't Collect"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),a.jsx("span",{className:"text-white",children:"Names or email addresses"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),a.jsx("span",{className:"text-white",children:"IP addresses (anonymized in analytics)"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),a.jsx("span",{className:"text-white",children:"Personal identifiers"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),a.jsx("span",{className:"text-white",children:"Account information"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),a.jsx("span",{className:"text-white",children:"Financial information"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),a.jsx("span",{className:"text-white",children:"Specific file details"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),a.jsx("span",{className:"text-white",children:"Project information"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),a.jsx("span",{className:"text-white",children:"Tracking cookies without consent"})]})]})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Legal Basis for Processing (GDPR Article 6)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Necessary Cookies"}),a.jsxs("p",{className:"text-gray-400 text-sm",children:[a.jsx("strong",{children:"Legal Basis:"})," Legitimate Interest (Article 6(1)(f)) - Essential for providing the calculator service you requested."]})]}),a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Analytics & Preferences"}),a.jsxs("p",{className:"text-gray-400 text-sm",children:[a.jsx("strong",{children:"Legal Basis:"})," Consent (Article 6(1)(a)) - Only processed with your explicit, freely given consent."]})]})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Data Retention"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Cookie Consent"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Your consent preferences are stored for 12 months, after which you'll be asked to renew your consent."})]}),a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Analytics Data"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Google Analytics data is automatically deleted after 26 months. You can request earlier deletion."})]}),a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Local Preferences"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Stored locally in your browser until you clear your browser data or withdraw consent."})]})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[a.jsx(Ph,{className:"h-6 w-6 text-green-400 mr-3"}),"Your Rights and Choices"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Withdraw Consent"}),a.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"You can withdraw your consent at any time by updating your cookie preferences or clearing your browser data."}),a.jsx("button",{onClick:()=>{localStorage.removeItem("cookie-consent"),localStorage.removeItem("cookie-consent-date"),window.location.reload()},className:"px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-white text-sm transition-colors",children:"Withdraw All Consent"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Access Your Data"}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Since we don't collect personal data, there's no personal data to access. Your preferences are stored locally in your browser."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Data Portability"}),a.jsx("p",{className:"text-gray-300 text-sm",children:"You can export your custom presets from the admin panel if you've created any."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Google Analytics Opt-Out"}),a.jsxs("p",{className:"text-gray-300 text-sm",children:["Install the"," ",a.jsx("a",{href:"https://tools.google.com/dlpage/gaoptout",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"Google Analytics Opt-out Browser Add-on"})," ","for additional protection across all websites."]})]})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Data Security"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"We implement appropriate security measures to protect the limited data we collect:"}),a.jsxs("ul",{className:"text-gray-300 space-y-2",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"All data transmission is encrypted using HTTPS"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"Analytics data is anonymized and aggregated"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"No sensitive personal information is collected or stored"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"Regular security updates and monitoring"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"GDPR-compliant data processing agreements with third parties"})]})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"International Data Transfers"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-300",children:"Google Analytics may transfer data outside the European Economic Area (EEA). Google has implemented appropriate safeguards including:"}),a.jsxs("ul",{className:"text-gray-300 space-y-2 ml-6",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"Standard Contractual Clauses (SCCs) approved by the European Commission"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"Additional technical and organizational measures for data protection"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"IP anonymization to reduce data sensitivity"})]})]})]})]}),a.jsxs("div",{className:"bg-dark-secondary rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Changes to This Policy"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"We may update this privacy policy from time to time. When we do, we will:"}),a.jsxs("ul",{className:"text-gray-300 space-y-2 mb-4",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:'Update the "Last Updated" date at the top of this policy'})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"Post the updated policy on this page"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"For material changes, request new consent where required by law"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 mr-3 flex-shrink-0"}),a.jsx("span",{children:"Continue to protect your privacy according to these principles"})]})]}),a.jsxs("div",{className:"bg-yellow-600/10 border border-yellow-600/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ss,{className:"h-5 w-5 text-yellow-400 mr-2"}),a.jsx("span",{className:"text-yellow-400 font-medium",children:"Important Notice"})]}),a.jsx("p",{className:"text-yellow-300 text-sm mt-2",children:"If we make material changes that affect how we process your data, we will ask for your renewed consent before applying the changes."})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 border border-blue-500/30 rounded-xl p-6 sm:p-8 shadow-lg",children:[a.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[a.jsx(Rh,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-400 mr-3 sm:mr-4"}),a.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Contact Us"})]}),a.jsx("p",{className:"text-base sm:text-lg text-gray-300 leading-relaxed mb-4 sm:mb-6",children:"If you have any questions about this privacy policy, want to exercise your rights, or have concerns about our data practices:"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Data Protection Officer"}),a.jsxs("p",{className:"text-gray-300 text-sm",children:["Email: ",a.jsx("a",{href:"mailto:privacy@mediasupplychain.org",className:"text-blue-400 hover:text-blue-300 underline",children:"privacy@mediasupplychain.org"})]}),a.jsx("p",{className:"text-gray-300 text-sm",children:'Subject Line: "GDPR Request - Video Calculator"'})]}),a.jsxs("div",{className:"bg-dark-primary rounded-lg p-4",children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Time Lapse Technologies LLC"}),a.jsxs("p",{className:"text-gray-300 text-sm",children:["Website: ",a.jsx("a",{href:"https://mediasupplychain.org",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"mediasupplychain.org"})]}),a.jsxs("p",{className:"text-gray-300 text-sm mt-2",children:[a.jsx("strong",{children:"Response Time:"})," We will respond to your request within 30 days as required by GDPR."]})]})]})]})]})})]})},AA=({onAccept:t})=>{const[e,n]=R.useState(!1),[r,s]=R.useState(!1),[i,o]=R.useState({necessary:!0,analytics:!1,preferences:!0});R.useEffect(()=>{const p=localStorage.getItem("cookie-consent");if(!p)setTimeout(()=>n(!0),1e3);else try{const g=JSON.parse(p);t(g)}catch{n(!0)}},[t]);const c=()=>{f({necessary:!0,analytics:!0,preferences:!0})},u=()=>{f(i)},d=()=>{f({necessary:!0,analytics:!1,preferences:!1})},f=p=>{localStorage.setItem("cookie-consent",JSON.stringify(p)),localStorage.setItem("cookie-consent-date",new Date().toISOString()),t(p),n(!1)};return e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40"}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 p-4 sm:p-6",children:a.jsx("div",{className:"max-w-4xl mx-auto bg-dark-secondary border border-gray-700 rounded-xl shadow-2xl",children:a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:a.jsx(gw,{className:"h-5 w-5 text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Cookie & Privacy Settings"}),a.jsx("p",{className:"text-sm text-gray-400",children:"We respect your privacy and data protection rights"})]})]}),a.jsx("button",{onClick:()=>n(!1),className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Close (you can change settings later in our privacy policy)",children:a.jsx(Yr,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-gray-300 leading-relaxed",children:[a.jsx("p",{className:"mb-3",children:"We use cookies and similar technologies to enhance your experience, remember your preferences, and analyze how our calculator is used to improve our service."}),a.jsxs("div",{className:"bg-blue-600/10 border border-blue-600/20 rounded-lg p-3 mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Zn,{className:"h-4 w-4 text-blue-400"}),a.jsx("span",{className:"text-blue-400 font-medium text-sm",children:"Your Data Rights"})]}),a.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[a.jsx("li",{children:"• All calculations are performed locally in your browser"}),a.jsx("li",{children:"• We never store your project details or file information"}),a.jsx("li",{children:"• You can withdraw consent at any time"}),a.jsx("li",{children:"• Analytics data is anonymized and aggregated"})]})]})]}),r&&a.jsxs("div",{className:"space-y-3 border-t border-gray-700 pt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Cookie Categories"}),a.jsxs("div",{className:"flex items-start justify-between p-3 bg-dark-primary rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-white",children:"Necessary"}),a.jsx("span",{className:"px-2 py-0.5 bg-green-600/20 text-green-400 text-xs rounded",children:"Required"})]}),a.jsx("p",{className:"text-xs text-gray-400",children:"Essential for the calculator to function. Stores your preset configurations and settings locally."})]}),a.jsx("div",{className:"ml-4",children:a.jsx("div",{className:"w-8 h-4 bg-green-600 rounded-full flex items-center",children:a.jsx("div",{className:"w-3 h-3 bg-white rounded-full ml-4 transform transition-transform"})})})]}),a.jsxs("div",{className:"flex items-start justify-between p-3 bg-dark-primary rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-white",children:"Analytics"}),a.jsx("span",{className:"px-2 py-0.5 bg-blue-600/20 text-blue-400 text-xs rounded",children:"Optional"})]}),a.jsx("p",{className:"text-xs text-gray-400",children:"Google Analytics helps us understand which codecs are popular and improve the calculator. All data is anonymized."})]}),a.jsx("div",{className:"ml-4",children:a.jsx("button",{onClick:()=>o(p=>({...p,analytics:!p.analytics})),className:`w-8 h-4 rounded-full flex items-center transition-colors ${i.analytics?"bg-blue-600":"bg-gray-600"}`,children:a.jsx("div",{className:`w-3 h-3 bg-white rounded-full transform transition-transform ${i.analytics?"translate-x-4":"translate-x-0.5"}`})})})]}),a.jsxs("div",{className:"flex items-start justify-between p-3 bg-dark-primary rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-white",children:"Preferences"}),a.jsx("span",{className:"px-2 py-0.5 bg-purple-600/20 text-purple-400 text-xs rounded",children:"Optional"})]}),a.jsx("p",{className:"text-xs text-gray-400",children:"Remembers your custom presets, unit preferences, and interface settings for a better experience."})]}),a.jsx("div",{className:"ml-4",children:a.jsx("button",{onClick:()=>o(p=>({...p,preferences:!p.preferences})),className:`w-8 h-4 rounded-full flex items-center transition-colors ${i.preferences?"bg-purple-600":"bg-gray-600"}`,children:a.jsx("div",{className:`w-3 h-3 bg-white rounded-full transform transition-transform ${i.preferences?"translate-x-4":"translate-x-0.5"}`})})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between space-y-3 sm:space-y-0 sm:space-x-4 pt-4 border-t border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>s(!r),className:"flex items-center space-x-2 text-sm text-blue-400 hover:text-blue-300 transition-colors",children:[a.jsx(ks,{className:"h-4 w-4"}),a.jsxs("span",{children:[r?"Hide":"Customize"," Settings"]})]}),a.jsxs(Ee,{to:"/privacy",className:"flex items-center space-x-1 text-sm text-gray-400 hover:text-gray-300 transition-colors",children:[a.jsx(ou,{className:"h-4 w-4"}),a.jsx("span",{children:"Privacy Policy"}),a.jsx(yw,{className:"h-3 w-3"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:d,className:"px-4 py-2 text-sm bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Reject All"}),r&&a.jsx("button",{onClick:u,className:"px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Save Preferences"}),a.jsx("button",{onClick:c,className:"px-4 py-2 text-sm bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors font-medium",children:"Accept All"})]})]})]})]})})})]}):null},PA=({isVisible:t,onClose:e})=>(R.useEffect(()=>{if(t){const n=setTimeout(()=>{e()},5e3);return()=>clearTimeout(n)}},[t,e]),t?a.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm animate-in",children:a.jsxs("div",{className:"bg-blue-600/10 border border-blue-600/30 rounded-lg p-4 shadow-lg backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zn,{className:"h-4 w-4 text-blue-400 flex-shrink-0"}),a.jsx("span",{className:"text-sm font-medium text-blue-400",children:"Privacy Notice"})]}),a.jsx("button",{onClick:n=>{n.preventDefault(),n.stopPropagation(),e()},className:"text-gray-400 hover:text-white transition-colors p-1 rounded hover:bg-gray-700/50",title:"Close notice",children:a.jsx(Yr,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-xs text-gray-300 leading-relaxed",children:"Your calculations are processed locally in your browser. We use cookies to remember your preferences and Google Analytics to improve our service. You can manage these settings anytime."}),a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Yn,{className:"h-3 w-3 text-blue-400"}),a.jsx("span",{className:"text-xs text-blue-400",children:"GDPR Compliant"})]}),a.jsx("button",{onClick:e,className:"text-xs text-gray-400 hover:text-gray-300 transition-colors",children:"Dismiss"})]})]})}):null);class RA extends R.Component{constructor(){super(...arguments);Mn(this,"state",{hasError:!1});Mn(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r)}render(){var n;return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-dark-primary flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md px-4",children:[a.jsx(Ss,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-400 text-sm mb-6",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:this.handleRetry,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white transition-colors mx-auto",children:[a.jsx(Un,{className:"h-4 w-4"}),a.jsx("span",{children:"Try Again"})]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"block px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg text-white transition-colors mx-auto",children:"Reload Page"})]})]})}):this.props.children}}const DA=R.createContext(void 0),VA=({children:t})=>{const r=async()=>Promise.resolve(),s=()=>{};return a.jsx(DA.Provider,{value:{user:null,isLoading:!1,signIn:r,signOut:s},children:t})},OA=()=>{const t=Ui();R.useEffect(()=>{const e=t.pathname+t.search,n=MA(t.pathname);st.trackPageView(e,n)},[t])},MA=t=>{switch(t){case"/":return"Video File Size Calculator";case"/admin":return"Admin Panel - Video Calculator";case"/about":return"About - Video Calculator";case"/codec-data":return"Codec Database - Video Calculator";case"/privacy":return"Privacy Policy - Video Calculator";default:return"Video Calculator"}};console.log("App component loaded");const LA=()=>(OA(),a.jsx("div",{className:"min-h-screen bg-dark-primary text-white",children:a.jsxs(L2,{children:[a.jsx(Gs,{path:"/",element:a.jsx(xA,{})}),a.jsx(Gs,{path:"/admin",element:a.jsx(SA,{})}),a.jsx(Gs,{path:"/about",element:a.jsx(kA,{})}),a.jsx(Gs,{path:"/codec-data",element:a.jsx(CA,{})}),a.jsx(Gs,{path:"/privacy",element:a.jsx(jA,{})})]})}));function FA(){const[t,e]=R.useState(!1),[n,r]=R.useState(!1),s=o=>{console.log("GDPR consent accepted, initializing app",o),ui.updatePreferences(o),st.reinitializeWithConsent(),!n&&(o.analytics||o.preferences)&&(e(!0),r(!0),setTimeout(()=>e(!1),5e3))},i=()=>{e(!1)};return R.useEffect(()=>{ui.hasConsent()&&ui.needsConsentRenewal()&&ui.resetConsent()},[]),a.jsx(RA,{children:a.jsx(VA,{children:a.jsx(fA,{children:a.jsx(mA,{children:a.jsxs(q2,{children:[a.jsx(LA,{}),a.jsx(AA,{onAccept:s}),a.jsx(PA,{isVisible:t,onClose:i})]})})})})})}console.log("Main entry loaded");const B0=document.getElementById("root");B0&&nw(B0).render(a.jsx(R.StrictMode,{children:a.jsx(FA,{})}));
